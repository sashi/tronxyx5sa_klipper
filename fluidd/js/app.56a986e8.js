(()=>{var e={83737:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>P});var a=s(83694),r=s(34145),i=s(54886),n=s(34061),o=s(65005),l=s(4324),c=s(13687),p=s(78704),d=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(n.Z,{attrs:{value:e.value,"max-width":320,persistent:""},on:{input:function(t){return e.$emit("input",t)}}},[t(o.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.addInstance()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(r.Z,[t(i.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.general.title.add_printer")))]),t(c.Z),t("app-inline-help",{attrs:{bottom:""}},[t("span",{domProps:{innerHTML:e._s(e.$t("app.endpoint.tooltip.endpoint_examples"))}})])],1),t(i.ZB,{staticClass:"mt-4"},[t("span",{domProps:{innerHTML:e._s(e.helpTxt)}}),t(p.Z,{attrs:{autofocus:"",label:e.$t("app.general.label.api_url"),"persistent-hint":"",hint:e.$t("app.endpoint.hint.add_printer"),loading:e.verifying,rules:[e.rules.required,e.rules.url]},scopedSlots:e._u([{key:"append-outer",fn:function(){return[e.verifying?t(l.Z,{staticClass:"spin",attrs:{color:"primary"}},[e._v(" $loading ")]):e._e(),e.verified||e.verifying?e._e():t(l.Z,{attrs:{color:"error"}},[e._v(" $cloudAlert ")]),e.verified&&!e.verifying?t(l.Z,{attrs:{color:"success"}},[e._v(" $cloudCheck ")]):e._e()]},proxy:!0}]),model:{value:e.url,callback:function(t){e.url=t},expression:"url"}}),e.error?t(a.Z,{staticClass:"mt-3 mb-2",attrs:{dense:"",text:"",type:"error"},domProps:{innerHTML:e._s(e.error)}}):e._e(),e.note?t("p",{staticClass:"mb-0",domProps:{innerHTML:e._s(e.note)}}):e._e()],1),t(i.h7,[t(c.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),t("app-btn",{attrs:{color:"primary",type:"submit",disabled:!e.verified}},[e._v(" "+e._s(e.$t("app.general.btn.save"))+" ")])],1)],1)],1)],1)},u=[],m=s(70655),h=s(23940),g=s(77021),f=s(36796),v=s(9669),_=s.n(v),y=s(84496),b=s(92206),x=s(44652),$=s.n(x);let w=class extends((0,h.Wr)(y.Z)){constructor(){super(...arguments),this.waits=f.hw,this.valid=!0,this.verifying=!1,this.verified=!1,this.error=null,this.note=null,this.rules={required:e=>!!e||this.$t("app.general.simple_form.error.required"),url:e=>this.validUrl(e)||this.$t("app.general.simple_form.error.invalid_url")},this.timer=0,this.url="",this.cancelSource=void 0,this.controller=void 0}validUrl(e){try{this.buildUrl(e)}catch{return!1}return!0}buildUrl(e){return e.startsWith("http://")||e.startsWith("https://")||(e=`http://${e}`),new URL(e)}onUrlChange(e,t){e!==t&&this.valid&&this.handleUrlChange(e)}async handleUrlChange(e){if(this.valid){this.verified=!1,this.error=null,this.note=null,this.verifying=!0;const t=this.buildUrl(e);void 0!==this.cancelSource&&this.cancelSource.cancel("Cancelled due to new request."),this.cancelSource=_().CancelToken.source();const s=await g.Z.get(t+"server/info?t="+(new Date).getTime(),{withAuth:!1,cancelToken:this.cancelSource.token}).then((()=>(this.verified=!0,this.verifying=!1,"ok"))).catch((e=>{var t;return _().isCancel(e)?"ok":401===(null===(t=e.response)||void 0===t?void 0:t.status)?(this.verified=!0,this.verifying=!1,"ok"):e.request?e.message:(this.error=e,"ok")}));if("ok"!==s){void 0!==this.controller&&this.controller.abort(),this.controller=new AbortController;const{signal:e}=this.controller;await fetch(t+"server/info",{signal:e,mode:"no-cors",cache:"no-cache"}).then((()=>{this.error=this.$t("app.endpoint.error.cors_error"),this.note=this.$t("app.endpoint.error.cors_note",{url:f.OH.DOCS_MULTIPLE_INSTANCES})})).catch((e=>{$().debug("Network Error",e,s),this.error=s,this.note=this.$t("app.endpoint.error.cant_connect")})).finally((()=>{this.verifying=!1}))}}}get helpTxt(){return this.$t("app.endpoint.msg.trouble",{url:f.OH.DOCS_MULTIPLE_INSTANCES})}addInstance(){if(this.valid){const e=this.buildUrl(this.url),t=this.$filters.getApiUrls(e.toString());this.$emit("input",!1),this.$emit("resolve",t)}}};(0,m.gn)([(0,h.fI)({type:Boolean,required:!0})],w.prototype,"value",void 0),(0,m.gn)([(0,h.Rl)("form")],w.prototype,"form",void 0),(0,m.gn)([(0,h.RL)("url")],w.prototype,"onUrlChange",null),(0,m.gn)([(0,b.K)(750)],w.prototype,"handleUrlChange",null),w=(0,m.gn)([(0,h.wA)({})],w);const S=w,k=S;var C=s(1001),Z=(0,C.Z)(k,d,u,!1,null,null,null);const P=Z.exports},71619:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(83694),r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{attrs:{text:"",dense:"",icon:"$warning",type:"warning"}},[e.printerWarnings.length>0?t("div",[t("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.$t("app.general.error.app_warnings_found",{appName:e.appName}))+" ")]),t("ul",{staticClass:"mb-4"},e._l(e.printerWarnings,(function(s,a){return t("li",{key:a,domProps:{innerHTML:e._s(e.linkExternalUrls(s.message))}})})),0)]):e._e(),e.klipperWarnings.length>0?t("div",[t("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.$t("app.general.error.app_warnings_found",{appName:"Klipper"}))+" ")]),t("ul",{staticClass:"mb-4"},e._l(e.klipperWarnings,(function(s,a){return t("li",{key:a,domProps:{innerHTML:e._s(e.linkExternalUrls(s.message))}})})),0)]):e._e(),e.moonrakerFailedComponents.length>0?t("div",[t("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.$t("app.general.error.failed_components"))+" ")]),t("ul",{staticClass:"mb-4"},e._l(e.moonrakerFailedComponents,(function(s,a){return t("li",{key:a,domProps:{innerHTML:e._s(e.linkExternalUrls(s))}})})),0)]):e._e(),e.moonrakerWarnings.length>0?t("div",[t("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.$t("app.general.error.app_warnings_found",{appName:"Moonraker"}))+" ")]),t("ul",{staticClass:"mb-4"},e._l(e.moonrakerWarnings,(function(s,a){return t("li",{key:a,domProps:{innerHTML:e._s(e.linkExternalUrls(s))}})})),0)]):e._e(),e.printerWarnings.length>0?t("div",[t("span",{domProps:{innerHTML:e._s(e.printerWarningsTxt)}})]):e._e(),e.moonrakerFailedComponents.length>0?t("div",[t("span",{domProps:{innerHTML:e._s(e.moonrakerFailedComponentsTxt)}})]):e._e()])},i=[],n=s(70655),o=s(23940),l=s(84496),c=s(36796);const p=/(https?:\/\/[^\s]+)/gi,d=e=>e.replace(p,'<a target="_blank" href="$1">$1</a>'),u=d;let m=class extends((0,o.Wr)(l.Z)){constructor(){super(...arguments),this.linkExternalUrls=u}get docsUrl(){return c.OH.DOCS_REQUIRED_CONFIGURATION}get moonrakerDocsUrl(){return c.OH.DOCS_MOONRAKER_COMPONENTS}get printerWarningsTxt(){return this.$t("app.general.error.app_setup_link",{url:this.docsUrl})}get moonrakerFailedComponentsTxt(){return this.$t("app.general.error.components_config",{url:this.moonrakerDocsUrl})}get appName(){return c.OH.APP_NAME}get printerWarnings(){return this.$store.getters["printer/getPrinterWarnings"]}get klipperWarnings(){return this.$store.getters["printer/getKlipperWarnings"]}get moonrakerFailedComponents(){return this.$store.getters["printer/getMoonrakerFailedComponents"]}get moonrakerWarnings(){return this.$store.getters["printer/getMoonrakerWarnings"]}};m=(0,n.gn)([(0,o.wA)({components:{}})],m);const h=m,g=h;var f=s(1001),v=(0,f.Z)(g,r,i,!1,null,null,null);const _=v.exports},61009:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var a=s(34145),r=s(54886),i=s(60266),n=s(34061),o=s(99223),l=s(65005),c=s(29592),p=s(11713),d=s(13687),u=s(78704),m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(n.Z,{attrs:{value:e.value,"max-width":450,scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[t(l.Z,{on:{submit:function(t){return t.preventDefault(),e.sendAccept.apply(null,arguments)}}},[t(a.Z,[t(r.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.tool.title.bed_screws_adjust")))])]),t(o.Z),t(r.ZB,[t(p.Z,[t(i.Z,[t(u.Z,{attrs:{label:e.$t("app.general.label.screw_name"),outlined:"","hide-details":"",dense:"",disabled:"",value:e.currentScrewName}})],1)],1),t(p.Z,[t(i.Z,[t(u.Z,{attrs:{label:e.$t("app.general.label.screw_index"),outlined:"","hide-details":"",dense:"",disabled:"",value:e.$t("app.general.label.partial_of_total",{partial:e.currentScrewIndex+1,total:e.bedScrews.length})}})],1)],1),t(p.Z,[t(i.Z,[t(u.Z,{attrs:{label:e.$t("app.general.label.accepted_screws"),outlined:"","hide-details":"",dense:"",disabled:"",value:e.$t("app.general.label.partial_of_total",{partial:e.acceptedScrews,total:e.bedScrews.length})}})],1)],1),t(p.Z,[t(i.Z,{staticClass:"text-subtitle-1 text-center"},[t("span",{domProps:{innerHTML:e._s(e.$t("app.general.msg.bed_screws_adjust"))}})])],1),t(c.Z,{staticClass:"mt-2",attrs:{value:e.acceptedScrews/e.bedScrews.length*100}})],1),t(r.h7,[t(d.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:e.sendAbort}},[e._v(" "+e._s(e.$t("app.general.btn.abort"))+" ")]),t("app-btn",{attrs:{loading:e.hasWait(e.$waits.onBedScrewsAdjust),color:"primary",text:"",type:"button"},on:{click:e.sendAdjusted}},[e._v(" "+e._s(e.$t("app.general.btn.adjusted"))+" ")]),t("app-btn",{attrs:{loading:e.hasWait(e.$waits.onBedScrewsAdjust),color:"primary",elevation:2,type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.accept"))+" ")])],1)],1)],1)],1)},h=[],g=s(70655),f=s(23940),v=s(84496),_=s(28311),y=s(54003);let b=class extends((0,f.Wr)(v.Z,_.Z)){get bedScrews(){return this.$store.getters["printer/getBedScrews"]}get bedScrewsAdjust(){return this.$store.state.printer.printer.bed_screws}get currentState(){return this.bedScrewsAdjust.state||" "}get currentScrewIndex(){return this.bedScrewsAdjust.current_screw}get currentScrewName(){return(0,y.Z)(this.bedScrews[this.currentScrewIndex].name||this.$t("app.general.label.screw_number",{index:this.currentScrewIndex+1}))}get currentScrewPosition(){const[e,t]=this.bedScrews[this.currentScrewIndex][this.currentState];return`${e}, ${t}`}get acceptedScrews(){return this.bedScrewsAdjust.accepted_screws}onBedScrewsAdjustActive(e){e||this.$emit("input",!1)}sendAbort(){this.sendGcode("ABORT",this.$waits.onBedScrewsAdjust),this.$emit("input",!1)}sendAdjusted(){this.sendGcode("ADJUSTED",this.$waits.onBedScrewsAdjust)}sendAccept(){this.sendGcode("ACCEPT",this.$waits.onBedScrewsAdjust)}};(0,g.gn)([(0,f.fI)({type:Boolean,default:!1})],b.prototype,"value",void 0),(0,g.gn)([(0,f.RL)("isBedScrewsAdjustActive")],b.prototype,"onBedScrewsAdjustActive",null),b=(0,g.gn)([(0,f.wA)({})],b);const x=b,$=x;var w=s(1001),S=(0,w.Z)($,m,h,!1,null,null,null);const k=S.exports},98815:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(34145),r=s(54886),i=s(60266),n=s(99223),o=s(77394),l=s(4324),c=s(11713),p=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{class:e._cardClasses,attrs:{rounded:e.rounded,loading:e.isLoading,color:e.color}},[t(r.EB,{staticClass:"collapsable-card-title card-heading",class:{draggable:e.inLayout}},[t(c.Z,{staticClass:"flex-nowrap",attrs:{"no-gutters":""}},[t(i.Z,{staticClass:"text-no-wrap",attrs:{"align-self":"center"}},[e._t("title",(function(){return[t(l.Z,{attrs:{left:""}},[e._v(" "+e._s(e.icon)+" ")]),t("span",{staticClass:"font-weight-light"},[e._v(e._s(e.title))])]}))],2),e.inLayout?e._e():t(i.Z,{attrs:{cols:"auto","align-self":"center"}},[e._t("menu")],2),t(i.Z,{attrs:{cols:"auto","align-self":"center"}},[e._t("collapse-button",(function(){return[e._collapsable||e.inLayout?t("app-btn-collapse",{attrs:{collapsed:e.isCollapsed,enabled:e.isEnabled,"in-layout":e.inLayout},on:{"update:collapsed":function(t){e.isCollapsed=t},"update:enabled":function(t){e.isEnabled=t}}}):e._e()]}))],2)],1)],1),e.lazy?e._e():t(o.Fx,[e.isCollapsed||e.inLayout?e._e():t("div",{class:e._contentClasses,style:e._contentStyles,attrs:{id:"card-content"},on:{transitionend:e.transitionEvent}},[e.subTitle||e.hasSubTitleSlot?t(r.Qq,{staticClass:"py-2"},[e._t("sub-title",(function(){return[t("span",{domProps:{innerHTML:e._s(e.subTitle)}})]}))],2):e._e(),e.subTitle||e.hasSubTitleSlot?t(n.Z):e._e(),e._t("default")],2)]),e.lazy?t(o.Fx,[t("div",{directives:[{name:"show",rawName:"v-show",value:!e.isCollapsed&&!e.inLayout,expression:"!isCollapsed && !inLayout"}],class:e._contentClasses,style:e._contentStyles,attrs:{id:"card-content"},on:{transitionend:e.transitionEvent}},[e.subTitle||e.hasSubTitleSlot?t(r.Qq,{staticClass:"py-2"},[e._t("subTitle",(function(){return[t("span",{domProps:{innerHTML:e._s(e.subTitle)}})]}))],2):e._e(),e.subTitle||e.hasSubTitleSlot?t(n.Z):e._e(),e._t("default")],2)]):e._e()],1)},d=[],u=(s(21703),s(70655)),m=s(23940);let h=class extends m.w3{constructor(){super(...arguments),this.baseCardClasses={"collapsable-card":!0},this.baseContentClasses=""}get _cardClasses(){const e={};return this.cardClasses&&this.cardClasses.split(" ").forEach((t=>{e[t]=!0})),{...e,...this.baseCardClasses,collapsed:this.isCollapsed}}get _contentClasses(){return this.contentClasses?this.contentClasses:this.baseContentClasses}get _contentStyles(){return this.height?`height: calc(${this.height}px - 49px);`:""}get _collapsable(){return!!this.collapsable&&(!!this.layout&&this.collapsable)}get _layoutPath(){if(this.layoutPath){if(this.layoutPath.includes(".")){const e=this.layoutPath.split(".");let t=e[0];return"dashboard"===t&&(t=this.$store.getters["layout/getSpecificLayoutName"]),{name:t,id:e[1]}}throw new Error("invalid layout path")}}get layout(){if(this._layoutPath)return this.$store.getters["layout/getConfig"](this._layoutPath.name,this._layoutPath.id)}get menuClasses(){return`d-none d-${this.menuBreakpoint}-flex`}get isLoading(){return!!this.loading&&"primary"}get isCollapsed(){return!!this.collapsable&&(!!this.layout&&this.layout.collapsed)}set isCollapsed(e){const t=this.layout;t&&this._layoutPath&&(t.collapsed=e,this.$store.dispatch("layout/onUpdateConfig",{name:this._layoutPath.name,value:t}))}isCollapsedChange(e){this.$emit("collapsed",e)}get isEnabled(){return!this.layout||this.layout.enabled}set isEnabled(e){const t=this.layout;t&&this._layoutPath&&(t.enabled=e,this.$store.dispatch("layout/onUpdateConfig",{name:this._layoutPath.name,value:t}))}get inLayout(){return this.$store.state.config.layoutMode&&this.draggable}get hasDefaultSlot(){return!!this.$slots.default||!!this.$scopedSlots.default}get hasTitleSlot(){return!!this.$slots.title||!!this.$scopedSlots.title}get hasSubTitleSlot(){return!!this.$slots["sub-title"]||!!this.$scopedSlots["sub-title"]}get hasCollapseButtonSlot(){return!!this.$slots["collapse-button"]||!!this.$scopedSlots["collapse-button"]}mounted(){this.$emit("collapsed",this.isCollapsed),this.hasCollapseButtonSlot}onCollapseChange(e){this.isCollapsed=e}onLayoutEnabled(e){this.$emit("enabled",e)}transitionEvent(e){if(e.target&&e.target){const t=e.target;"card-content"===t.id&&this.$emit("transition-end")}}};(0,u.gn)([(0,m.fI)({type:String,required:!0})],h.prototype,"title",void 0),(0,u.gn)([(0,m.fI)({type:String})],h.prototype,"color",void 0),(0,u.gn)([(0,m.fI)({type:String,required:!1})],h.prototype,"subTitle",void 0),(0,u.gn)([(0,m.fI)({type:String})],h.prototype,"layoutPath",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!0})],h.prototype,"lazy",void 0),(0,u.gn)([(0,m.fI)({type:String,required:!1})],h.prototype,"icon",void 0),(0,u.gn)([(0,m.fI)({type:String,required:!1})],h.prototype,"iconColor",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!1})],h.prototype,"loading",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!1})],h.prototype,"draggable",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!0})],h.prototype,"collapsable",void 0),(0,u.gn)([(0,m.fI)({type:String,default:"md"})],h.prototype,"rounded",void 0),(0,u.gn)([(0,m.fI)({type:[Number,String],required:!1})],h.prototype,"height",void 0),(0,u.gn)([(0,m.fI)({type:String,default:"lg"})],h.prototype,"menuBreakpoint",void 0),(0,u.gn)([(0,m.fI)({type:String})],h.prototype,"cardClasses",void 0),(0,u.gn)([(0,m.fI)({type:String})],h.prototype,"contentClasses",void 0),(0,u.gn)([(0,m.RL)("isCollapsed")],h.prototype,"isCollapsedChange",null),h=(0,u.gn)([(0,m.wA)({})],h);const g=h,f=g;var v=s(1001),_=(0,v.Z)(f,p,d,!1,null,null,null);const y=_.exports},47910:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(89258),r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{attrs:{color:e.type,timeout:e.timeout,elevation:"24","multi-line":"",top:"",centered:""},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[t("app-btn",e._b({attrs:{dark:""},on:{click:function(t){e.open=!1}}},"app-btn",s,!1),[e._v(" "+e._s(e.$t("app.general.btn.close"))+" ")])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[t("span",{domProps:{innerHTML:e._s(e.text)}})])},i=[],n=s(70655),o=s(20144),l=s(23940);let c=class extends o["default"]{get open(){return this.$props.value}set open(e){this.$emit("input",e)}};(0,n.gn)([(0,l.fI)({type:Boolean})],c.prototype,"value",void 0),(0,n.gn)([(0,l.fI)({type:String,default:"dark"})],c.prototype,"type",void 0),(0,n.gn)([(0,l.fI)({type:String,default:"Saved!"})],c.prototype,"text",void 0),(0,n.gn)([(0,l.fI)({type:Number,default:1500})],c.prototype,"timeout",void 0),c=(0,n.gn)([(0,l.wA)({})],c);const p=c,d=p;var u=s(1001),m=(0,u.Z)(d,r,i,!1,null,"1b38e2d0",null);const h=m.exports},53594:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(83694),r=s(54886),i=s(60266),n=s(11713),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:`Klippy: ${e.klippyState}`,icon:"$error","icon-color":"error"}},[t(r.ZB,[t(n.Z,[t(i.Z,{attrs:{cols:"12",sm:"auto"}},[t("system-control")],1),t(i.Z,{attrs:{cols:"12",sm:""}},["Printer is ready"!==e.klippyStateMessage?t(a.Z,{attrs:{text:"",dense:"",type:"error"}},[t("span",{domProps:{innerHTML:e._s(e.klippyStateMessage)}})]):e._e(),e.hasWarnings?t("app-warnings"):e._e()],1)],1)],1)],1)},l=[],c=s(70655),p=s(23940),d=s(84496);let u=class extends((0,p.Wr)(d.Z)){};u=(0,c.gn)([(0,p.wA)({})],u);const m=u,h=m;var g=s(1001),f=(0,g.Z)(h,o,l,!1,null,null,null);const v=f.exports},83370:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(34145),r=s(54886),i=s(60266),n=s(34061),o=s(99223),l=s(65005),c=s(4324),p=s(11713),d=s(13687),u=s(78704),m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(n.Z,{attrs:{value:e.value,"max-width":450,scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[t(l.Z,{on:{submit:function(t){return t.preventDefault(),e.sendAccept.apply(null,arguments)}}},[t(a.Z,[t(r.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.tool.title.manual_probe")))])]),t(o.Z),t(r.ZB,[t(p.Z,[t(i.Z,[t(u.Z,{attrs:{label:"Z Min",outlined:"","hide-details":"",dense:"",disabled:"",value:e.zPositionLower}})],1),t(i.Z,[t(u.Z,{attrs:{label:"Z",outlined:"","hide-details":"",dense:"",disabled:"",value:e.zPosition}})],1),t(i.Z,[t(u.Z,{attrs:{label:"Z Max",outlined:"","hide-details":"",dense:"",disabled:"",value:e.zPositionUpper}})],1)],1),t(p.Z,{staticClass:"bysect-row"},[t(i.Z,{attrs:{cols:"3",offset:"1"}},[t("app-btn-group",[t("app-btn",{attrs:{disabled:!e.klippyReady||e.printerPrinting,color:"primary"},on:{click:function(t){return e.sendTestZ("--")}}},[e._v(" -- ")]),t("app-btn",{attrs:{disabled:!e.klippyReady||e.printerPrinting,color:"primary"},on:{click:function(t){return e.sendTestZ("-")}}},[e._v(" - ")])],1)],1),t(i.Z,{attrs:{cols:"3",offset:"4"}},[t("app-btn-group",[t("app-btn",{attrs:{disabled:!e.klippyReady||e.printerPrinting,color:"primary"},on:{click:function(t){return e.sendTestZ("+")}}},[e._v(" + ")]),t("app-btn",{attrs:{disabled:!e.klippyReady||e.printerPrinting,color:"primary"},on:{click:function(t){return e.sendTestZ("++")}}},[e._v(" ++ ")])],1)],1)],1),e._l(e.offsets,(function(s){return t(p.Z,{key:s,staticClass:"offset-row"},[t(i.Z,{attrs:{cols:"3",offset:"1"}},[t("app-btn",{attrs:{disabled:!e.klippyReady||e.printerPrinting,color:"primary"},on:{click:function(t){return e.sendTestZ(`-${s}`)}}},[t(c.Z,[e._v(" $minus ")])],1)],1),t(i.Z,{attrs:{cols:"4"}},[t("div",{staticClass:"v-btn v-size--default btncolor"},[e._v(" "+e._s(s)+" ")])]),t(i.Z,{attrs:{cols:"3"}},[t("app-btn",{attrs:{disabled:!e.klippyReady||e.printerPrinting,color:"primary"},on:{click:function(t){return e.sendTestZ(`+${s}`)}}},[t(c.Z,[e._v(" $plus ")])],1)],1)],1)}))],2),t(r.h7,[t(d.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:e.sendAbort}},[e._v(" "+e._s(e.$t("app.general.btn.abort"))+" ")]),t("app-btn",{attrs:{loading:e.hasWait(e.$waits.onManualProbe),color:"primary",elevation:2,type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.accept"))+" ")])],1)],1)],1)],1)},h=[],g=s(70655),f=s(23940),v=s(84496),_=s(28311);let y=class extends((0,f.Wr)(v.Z,_.Z)){get offsets(){return[1,.1,...this.$store.state.config.uiSettings.general.zAdjustDistances].sort(((e,t)=>t-e))}get manualProbe(){return this.$store.state.printer.printer.manual_probe}get zPositionLower(){var e;return(null===(e=this.manualProbe.z_position_lower)||void 0===e?void 0:e.toFixed(3))||" "}get zPosition(){var e;return(null===(e=this.manualProbe.z_position)||void 0===e?void 0:e.toFixed(3))||" "}get zPositionUpper(){var e;return(null===(e=this.manualProbe.z_position_upper)||void 0===e?void 0:e.toFixed(3))||" "}onIsManualProbeActive(e){e||this.$emit("input",!1)}sendTestZ(e){this.sendGcode(`TESTZ Z=${e}`)}sendAbort(){this.sendGcode("ABORT",this.$waits.onManualProbe),this.$emit("input",!1)}sendAccept(){this.sendGcode("ACCEPT",this.$waits.onManualProbe)}};(0,g.gn)([(0,f.fI)({type:Boolean,default:!1})],y.prototype,"value",void 0),(0,g.gn)([(0,f.RL)("isManualProbeActive")],y.prototype,"onIsManualProbeActive",null),y=(0,g.gn)([(0,f.wA)({})],y);const b=y,x=b;var $=s(1001),w=(0,$.Z)(x,m,h,!1,null,"18e0f2bf",null);const S=w.exports},79477:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(60266),r=s(69256),i=s(29592),n=s(11713),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(r.Z,{staticStyle:{height:"400px"}},[t(n.Z,{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center"}},[t(a.Z,{staticClass:"subtitle-1 text-center",attrs:{cols:"12"}},[e.activeInstance?t("div",[e._v(" "+e._s(e.activeInstance.apiUrl)+" ")]):e._e(),e.socketConnecting?t("span",[e._v(e._s(e.$t("app.socket.msg.connecting")))]):e._e(),e.socketConnecting?e._e():t("span",[e._v(e._s(e.$t("app.socket.msg.no_connection")))])]),t(a.Z,{attrs:{cols:"6",lg:"4"}},[e.socketConnecting?t(i.Z,{staticClass:"mb-4",attrs:{color:"warning",indeterminate:"",rounded:"",height:"6"}}):e._e(),e.socketConnecting?e._e():t("app-btn",{staticClass:"me-2 mb-2",attrs:{block:"",color:"info"},on:{click:function(t){return e.reconnect()}}},[e._v(" "+e._s(e.$t("app.general.btn.socket_reconnect"))+" ")]),t("app-btn",{staticClass:"me-2 mb-2",attrs:{block:"",color:"warning"},on:{click:function(t){return e.reload()}}},[e._v(" "+e._s(e.$t("app.general.btn.socket_refresh"))+" ")])],1)],1)],1)},l=[],c=s(70655),p=s(23940),d=s(72505),u=s(84496);let m=class extends((0,p.Wr)(u.Z)){reload(){window.location.reload()}get instances(){return this.$store.getters["config/getInstances"]}get activeInstance(){return this.instances.find((e=>e.active))}reconnect(e){(0,d.J)(e,this.$store.state.config.hostConfig).then((e=>{e.apiConfig.socketUrl&&e.apiConnected&&e.apiAuthenticated&&this.$socket.connect(e.apiConfig.socketUrl)}))}};m=(0,c.gn)([(0,p.wA)({components:{}})],m);const h=m,g=h;var f=s(1001),v=(0,f.Z)(g,o,l,!1,null,null,null);const _=v.exports},57388:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(90903),r=s(99223),i=s(4324),n=s(87397),o=s(54525),l=s(45187),c=s(66105),p=s(74611),d=s(82082),u=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(n.Z,{attrs:{"prepend-icon":"$host","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[t(c.km,[t(c.V9,[e._v(e._s(e.$t("app.general.label.host")))])],1)]},proxy:!0}])},[t(o.Z,{attrs:{disabled:e.printerPrinting},on:{click:e.handleHostReboot}},[t(c.V9,[e._v(e._s(e.$t("app.general.btn.reboot")))]),t(p.Z,[t(i.Z,{attrs:{color:"error"}},[e._v(" $powerCycle ")])],1)],1),t(o.Z,{attrs:{disabled:e.printerPrinting},on:{click:e.handleHostShutdown}},[t(c.V9,[e._v(e._s(e.$t("app.general.btn.shutdown")))]),t(p.Z,[t(i.Z,{attrs:{color:"error"}},[e._v(" $power ")])],1)],1)],1),e.devicePowerComponentEnabled?t(n.Z,{attrs:{"prepend-icon":"$power","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[t(c.km,[t(c.V9,[e._v(e._s(e.$t("app.general.label.power")))])],1)]},proxy:!0}],null,!1,2074444020)},e._l(e.powerDevices,(function(s,a){return t(o.Z,{key:a,attrs:{disabled:"error"===s.status||"init"===s.status||e.printerPrinting&&s.locked_while_printing,loading:e.hasWait(`${e.waits.onDevicePowerToggle}${s.device}`)},on:{click:function(t){return e.togglePowerDevice(s,`${e.waits.onDevicePowerToggle}${s.device}`)}}},[t(c.V9,[e._v(e._s(e.getPowerButtonText(s)))]),t(p.Z,[t(i.Z,[e._v(e._s(e.getPowerIcon(s)))])],1)],1)})),1):e._e(),t(n.Z,{attrs:{"prepend-icon":"$restart","no-action":""},scopedSlots:e._u([{key:"activator",fn:function(){return[t(c.km,[t(c.V9,[e._v(e._s(e.$t("app.general.label.services")))])],1)]},proxy:!0}])},[e._l(e.services,(function(s){return[t(o.Z,{key:s.name},[t(c.km,[t(c.V9,[t(d.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[t("span",e._g(e._b({staticClass:"text-wrap",staticStyle:{"text-transform":"capitalize"}},"span",r,!1),a),[e._v(e._s(s.name))])]}}],null,!0)},[t("span",{staticStyle:{"text-transform":"capitalize"}},[e._v(e._s(s.active_state)+" ("+e._s(s.sub_state)+")")])])],1)],1),t(l.Z,["inactive"===s.active_state?t(a.Z,{attrs:{icon:""},on:{click:function(t){return e.checkDialog(e.serviceStart,s,"start")}}},[t(i.Z,[e._v("$play")])],1):t(a.Z,{attrs:{icon:""},on:{click:function(t){return e.checkDialog(e.serviceRestart,s,"restart")}}},[t(i.Z,{attrs:{color:"warning"}},[e._v(" $restart ")])],1),t(a.Z,{style:"moonraker"===s.name?"visibility: hidden;":"",attrs:{icon:"",disabled:"inactive"===s.active_state},on:{click:function(t){return e.checkDialog(e.serviceStop,s,"stop")}}},[t(i.Z,{attrs:{color:"error"}},[e._v(" $stop ")])],1)],1)],1)]}))],2),t(r.Z)],1)},m=[],h=s(70655),g=s(23940),f=s(84496),v=s(10997),_=s(61726);let y=class extends((0,g.Wr)(f.Z,v.Z)){get serverInfo(){return this.$store.getters["server/getInfo"]}get hosted(){return this.$store.state.config.hostConfig.hosted}get powerDevices(){return this.$store.state.power.devices}get devicePowerComponentEnabled(){return this.$store.getters["server/componentSupport"]("power")}get services(){return this.$store.getters["server/getServices"].filter((e=>"klipper_mcu"!==e.name))}async checkDialog(e,t,s){var a;if(this.printerPrinting||["restart","stop"].includes(s)){const r=await this.$confirm(null===(a=this.$t(`app.general.simple_form.msg.confirm_service_${s}`,{name:t.name}))||void 0===a?void 0:a.toString(),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"});r&&(this.$emit("click"),await e(t))}else this.$emit("click"),await e(t)}async serviceRestart(e){await this.serviceRestartByName(e.name)}async serviceStart(e){await this.serviceStartByName(e.name)}async serviceStop(e){await this.serviceStopByName(e.name)}handleHostReboot(){this.$confirm(this.$tc("app.general.simple_form.msg.confirm_reboot_host"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{e&&(this.$emit("click"),this.hostReboot())}))}handleHostShutdown(){this.$confirm(this.$tc("app.general.simple_form.msg.confirm_shutdown_host"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{e&&(this.$emit("click"),this.hostShutdown())}))}async togglePowerDevice(e,t){const s=this.$store.state.config.uiSettings.general.confirmOnPowerDeviceChange;let a=!0;if(s&&(a=await this.$confirm(this.$tc("app.general.simple_form.msg.confirm_power_device_toggle"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"})),a){const s="on"===e.status?"off":"on";_.r.machineDevicePowerToggle(e.device,s,t)}}getPowerIcon(e){switch(e.status){case"error":return"$error";case"init":return"$dots";case"on":return"$powerOn";case"off":return"$powerOff"}}getPowerButtonText(e){switch(e.status){case"error":return`${e.device} [error]`;default:return`${e.device}`}}};y=(0,h.gn)([(0,g.wA)({})],y);const b=y,x=b;var $=s(1001),w=(0,$.Z)(x,u,m,!1,null,"47368b02",null);const S=w.exports},16441:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(4324),r=s(82082),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.klippyConnected?t("div",[t(r.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("app-btn",e._g(e._b({staticClass:"me-2 mb-2",attrs:{block:"",color:"primary"},on:{click:e.restartKlippy}},"app-btn",a,!1),s),[e._v(" "+e._s(e.$t("app.general.btn.restart_service_klipper"))+" ")])]}}],null,!1,3735503835)},[t("span",[e._v(e._s(e.$t("app.general.tooltip.reload_klipper")))])])],1):t("div",[t(r.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("app-btn",e._g(e._b({staticClass:"me-2 mb-2",attrs:{block:"",color:"primary"},on:{click:e.serviceRestartKlipper}},"app-btn",a,!1),s),[e._v(" "+e._s(e.$t("app.general.btn.restart_service_klipper"))+" ")])]}}])},[t("span",[e._v(e._s(e.$t("app.general.tooltip.restart_klipper")))])])],1),e.klippyConnected?t("div",[t(r.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("app-btn",e._g(e._b({staticClass:"me-2 mb-2",attrs:{block:"",color:"primary"},on:{click:e.firmwareRestartKlippy}},"app-btn",a,!1),s),[e._v(" "+e._s(e.$t("app.general.btn.restart_firmware"))+" ")])]}}],null,!1,3161813664)},[t("span",[e._v(e._s(e.$t("app.general.tooltip.reload_restart_klipper")))])])],1):e._e(),t("app-btn",{staticClass:"me-2 mb-2",attrs:{block:""},on:{click:function(t){return e.getKlippyLog()}}},[t(a.Z,{attrs:{left:"",small:""}},[e._v(" $download ")]),e._v(" Klippy.log ")],1),t("app-btn",{staticClass:"me-2 mb-2",attrs:{block:""},on:{click:function(t){return e.getMoonrakerLog()}}},[t(a.Z,{attrs:{left:"",small:""}},[e._v(" $download ")]),e._v(" Moonraker.log ")],1)],1)},n=[],o=s(70655),l=s(23940),c=s(35059),p=s(84496),d=s(10997);let u=class extends((0,l.Wr)(p.Z,c.Z,d.Z)){getKlippyLog(){this.downloadFile("klippy.log","")}getMoonrakerLog(){this.downloadFile("moonraker.log","")}};u=(0,o.gn)([(0,l.wA)({})],u);const m=u,h=m;var g=s(1001),f=(0,g.Z)(h,i,n,!1,null,null,null);const v=f.exports},55754:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>y});var a=s(4324),r=s(65808),i=s(54525),n=s(66105),o=s(74611),l=s(92540),c=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(r.Z,{attrs:{dense:""}},[t(l.Z,[e._v(e._s(e.$t("app.general.label.layout")))]),t(i.Z,{on:{click:function(t){t.preventDefault(),e.layoutMode=!e.layoutMode}}},[t(o.Z,[t(a.Z,[e._v("$apps")])],1),t(n.km,[t(n.V9,{staticClass:"text-wrap"},[e._v(" "+e._s(e.$t("app.general.btn.adjust_layout"))+" ")])],1)],1)],1)},p=[],d=s(70655),u=s(23940),m=s(84496);let h=class extends((0,u.Wr)(m.Z)){get layoutMode(){return this.$store.state.config.layoutMode}set layoutMode(e){this.$store.commit("config/setLayoutMode",e),this.close()}close(){this.$emit("click")}};h=(0,d.gn)([(0,u.wA)({})],h);const g=h,f=g;var v=s(1001),_=(0,v.Z)(f,c,p,!1,null,null,null);const y=_.exports},40025:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(99223),r=s(4324),i=s(65808),n=s(54525),o=s(45187),l=s(66105),c=s(74611),p=s(92540),d=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(i.Z,{attrs:{dense:""}},[t(p.Z,[e._v(e._s(e.$t("app.general.label.printers")))]),e._l(e.instances,(function(s,a){return[t(n.Z,{key:a,class:{"v-item--active v-list-item--active":s.active},attrs:{color:"primary"},on:{click:function(t){return t.stopPropagation(),e.activateInstance(s)}}},[t(l.km,[t(l.V9,[e._v(" "+e._s(s.name)),t("br"),t("small",[e._v(e._s(s.apiUrl))])])],1),s.active?e._e():t(o.Z,[t("app-btn",{attrs:{icon:"",small:"",color:""},on:{click:function(t){return t.stopPropagation(),e.removeInstance(s)}}},[t(r.Z,{attrs:{small:""}},[e._v(" $delete ")])],1)],1)],1)]})),t(n.Z,{on:{click:function(t){return e.addInstanceDialog()}}},[t(c.Z,[t(r.Z,[e._v("$plus")])],1),t(l.km,[t(l.V9,{staticClass:"text-wrap"},[e._v(" "+e._s(e.$t("app.general.btn.add_printer"))+" ")])],1)],1),e.instanceDialogOpen?t("add-instance-dialog",{on:{resolve:e.activateInstance},model:{value:e.instanceDialogOpen,callback:function(t){e.instanceDialogOpen=t},expression:"instanceDialogOpen"}}):e._e(),t(a.Z)],2)},u=[],m=s(70655),h=s(23940),g=s(84496),f=s(72505),v=s(36796);let _=class extends((0,h.Wr)(g.Z)){constructor(){super(...arguments),this.waits=v.hw,this.instanceDialogOpen=!1}get instanceName(){return this.$store.state.config.uiSettings.general.instanceName}get instances(){return this.$store.getters["config/getInstances"]}mounted(){""===this.$store.state.config.apiUrl&&(this.instanceDialogOpen=!0)}removeInstance(e){this.$store.dispatch("config/removeInstance",e)}addInstanceDialog(){this.instanceDialogOpen=!0}activateInstance(e){this.$emit("click"),e.active||(this.$socket.close(),(0,f.J)(e,this.$store.state.config.hostConfig).then((e=>{e.apiConfig.socketUrl&&e.apiConnected&&e.apiAuthenticated&&this.$socket.connect(e.apiConfig.socketUrl)})))}};_=(0,m.gn)([(0,h.wA)({})],_);const y=_,b=y;var x=s(1001),$=(0,x.Z)(b,d,u,!1,null,"314aab72",null);const w=$.exports},16231:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(34145),r=s(54886),i=s(34061),n=s(13687),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(i.Z,{attrs:{value:e.showDialog,"max-width":650,persistent:""}},[t(a.Z,{attrs:{loading:!!e.updating&&"primary"}},[t(r.EB,[t("span",{staticClass:"headline"},[e._v(e._s(e.title))])]),t(r.ZB,[t("console",{attrs:{items:e.responses,"key-field":"id",height:250,readonly:""}})],1),t(r.h7,[t(n.Z),e._t("actions",(function(){return[t("app-btn",{attrs:{color:"primary",text:"",disabled:e.updating},on:{click:e.close}},[e._v(" "+e._s(e.buttonTitle)+" ")])]}))],2)],1)],1)},l=[],c=s(70655),p=s(23940),d=s(84496),u=s(46579);let m=class extends((0,p.Wr)(d.Z)){constructor(){super(...arguments),this.invokedDialog=!1}get showDialog(){return!(!0!==this.invokedDialog&&!this.$store.state.version.busy)&&(this.invokedDialog=!0,!0)}get updating(){return this.$store.state.version.busy}get title(){return this.updating?this.$t("app.version.status.updating"):this.$t("app.version.status.finished")}get buttonTitle(){return this.updating?this.$t("app.version.status.updating"):this.$t("app.version.btn.finish")}get responses(){return this.$store.getters["version/getResponses"]}close(){this.invokedDialog=!1,this.$store.commit("version/setClearUpdateResponse")}};m=(0,c.gn)([(0,p.wA)({components:{Console:u.Z}})],m);const h=m,g=h;var f=s(1001),v=(0,f.Z)(g,o,l,!1,null,null,null);const _=v.exports},14164:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(4324),r=s(65808),i=s(54525),n=s(66105),o=s(44568),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition","min-width":150},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r,value:i}){return[t("app-btn",e._g(e._b({attrs:{"x-small":""}},"app-btn",r,!1),s),[t(a.Z,{staticClass:"mr-1",attrs:{"x-small":""}},[e._v(" $snooze ")]),e._v(" "+e._s(e.$t("app.general.btn.snooze"))+" "),t(a.Z,{staticClass:"ml-1",class:{"rotate-180":i},attrs:{"x-small":""}},[e._v(" $chevronDown ")])],1)]}}])},[t(r.Z,{attrs:{dense:""}},e._l(e.presets,(function(s){return t(i.Z,{key:s.delay,attrs:{link:"",dense:""},on:{click:function(t){return e.$emit("dismiss",s.delay)}}},[t(n.V9,[t(a.Z,{attrs:{small:"",left:""}},[e._v(" $clock ")]),e._v(" "+e._s(s.label)+" ")],1)],1)})),1)],1)},c=[],p=s(70655),d=s(23940),u=s(84496);let m=class extends((0,d.Wr)(u.Z)){get presets(){return[{hours:1},{days:1},{days:7}].map((e=>{const t=this.$dayjs.duration(e);return{label:t.humanize(),delay:t.asSeconds()}}))}};m=(0,p.gn)([(0,d.wA)({})],m);const h=m,g=h;var f=s(1001),v=(0,f.Z)(g,l,c,!1,null,null,null);const _=v.exports},90786:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>q});var a=s(55174),r=s(99223),i=s(4324),n=s(97953),o=s(82082),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{attrs:{app:"","clipped-left":"","extension-height":"46",color:e.theme.currentTheme.appbar,height:e.$globals.HEADER_HEIGHT},scopedSlots:e._u([e.inLayout?{key:"extension",fn:function(){return[t("app-btn",{staticClass:"mx-2",attrs:{small:"",color:"primary"},domProps:{innerHTML:e._s(e.$t("app.general.btn.exit_layout"))},on:{click:function(t){return t.stopPropagation(),e.handleExitLayout.apply(null,arguments)}}}),t("app-btn",{staticClass:"mx-2",attrs:{small:"",color:"primary"},domProps:{innerHTML:e._s(e.$t("app.general.btn.reset_layout"))},on:{click:function(t){return t.stopPropagation(),e.handleResetLayout.apply(null,arguments)}}}),e.isDashboard?[t(r.Z,{staticClass:"mx-2",attrs:{vertical:""}}),t("app-btn",{staticClass:"mx-2",attrs:{small:"",color:"primary"},domProps:{innerHTML:e._s(e.$t("app.general.btn.set_default_layout"))},on:{click:function(t){return t.stopPropagation(),e.handleSetDefaultLayout.apply(null,arguments)}}}),t("app-btn",{staticClass:"mx-2",attrs:{small:"",color:"primary"},domProps:{innerHTML:e._s(e.$t("app.general.btn.reset_default_layout"))},on:{click:function(t){return t.stopPropagation(),e.handleResetDefaultLayout.apply(null,arguments)}}})]:e._e()]},proxy:!0}:null],null,!0)},[t("router-link",{directives:[{name:"show",rawName:"v-show",value:!e.isMobile,expression:"!isMobile"}],staticClass:"toolbar-logo",attrs:{to:"/"}},[t("app-icon")],1),t("div",{staticClass:"toolbar-title"},[e.isMobile?t("app-btn",{staticClass:"mx-1",attrs:{fab:"",small:"",elevation:0,color:"transparent"},on:{click:function(t){return e.$emit("navdrawer")}}},[t(i.Z,[e._v("$menuAlt")])],1):e._e(),t(n.qW,{staticClass:"printer-title text--secondary"},[t("router-link",{attrs:{to:"/"},domProps:{innerHTML:e._s(e.instanceName)}})],1)],1),t("div",{staticClass:"toolbar-supplemental"},[e.socketConnected&&e.klippyReady&&e.authenticated&&e.showSaveConfigAndRestart&&e.saveConfigPending?t("div",{staticClass:"mr-1"},[t("app-save-config-and-restart-btn",{attrs:{loading:e.hasWait(e.waits.onSaveConfig),disabled:e.printerPrinting},on:{click:e.saveConfigAndRestart}})],1):e._e(),e.socketConnected&&!e.isMobile&&e.authenticated?t("div",[t(o.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("app-btn",e._g(e._b({staticClass:"mx-1",attrs:{disabled:!e.klippyReady,color:""},on:{click:function(t){return e.emergencyStop()}}},"app-btn",a,!1),s),[t(i.Z,{attrs:{color:"error"}},[e._v(" $estop ")])],1)]}}],null,!1,764196110)},[t("span",[e._v(e._s(e.$t("app.general.tooltip.estop")))])])],1):e._e(),e.authenticated&&e.socketConnected&&e.topNavPowerToggle?t("div",[t(o.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("app-btn",e._g(e._b({staticClass:"mr-1 bg-transparent",attrs:{fab:"",small:"",elevation:0,color:"transparent",disabled:e.topNavPowerToggleDisabled},on:{click:function(t){return e.handlePowerToggle()}}},"app-btn",a,!1),s),[t(i.Z,[e._v(" "+e._s(e.topNavPowerDeviceOn?"$powerOn":"$powerOff")+" ")])],1)]}}],null,!1,2639618577)},[t("span",[e._v(e._s(e.$t("app.general.label.turn_device_"+(e.topNavPowerDeviceOn?"off":"on"),{device:e.topNavPowerToggle})))])])],1):e._e(),e.authenticated&&e.socketConnected?t("div",{staticClass:"mr-1"},[t("app-notification-menu")],1):e._e(),e.supportsAuth&&e.authenticated?t("div",{staticClass:"mr-1"},[t("app-user-menu",{on:{"change-password":function(t){e.userPasswordDialogOpen=!0}}})],1):e._e(),t("app-btn",{staticClass:"mr-1",attrs:{fab:"",small:"",elevation:0,color:"transparent"},on:{click:function(t){return e.$emit("toolsdrawer")}}},[t(i.Z,[e._v("$menu")])],1)],1),e.userPasswordDialogOpen?t("user-password-dialog",{model:{value:e.userPasswordDialogOpen,callback:function(t){e.userPasswordDialogOpen=t},expression:"userPasswordDialogOpen"}}):e._e(),e.pendingChangesDialogOpen?t("pending-changes-dialog",{on:{save:function(t){return e.saveConfigAndRestart(!0)}},model:{value:e.pendingChangesDialogOpen,callback:function(t){e.pendingChangesDialogOpen=t},expression:"pendingChangesDialogOpen"}}):e._e()],1)},c=[],p=s(70655),d=s(23940),u=s(83694),m=s(34145),h=s(54886),g=s(34061),f=s(65005),v=s(13687),_=s(78704),y=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(g.Z,{attrs:{value:e.value,"max-width":500},on:{input:function(t){return e.$emit("input",t)}}},[t(f.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSave.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(m.Z,[t(h.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text",domProps:{innerHTML:e._s(e.$t("app.general.label.change_password"))}})]),t(r.Z),e.error?t(h.ZB,{staticClass:"mb-0"},[t(u.Z,{staticClass:"mb-0",attrs:{type:"error",text:""}},[e._v(" "+e._s(e.$t("app.general.msg.wrong_password"))+" ")])],1):e._e(),t("app-setting",{attrs:{title:e.$t("app.general.label.current_password")}},[t(_.Z,{staticClass:"mt-0",attrs:{autocomplete:"current-password",filled:"",dense:"",type:"password","hide-details":"auto",rules:[e.rules.required]},model:{value:e.currentPassword,callback:function(t){e.currentPassword=t},expression:"currentPassword"}})],1),t(r.Z),t("app-setting",{attrs:{title:e.$t("app.general.label.new_password")}},[t(_.Z,{staticClass:"mt-0",attrs:{autocomplete:"current-password",filled:"",dense:"",type:"password","hide-details":"auto",rules:[e.rules.required,e.rules.password,e.rules.min]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),t(r.Z),t(h.h7,[t(v.Z),e.loading?t(i.Z,{staticClass:"spin",attrs:{color:"primary"}},[e._v(" $loading ")]):e._e(),t("app-btn",{attrs:{disabled:e.loading,color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),t("app-btn",{attrs:{disabled:e.loading,color:"primary",type:"submit"},domProps:{innerHTML:e._s(e.$t("app.general.btn.save"))}})],1)],1)],1)],1)},b=[],x=s(76927),$=s(58477);let w=class extends d.w3{constructor(){super(...arguments),this.currentPassword="",this.password="",this.error=!1,this.loading=!1,this.valid=!1,this.rules={required:e=>e&&void 0!==e&&""!==e||this.$t("app.general.simple_form.error.required"),password:e=>e&&e.toLowerCase()!==this.currentUser.toLowerCase()||this.$t("app.general.simple_form.error.password_username"),min:e=>e&&void 0!==e&&e.length>=4||this.$t("app.general.simple_form.error.min",{min:4})}}get currentUser(){const e=this.$store.getters["auth/getCurrentUser"];return e&&e.username?e.username:""}onOpen(e){e&&(this.currentPassword="",this.password="",this.error=!1,this.loading=!1,this.form&&this.form.reset())}handleSave(){this.valid&&(this.loading=!0,x.i.changePassword(this.currentPassword,this.password).then((()=>{$.N.$emit(this.$tc("app.general.msg.password_changed"),{timeout:2e3}),this.$emit("input",!1)})).catch((()=>{this.error=!0})).finally((()=>this.loading=!1)))}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],w.prototype,"value",void 0),(0,p.gn)([(0,d.Rl)("form")],w.prototype,"form",void 0),(0,p.gn)([(0,d.RL)("value")],w.prototype,"onOpen",null),w=(0,p.gn)([(0,d.wA)({})],w);const S=w,k=S;var C=s(1001),Z=(0,C.Z)(k,y,b,!1,null,null,null);const P=Z.exports;var A=s(92648),R=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(g.Z,{attrs:{value:e.value,"max-width":600,scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[t(f.Z,{on:{submit:function(t){return t.preventDefault(),e.handleSubmit()}}},[t(m.Z,[t(h.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.general.title.pending_configuration_changes")))])]),t(h.ZB,[t(A.Z,{staticStyle:{width:"100%","font-family":"monospace","font-size":"1rem","font-weight":"100 !important"},attrs:{readonly:"","auto-grow":"",rows:"1",value:e.saveConfigPendingItems,spellcheck:!1}})],1),t(h.h7,[t(v.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),t("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.save_config_and_restart"))+" ")])],1)],1)],1)],1)},E=[];let L=class extends d.w3{get saveConfigPendingItems(){const e=this.$store.getters["printer/getSaveConfigPendingItems"],t=Object.entries(e).map((e=>{const[t,s]=e,a=Object.entries(s).map((e=>`${e[0]}: ${e[1]}`));return`[${t}]\n${a.join("\n")}`}));return t.join("\n\n")}handleSubmit(){this.$emit("input",!1),this.$emit("save")}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],L.prototype,"value",void 0),L=(0,p.gn)([(0,d.wA)({})],L);const D=L,T=D;var M=(0,C.Z)(T,R,E,!1,null,null,null);const O=M.exports;var I=s(47215),F=s(36212),B=s(84496),N=s(10997),U=s(61726);let j=class extends((0,d.Wr)(B.Z,N.Z)){constructor(){super(...arguments),this.menu=!1,this.userPasswordDialogOpen=!1,this.pendingChangesDialogOpen=!1}get supportsAuth(){return this.$store.getters["server/componentSupport"]("authorization")}get instances(){return this.$store.state.config.instances}get instanceName(){return this.$store.state.config.uiSettings.general.instanceName}get currentFile(){return this.$store.state.printer.printer.print_stats.filename}get hasUpdates(){return this.$store.getters["version/hasUpdates"]}get saveConfigPending(){return this.$store.getters["printer/getSaveConfigPending"]}get devicePowerComponentEnabled(){return this.$store.getters["server/componentSupport"]("power")}get theme(){return this.$store.getters["config/getTheme"]}get isMobile(){return this.$vuetify.breakpoint.mobile}get inLayout(){return this.$store.state.config.layoutMode}get showSaveConfigAndRestart(){return this.$store.state.config.uiSettings.general.showSaveConfigAndRestart}get topNavPowerToggle(){return this.$store.state.config.uiSettings.general.topNavPowerToggle}get topNavPowerDevice(){return this.$store.state.power.devices.find((e=>e.device===this.topNavPowerToggle))}get topNavPowerDeviceOn(){var e;return"on"===(null===(e=this.topNavPowerDevice)||void 0===e?void 0:e.status)}get topNavPowerToggleDisabled(){const e=this.topNavPowerDevice;return!e||this.printerPrinting&&e.locked_while_printing||["init","error"].includes(e.status)||!this.devicePowerComponentEnabled}handleExitLayout(){this.$store.commit("config/setLayoutMode",!1)}get isDashboard(){return"/"===this.$route.path}handleResetLayout(){const e={"/diagnostics":"diagnostics"},t=e[this.$route.path];let s;s=t?(0,F.W2)().layouts[t]:this.$store.getters["layout/getLayout"]("dashboard");const a=null!==t&&void 0!==t?t:this.$store.getters["layout/getSpecificLayoutName"];this.$store.dispatch("layout/onLayoutChange",{name:a,value:s})}handleSetDefaultLayout(){const e=this.$store.getters["layout/getSpecificLayoutName"];this.$store.dispatch("layout/onLayoutChange",{name:"dashboard",value:this.$store.getters["layout/getLayout"](e)})}handleResetDefaultLayout(){this.$store.dispatch("layout/onLayoutChange",{name:"dashboard",value:(0,F.W2)().layouts.dashboard})}async handlePowerToggle(){const e=this.$store.state.config.uiSettings.general.confirmOnPowerDeviceChange;let t=!0;if(e&&(t=await this.$confirm(this.$tc("app.general.simple_form.msg.confirm_power_device_toggle"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"})),t){const e=this.topNavPowerDevice,t="on"===e.status?"off":"on";U.r.machineDevicePowerToggle(e.device,t)}}saveConfigAndRestart(e=!1){if(!e){const e=this.$store.state.config.uiSettings.general.confirmOnSaveConfigAndRestart;if(e)return void(this.pendingChangesDialogOpen=!0)}this.sendGcode("SAVE_CONFIG",this.waits.onSaveConfig)}};j=(0,p.gn)([(0,d.wA)({components:{UserPasswordDialog:P,PendingChangesDialog:O,AppSaveConfigAndRestartBtn:I["default"]}})],j);const H=j,W=H;var z=(0,C.Z)(W,l,c,!1,null,"365a7322",null);const q=z.exports},82588:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(88271),r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{staticClass:"footer justify-end",attrs:{app:"",absolute:"",inset:"",color:"transparent"}},[t("span",{staticClass:"secondary--text"},[e._v(" © "+e._s((new Date).getFullYear())+" fluidd: v"+e._s(e.appInfo.version)+"-"+e._s(e.appInfo.hash)+" ")])])},i=[],n=s(70655),o=s(20144),l=s(23940);let c=class extends o["default"]{get appInfo(){return this.$store.state.version.fluidd}};c=(0,n.gn)([(0,l.wA)({})],c);const p=c,d=p;var u=s(1001),m=(0,u.Z)(d,r,i,!1,null,"57399e26",null);const h=m.exports},87528:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(99709),r=s(11713),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{attrs:{value:e.value,color:e.theme.currentTheme.drawer,"mini-variant":!e.showSubNavigation,floating:!e.showSubNavigation,clipped:"",app:""},on:{input:e.emitChange}},[t(r.Z,{staticClass:"fill-height",attrs:{"no-gutters":""}},[t(a.Z,{attrs:{color:e.theme.currentTheme.drawer,"mini-variant":!0,value:e.value}},[t("div",{directives:[{name:"show",rawName:"v-show",value:e.isMobile,expression:"isMobile"}],staticClass:"app-icon",style:`height: ${e.$globals.HEADER_HEIGHT}px;`},[t("router-link",{attrs:{to:"/"}},[t("app-icon")],1)],1),t("div",{directives:[{name:"show",rawName:"v-show",value:e.authenticated&&e.socketConnected,expression:"authenticated && socketConnected"}],staticClass:"nav-items"},[t("app-nav-item",{attrs:{icon:"$dash",exact:"",to:"/"}},[e._v(" "+e._s(e.$t("app.general.title.home"))+" ")]),t("app-nav-item",{attrs:{icon:"$console",to:"/console"}},[e._v(" "+e._s(e.$t("app.general.title.console"))+" ")]),t("app-nav-item",{attrs:{icon:"$files",to:"/jobs"}},[e._v(" "+e._s(e.$t("app.general.title.jobs"))+" ")]),e.supportsHistory?t("app-nav-item",{attrs:{icon:"$history",to:"/history"}},[e._v(" "+e._s(e.$t("app.general.title.history"))+" ")]):e._e(),e.supportsTimelapse?t("app-nav-item",{attrs:{icon:"$video",to:"/timelapse"}},[e._v(" "+e._s(e.$t("app.general.title.timelapse"))+" ")]):e._e(),t("app-nav-item",{attrs:{icon:"$tune",to:"/tune"}},[e._v(" "+e._s(e.$t("app.general.title.tune"))+" ")]),e.enableDiagnostics?t("app-nav-item",{attrs:{icon:"$chart",to:"/diagnostics"}},[e._v(" "+e._s(e.$t("app.general.title.diagnostics"))+" ")]):e._e(),t("app-nav-item",{attrs:{icon:"$codeJson",to:"/configure"}},[e._v(" "+e._s(e.$t("app.general.title.configure"))+" ")]),t("app-nav-item",{attrs:{icon:"$desktopTower",to:"/system"}},[e._v(" "+e._s(e.$t("app.general.title.system"))+" ")]),t("app-nav-item",{attrs:{icon:"$cog",to:"/settings"}},[e._v(" "+e._s(e.$t("app.general.title.settings"))+" ")])],1)]),e.showSubNavigation?t("router-view",{attrs:{name:"navigation"}}):e._e()],1)],1)},n=[],o=s(70655),l=s(23940),c=s(84496);let p=class extends((0,l.Wr)(c.Z)){get theme(){return this.$store.getters["config/getTheme"]}get supportsHistory(){return this.$store.getters["server/componentSupport"]("history")}get supportsTimelapse(){return this.$store.getters["server/componentSupport"]("timelapse")}get supportsVersions(){return this.$store.getters["server/componentSupport"]("update_manager")}get enableDiagnostics(){return this.$store.state.config.uiSettings.general.enableDiagnostics}get hasSubNavigation(){var e,t;return null!==(t=null===(e=this.$route.meta)||void 0===e?void 0:e.hasSubNavigation)&&void 0!==t&&t}get showSubNavigation(){return this.hasSubNavigation&&this.socketConnected&&this.authenticated}get isMobile(){return this.$vuetify.breakpoint.mobile}emitChange(e){this.$emit("input",e)}};(0,o.gn)([(0,l.fI)({type:Boolean,default:!0})],p.prototype,"value",void 0),p=(0,o.gn)([(0,l.wA)({})],p);const d=p,u=d;var m=s(1001),h=(0,m.Z)(u,i,n,!1,null,"38956927",null);const g=h.exports},89633:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>S});var a=s(83272),r=s(90903),i=s(34145),n=s(99223),o=s(4324),l=s(65808),c=s(54525),p=s(45187),d=s(66105),u=s(44568),m=s(82082),h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(u.Z,{attrs:{"offset-y":"",left:"","max-width":e.isMobile?220:420,"close-on-content-click":!1,"close-delay":300},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:i}){return[t(m.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:n}){return[t(a.Z,{attrs:{value:e.notificationsCounter,content:e.notificationsCounter,"offset-x":"17","offset-y":"17",bordered:"",overlap:"",color:e.badgeColor}},[t(r.Z,e._g(e._b({attrs:{fab:"",small:"",color:e.color,elevation:0}},"v-btn",i,!1),{...n,...s}),[t(o.Z,{class:{wiggle:"error"===e.color}},[e._v(" $bell ")])],1)],1)]}}],null,!0)},[t("span",[e._v(e._s(e.$t("app.general.tooltip.notifications")))])])]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(i.Z,[t(l.Z,{staticClass:"py-0 overflow-y-auto app-notifications",staticStyle:{"max-height":"90vh"}},[0===e.notifications.length?t(c.Z,[t(d.km,[t(d.V9,[e._v(e._s(e.$t("app.general.label.no_notifications")))])],1)],1):e._e(),e.notifications.length>0?t(c.Z,{attrs:{disabled:e.clearableNotifications.length<=0},on:{click:e.handleClearAll}},[t(d.km,[t(d.V9,[e._v(e._s(e.$t("app.general.label.clear_all")))])],1),t(p.Z,{staticClass:"notification-clear-all"},[t(o.Z,{attrs:{small:""}},[e._v(" $close ")])],1)],1):e._e(),e.notifications.length>0?t(n.Z):e._e(),e._l(e.notifications,(function(s,a){return[t(c.Z,{key:`notification-${s.id}`,class:e.classes(s),attrs:{"three-line":!0}},[t(d.km,[t(d.V9,{domProps:{innerHTML:e._s(s.title)}}),s.description?t(d.oZ,{staticClass:"notification-description",domProps:{innerHTML:e._s(s.description)}}):e._e(),t(d.oZ,{staticClass:"notification-timestamp"},[e._v(" "+e._s(e.$filters.formatDateTime(s.timestamp))+" ")]),s.to?t(d.oZ,[s.to.startsWith("http")?t("app-btn",{staticClass:"mr-1",attrs:{"x-small":"",href:s.to,target:"_blank"},domProps:{innerHTML:e._s(s.btnText?s.btnText:e.$t("app.general.btn.more_information"))},on:{click:function(t){e.menu=!1}}}):t("app-btn",{staticClass:"mr-1",attrs:{"x-small":"",to:s.to},domProps:{innerHTML:e._s(s.btnText?s.btnText:e.$t("app.general.btn.more_information"))},on:{click:function(t){e.menu=!1}}}),"announcement"===s.type?t("app-announcement-dismiss-menu",{on:{dismiss:function(t){return e.handleAnnouncementDismiss(s,t)}}}):e._e()],1):e._e()],1),s.suffix?t(p.Z,{staticClass:"notification-suffix"},[s.suffixIcon?t(o.Z,{attrs:{color:e.color},domProps:{innerHTML:e._s(s.suffixIcon)}}):e._e(),t("div",{staticClass:"notification-temp",domProps:{innerHTML:e._s(s.suffix)}})],1):e._e(),s.clear?t(p.Z,{staticClass:"notification-clear",on:{click:function(t){return e.handleClear(s)}}},[t(r.Z,{attrs:{icon:"",small:""}},[t(o.Z,{attrs:{small:""}},[e._v(" $close ")])],1)],1):e._e()],1),a<e.notifications.length-1?t(n.Z,{key:`divider-${s.id}`}):e._e()]}))],2)],1)],1)},g=[],f=s(70655),v=s(23940),_=s(14164);let y=class extends v.w3{constructor(){super(...arguments),this.menu=!1}get notifications(){return this.$store.getters["notifications/getNotifications"]}get notificationsCounter(){const e=this.notifications.filter((e=>!e.noCount));return e.length}get clearableNotifications(){const e=this.$store.getters["notifications/getNotifications"];return e.filter((e=>e.clear))}get color(){if(this.notifications.length<=0)return"transparent";let e="transparent";for(const t of this.notifications)if("warning"===t.type&&"error"!==e&&(e="warning"),"error"===t.type&&"error"!==e){e="error";break}return e}get badgeColor(){return"transparent"===this.color?"info":this.color}get isMobile(){return this.$vuetify.breakpoint.mobile}icon(e){if(e.icon)return e.icon;switch(e.type){case"info":case"success":case"announcement":return"$info";case"warning":return"$warning"}return"$error"}classes(e){return`notification-${e.type}`}handleClear(e){this.$store.dispatch("notifications/clearNotification",e)}handleClearAll(){this.$store.dispatch("notifications/clearAll")}handleAnnouncementDismiss(e,t){e&&t&&(this.$store.dispatch("announcements/dismiss",{entry_id:e.id,wake_time:t}),this.menu=!1)}};y=(0,f.gn)([(0,v.wA)({components:{AppAnnouncementDismissMenu:_["default"]}})],y);const b=y,x=b;var $=s(1001),w=(0,$.Z)(x,h,g,!1,null,"368fa842",null);const S=w.exports},47215:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(4324),r=s(82082),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isExpanded?t("app-btn",{attrs:{color:"",disabled:e.disabled,loading:e.loading},on:{click:function(t){return e.$emit("click")}}},[t(a.Z,{staticClass:"mr-1"},[e._v(" $save ")]),t("span",[e._v(e._s(e.$t("app.general.btn.save_config_and_restart")))])],1):t(r.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("app-btn",e._g(e._b({attrs:{fab:"",small:"",text:"",color:"",elevation:0,disabled:e.disabled,loading:e.loading},on:{click:function(t){return e.$emit("click")}}},"app-btn",r,!1),s),[t(a.Z,[e._v("$save")])],1)]}}])},[t("span",[e._v(e._s(e.$t("app.general.btn.save_config_and_restart")))])])},n=[],o=s(70655),l=s(23940);let c=class extends l.w3{get isExpanded(){return this.$vuetify.breakpoint.mdAndUp}};(0,o.gn)([(0,l.fI)({type:Boolean,default:!1})],c.prototype,"disabled",void 0),(0,o.gn)([(0,l.fI)({type:Boolean,default:!1})],c.prototype,"loading",void 0),c=(0,o.gn)([(0,l.wA)({})],c);const p=c,d=p;var u=s(1001),m=(0,u.Z)(d,i,n,!1,null,null,null);const h=m.exports},81380:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(65808),r=s(54525),i=s(66105),n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{staticClass:"grow pt-0",attrs:{dense:"",width:"180",color:e.$vuetify.theme.isDark?"#1E1E20":"#FFFFFF"}},[e._l(e.items,(function(s){return[s.visible?t(r.Z,{key:s.name,attrs:{to:`/settings${s.hash}`,exact:!1,link:""}},[t(i.km,[t(i.V9,[e._v(e._s(s.name))])],1)],1):e._e()]}))],2)},o=[],l=s(70655),c=s(23940);let p=class extends c.w3{get isVisible(){return!this.$vuetify.breakpoint.mobile}get items(){return[{name:this.$t("app.setting.title.general"),hash:"#general",visible:!0},{name:this.$t("app.setting.title.console"),hash:"#console",visible:!0},{name:this.$t("app.setting.title.theme"),hash:"#theme",visible:!0},{name:this.$t("app.setting.title.file_editor"),hash:"#editor",visible:!0},{name:this.$t("app.setting.title.authentication"),hash:"#auth",visible:!0},{name:this.$t("app.setting.title.macros"),hash:"#macros",visible:!0},{name:this.$tc("app.setting.title.camera",2),hash:"#camera",visible:!0},{name:this.$t("app.setting.title.tool"),hash:"#toolhead",visible:!0},{name:this.$t("app.setting.title.thermal_presets"),hash:"#presets",visible:!0},{name:this.$t("app.setting.title.gcode_preview"),icon:"$cubeScan",hash:"#gcodePreview",visible:!0},{name:this.$t("app.general.title.timelapse"),hash:"#timelapse",visible:this.supportsTimelapse},{name:this.$t("app.version.title"),hash:"#versions",visible:this.supportsVersions}]}get supportsVersions(){return this.$store.getters["server/componentSupport"]("update_manager")}get supportsTimelapse(){return this.$store.getters["server/componentSupport"]("timelapse")}};p=(0,l.gn)([(0,c.wA)({})],p);const d=p,u=d;var m=s(1001),h=(0,m.Z)(u,n,o,!1,null,null,null);const g=h.exports},908:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(99223),r=s(65808),i=s(99709),n=s(92540),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(i.Z,{attrs:{value:e.value,app:"",right:"",clipped:"",temporary:"",width:"300",dense:""},on:{input:e.emitChange}},[e.authenticated?t(r.Z,{attrs:{dense:""}},[t(n.Z,[e._v(e._s(e.instanceName))]),t(a.Z),t("system-commands",{on:{click:e.close}})],1):e._e(),t("system-printers",{on:{click:e.close}}),e.authenticated?t("system-layout",{on:{click:e.close}}):e._e()],1)},l=[],c=s(70655),p=s(23940),d=s(84496);let u=class extends((0,p.Wr)(d.Z)){get supportsHistory(){return this.$store.getters["server/componentSupport"]("history")}get instanceName(){return this.$store.state.config.uiSettings.general.instanceName}get serverInfo(){return this.$store.getters["server/getInfo"]}get hasUpdates(){return this.$store.getters["version/hasUpdates"]}close(){this.$emit("input",!1)}emitChange(e){this.$emit("input",e)}};(0,c.gn)([(0,p.fI)({type:Boolean,default:!1})],u.prototype,"value",void 0),u=(0,c.gn)([(0,p.wA)({})],u);const m=u,h=m;var g=s(1001),f=(0,g.Z)(h,o,l,!1,null,null,null);const v=f.exports},10981:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var a=s(90903),r=s(34145),i=s(54886),n=s(99223),o=s(4324),l=s(65808),c=s(54525),p=s(66105),d=s(74611),u=s(44568),m=s(82082),h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(u.Z,{attrs:{"nudge-width":260,"offset-y":"","close-delay":300},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t(m.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:i}){return[t(a.Z,e._g(e._b({attrs:{fab:"",text:"",small:""},on:{click:function(t){return e.$emit("drawer")}}},"v-btn",r,!1),{...i,...s}),[t(o.Z,[e._v("$account")])],1)]}}],null,!0)},[t("span",[e._v(e._s(e.currentUser))])])]}}])},[t(r.Z,[t(i.ZB,{staticClass:"text-center"},[t("div",[t(o.Z,{attrs:{large:""}},[e._v(" $account ")])],1),t("span",{staticClass:"text-h5"},[e._v(e._s(e.currentUser))]),e.user&&!e.isTrustedOnly?t("div",{staticClass:"mt-3"},[t("app-btn",{attrs:{disabled:"moonraker"!==e.user.source,small:""},on:{click:function(t){return e.$emit("change-password")}}},[e._v(" "+e._s(e.$t("app.general.label.change_password"))+" ")]),"moonraker"!==e.user.source?t("div",{staticClass:"mt-2"},[t("small",[e._v(" "+e._s(e.$t("app.general.label.user_managed_source",{source:e.$t(`app.general.label.${e.user.source}`)}))+" ")])]):e._e()],1):e._e()]),t(n.Z),t(l.Z,{staticClass:"py-0"},[t(c.Z,{attrs:{dense:""},on:{click:function(t){return e.$filters.routeTo(e.$router,"/settings#auth")}}},[t(d.Z,[t(o.Z,[e._v("$addAccount")])],1),t(p.V9,[e._v(e._s(e.$t("app.general.label.manage_accounts")))])],1),e.isTrustedOnly?e._e():t(n.Z),e.isTrustedOnly?e._e():t(c.Z,[t(p.km,{staticClass:"justify-center"},[t("app-btn",{on:{click:e.handleLogout}},[e._v(" "+e._s(e.$t("app.general.btn.logout"))+" ")])],1)],1)],1)],1)],1)},g=[],f=s(70655),v=s(23940),_=s(26786),y=s(54003);let b=class extends v.w3{get user(){return this.$store.getters["auth/getCurrentUser"]}get currentUser(){return this.user?"_TRUSTED_USER_"===this.user.username||"_API__API_KEY_USER_USER_"===this.user.username?(0,_.Z)((0,y.Z)(this.user.username)):this.user.username:""}get isTrustedOnly(){return!!this.user&&("_TRUSTED_USER_"===this.user.username||"_API__API_KEY_USER_USER_"===this.user.username)}async handleLogout(){await this.$store.dispatch("auth/checkTrust")}};b=(0,f.gn)([(0,v.wA)({})],b);const x=b,$=x;var w=s(1001),S=(0,w.Z)($,h,g,!1,null,null,null);const k=S.exports},38062:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(90903),r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,e._g(e._b({class:e.classes},"v-btn",e.attrs,!1),e.$listeners),[e._t("default")],2)},i=[],n=s(70655),o=s(23940);let l=class extends o.w3{get theme(){return this.$store.getters["config/getTheme"]}get classes(){if(void 0===this.$attrs.fab&&void 0===this.$attrs.icon&&void 0===this.$attrs.outlined&&void 0===this.$attrs.text&&"primary"===this.$attrs.color)return{"grey--text text--darken-3":!this.colorIsDark}}get colorIsDark(){return this.$filters.isColorDark(this.theme.currentTheme[this.$attrs.color])}get attrs(){let e=this.$attrs;return void 0===e.color&&(e={...e,color:"btncolor"}),e}};l=(0,n.gn)([(0,o.wA)({})],l);const c=l,p=c;var d=s(1001),u=(0,d.Z)(p,r,i,!1,null,null,null);const m=u.exports},84534:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(63486),r=s(4324),i=s(43201),n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.inLayout?e._e():t("app-btn",{staticClass:"ml-1",attrs:{color:"",fab:"","x-small":"",text:""},on:{click:function(t){return e.$emit("update:collapsed",!e.collapsed)}}},[t(r.Z,{class:{"rotate-180":e.collapsed}},[e._v(" $chevronUp ")])],1),t(i.Z,[e.inLayout?t(a.Z,{staticClass:"mt-0 pt-0",attrs:{"input-value":e.enabled,"hide-details":""},on:{change:function(t){return e.$emit("update:enabled",t)}}}):e._e(),e.inLayout?t(r.Z,{staticClass:"handle",attrs:{left:""}},[e._v(" $drag ")]):e._e()],1)],1)},o=[],l=s(70655),c=s(23940);let p=class extends c.w3{};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],p.prototype,"collapsed",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!0})],p.prototype,"enabled",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],p.prototype,"inLayout",void 0),p=(0,l.gn)([(0,c.wA)({})],p);const d=p,u=d;var m=s(1001),h=(0,m.Z)(u,n,o,!1,null,"0abf1c0c",null);const g=h.exports},80138:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(4324),r=s(44568),i=s(67423),n=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isCollapsed?t(r.Z,{attrs:{transition:"slide-y-transition",left:"","offset-y":"",disabled:e.disabled,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("app-btn",e._g(e._b({staticClass:"ml-1",attrs:{fab:"","x-small":"x-small"===e.size,small:"small"===e.size,disabled:e.disabled,text:"",color:""}},"app-btn",r,!1),s),[t(a.Z,[e._v(e._s(e.menuIcon))])],1)]}}])},[t(i.Z,{staticClass:"pa-2",attrs:{elevation:"0"}},[e._t("default")],2)],1):t("div",{staticClass:"d-inline-block"},[e._t("default")],2)},o=[],l=s(70655),c=s(23940);let p=class extends c.w3{get isCollapsed(){return!!this.collapsed||this.$vuetify.breakpoint.mdAndDown}get hasDefaultSlot(){return!!this.$slots.default}};(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],p.prototype,"collapsed",void 0),(0,l.gn)([(0,c.fI)({type:String,default:"$menu"})],p.prototype,"menuIcon",void 0),(0,l.gn)([(0,c.fI)({type:String,default:"x-small"})],p.prototype,"size",void 0),(0,l.gn)([(0,c.fI)({type:Boolean,default:!1})],p.prototype,"disabled",void 0),p=(0,l.gn)([(0,c.wA)({})],p);const d=p,u=d;var m=s(1001),h=(0,m.Z)(u,n,o,!1,null,"952761a8",null);const g=h.exports},20955:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(13385),r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{staticClass:"app-btn-group",class:{"app-btn-group-vertical":e.vertical}},[e._t("default")],2)},i=[],n=s(70655),o=s(23940);let l=class extends o.w3{};(0,n.gn)([(0,o.fI)({type:Boolean,default:!1})],l.prototype,"vertical",void 0),l=(0,n.gn)([(0,o.wA)({})],l);const c=l,p=c;var d=s(1001),u=(0,d.Z)(p,r,i,!1,null,"6ad0542e",null);const m=u.exports},99396:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(4324),r=s(82082),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(r.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("app-btn",e._g(e._b({staticClass:"px-2",attrs:{disabled:e.disabled,"min-width":40,loading:e.loading,color:e.color},on:{click:function(t){return e.$emit("click")}}},"app-btn",""!==e.tooltip?r:void 0,!1),""!==e.tooltip?s:void 0),[e.icon?t(a.Z,{class:{"mr-1":e.hasDefaultSlot},attrs:{small:e.smallIcon}},[e._v(" "+e._s(e.icon)+" ")]):e._e(),e._t("default")],2)]}}],null,!0)},[t("span",[e._v(e._s(e.tooltip))])])},n=[],o=s(70655),l=s(23940);let c=class extends l.w3{get hasDefaultSlot(){return!!this.$slots.default||!!this.$scopedSlots.default}};(0,o.gn)([(0,l.fI)({type:String,required:!0})],c.prototype,"icon",void 0),(0,o.gn)([(0,l.fI)()],c.prototype,"disabled",void 0),(0,o.gn)([(0,l.fI)({type:String,default:"btncolor"})],c.prototype,"color",void 0),(0,o.gn)([(0,l.fI)({type:Boolean,default:!1})],c.prototype,"loading",void 0),(0,o.gn)([(0,l.fI)({type:String,default:""})],c.prototype,"badge",void 0),(0,o.gn)([(0,l.fI)({type:String,default:""})],c.prototype,"tooltip",void 0),(0,o.gn)([(0,l.fI)({type:Boolean,default:!1})],c.prototype,"smallIcon",void 0),c=(0,o.gn)([(0,l.wA)({})],c);const p=c,d=p;var u=s(1001),m=(0,u.Z)(d,i,n,!1,null,null,null);const h=m.exports},37354:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("div",{staticClass:"chart",style:{height:e.height}},[e.ready?t("v-chart",{ref:"chart",staticStyle:{overflow:"initial"},attrs:{option:e.opts,"update-options":{notMerge:!0},"init-options":{renderer:"svg"},events:e.events,autoresize:""}}):e._e()],1)])},r=[],i=s(70655),n=s(23940),o=s(72744);let l=class extends n.w3{constructor(){super(...arguments),this.ready=!1}get isMobile(){return this.$vuetify.breakpoint.mobile}get isDark(){return this.$store.state.config.uiSettings.theme.isDark}onData(e){this.chart&&e&&e.length&&this.chart.setOption({dataset:{source:e}})}get opts(){const e={grid:{top:0,left:0,right:0,bottom:0}},t=(0,o.Z)(e,this.options);return t}mounted(){this.data&&!this.ready&&(this.ready=!0)}beforeDestroy(){"undefined"!==typeof window&&this.chart&&this.chart.dispose()}};(0,i.gn)([(0,n.fI)({type:Array,required:!0})],l.prototype,"data",void 0),(0,i.gn)([(0,n.fI)({type:Object,default:{}})],l.prototype,"options",void 0),(0,i.gn)([(0,n.fI)({type:String,default:"100%"})],l.prototype,"height",void 0),(0,i.gn)([(0,n.fI)({type:Array,default:()=>[]})],l.prototype,"events",void 0),(0,i.gn)([(0,n.Rl)("chart")],l.prototype,"chart",void 0),(0,i.gn)([(0,n.RL)("data")],l.prototype,"onData",null),l=(0,i.gn)([(0,n.wA)({})],l);const c=l,p=c;var d=s(1001),u=(0,d.Z)(p,a,r,!1,null,"7400ce5f",null);const m=u.exports},64440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(90903),r=s(77394),i=s(4324),n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"code-view"},[t("pre",[e._v(e._s(e.value))]),t(a.Z,{directives:[{name:"blur",rawName:"v-blur"}],attrs:{small:"",fab:"",text:"",absolute:""},on:{click:e.handleCopyClick}},[t(r.Z5,{attrs:{mode:"in-out","leave-absolute":""}},[t(i.Z,{directives:[{name:"show",rawName:"v-show",value:!e.copied,expression:"!copied"}],attrs:{dense:"",color:"grey"}},[e._v(" $contentCopy ")])],1),t(r.Z5,{attrs:{mode:"in-out","leave-absolute":""}},[t(i.Z,{directives:[{name:"show",rawName:"v-show",value:e.copied,expression:"copied"}],attrs:{dense:"",color:"grey"}},[e._v(" $check ")])],1)],1)],1)},o=[],l=s(70655),c=s(23940);let p=class extends c.w3{constructor(){super(...arguments),this.copied=!1}handleCopyClick(){navigator.clipboard&&this.value&&(navigator.clipboard.writeText(this.value),this.copied=!0,setTimeout((()=>{this.copied=!1}),1200))}};(0,l.gn)([(0,c.fI)({type:String,required:!0})],p.prototype,"value",void 0),p=(0,l.gn)([(0,c.wA)({components:{}})],p);const d=p,u=d;var m=s(1001),h=(0,m.Z)(u,n,o,!1,null,"7b41caea",null);const g=h.exports},36956:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>$});var a=s(90903),r=s(34145),i=s(54886),n=s(4324),o=s(43201),l=s(44568),c=s(78704),p=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(l.Z,{attrs:{bottom:"",left:"","max-width":260,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t(a.Z,e._g(e._b({directives:[{name:"show",rawName:"v-show",value:!e.dot,expression:"!dot"}],attrs:{color:e.controlColor.hexString,outlined:"",small:""}},"v-btn",r,!1),s),[e._v(" "+e._s(e.title)+" ")]),t(n.Z,e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.dot,expression:"dot"}],attrs:{color:e.controlColor.hexString}},"v-icon",r,!1),s),[e._v(" $circle ")])]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[t(r.Z,{ref:"card"},[e.title?t(i.EB,{staticClass:"card-heading mb-2",staticStyle:{cursor:"move","user-select":"none"},on:{mousedown:e.startMouseDrag,touchstart:e.startTouchDrag,touchmove:e.touchMove}},[e._v(" "+e._s(e.title)+" ")]):e._e(),t(i.ZB,["W"!==e.supportedChannels?t(n.Z,{attrs:{color:e.primaryColor.hexString,large:""}},[e._v(" $circle ")]):e._e(),e.supportedChannels.includes("W")?t(n.Z,{attrs:{color:e.whiteColor.hexString,large:""}},[e._v(" $circle ")]):e._e(),t(o.Z,{attrs:{"align-center":"",column:""}},["W"!==e.supportedChannels?t("app-iro-color-picker",{attrs:{color:e.primaryColor.hexString,options:e.primaryOptions},on:{"color:change":function(t){return e.handleColorChange("primary",t)}}}):e._e(),e.supportedChannels.includes("W")?t("app-iro-color-picker",{staticClass:"mt-4",attrs:{color:e.whiteColor.hexString,options:e.whiteOptions},on:{"color:change":function(t){return e.handleColorChange("white",t)}}}):e._e()],1),t(o.Z,{staticClass:"mt-4",attrs:{"justify-space-between":""}},["W"!==e.supportedChannels?t("div",{staticClass:"color-input"},[t(c.Z,{attrs:{dense:"","hide-details":"",outlined:""},model:{value:e.primaryColor.rgb.r,callback:function(t){e.$set(e.primaryColor.rgb,"r",e._n(t))},expression:"primaryColor.rgb.r"}}),t("div",[e._v("R")])],1):e._e(),"W"!==e.supportedChannels?t("div",{staticClass:"color-input"},[t(c.Z,{attrs:{dense:"","hide-details":"",outlined:""},model:{value:e.primaryColor.rgb.g,callback:function(t){e.$set(e.primaryColor.rgb,"g",e._n(t))},expression:"primaryColor.rgb.g"}}),t("div",[e._v("G")])],1):e._e(),"W"!==e.supportedChannels?t("div",{staticClass:"color-input"},[t(c.Z,{attrs:{dense:"","hide-details":"",outlined:""},model:{value:e.primaryColor.rgb.b,callback:function(t){e.$set(e.primaryColor.rgb,"b",e._n(t))},expression:"primaryColor.rgb.b"}}),t("div",[e._v("B")])],1):e._e(),e.supportedChannels.includes("W")?t("div",{staticClass:"color-input"},[t(c.Z,{attrs:{dense:"","hide-details":"",outlined:""},model:{value:e.whiteColor.rgb.r,callback:function(t){e.$set(e.whiteColor.rgb,"r",t)},expression:"whiteColor.rgb.r"}}),t("div",[e._v("W")])],1):e._e()])],1)],1)],1)},d=[],u=s(70655),m=s(23940),h=s(92206),g=s(87853),f=s(15494);let v=class extends m.w3{constructor(){super(...arguments),this.menu=!1,this.lastPointerPosition={x:0,y:0},this.primaryColor={hexString:"#ffffff",rgb:{r:255,g:255,b:255}},this.whiteColor={hexString:"#ffffff",rgb:{r:255,g:255,b:255}},this.primaryOptions={color:this.primaryColor,width:208,layout:[{component:g.Z.ui.Wheel,options:{wheelLightness:!1,wheelAngle:270,wheelDirection:"clockwise"}},{component:g.Z.ui.Slider,options:{sliderType:"value"}}]},this.whiteOptions={color:this.whiteColor,width:208,layout:[{component:g.Z.ui.Slider,options:{sliderType:"value"}}]}}get controlColor(){return"W"===this.supportedChannels?this.whiteColor:this.primaryColor}onPrimaryColorChange(e){const t=new f.pD(e.rgb);t.hexString!==e.hexString&&(this.primaryColor.hexString=t.hexString)}onWhiteColorChange(e){const t=new f.pD({r:e.rgb.r,g:e.rgb.r,b:e.rgb.r});t.hexString!==e.hexString&&(this.whiteColor.hexString=t.hexString)}onPrimaryChange(e){e&&(this.primaryColor=this.getColor(e))}onWhiteChange(e){e&&(this.whiteColor=this.getColor(e))}created(){this.primaryColor=this.getColor(this.primary),this.supportedChannels.includes("W")&&(this.whiteColor=this.getColor(this.white))}getColor(e){const t=new g.Z.Color(e);return{hexString:t.hexString,rgb:{r:t.rgb.r,g:t.rgb.g,b:t.rgb.b}}}handleColorChange(e,t){const s=this.getColor(t.hexString);"primary"===e?this.primaryColor=s:this.whiteColor=s,this.$emit(`update:${e}`,t),this.debouncedChange(e,t)}debouncedChange(e,t){this.$emit("change",{channel:e,color:t})}startMouseDrag(e){this.lastPointerPosition={x:e.clientX,y:e.clientY},window.addEventListener("mousemove",this.mouseMove),window.addEventListener("mouseup",this.stopMouseDrag)}stopMouseDrag(){window.removeEventListener("mousemove",this.mouseMove),window.removeEventListener("mouseup",this.stopMouseDrag)}startTouchDrag(e){this.lastPointerPosition={x:e.touches[0].clientX,y:e.touches[0].clientY}}relativeMove(e){const t=this.card.$el.parentElement;t.style.left=parseFloat(t.style.left)+(e.x-this.lastPointerPosition.x)+"px",t.style.top=parseFloat(t.style.top)+(e.y-this.lastPointerPosition.y)+"px"}mouseMove(e){const t={x:e.clientX,y:e.clientY};this.relativeMove(t),this.lastPointerPosition=t}touchMove(e){e.preventDefault();const t={x:e.touches[0].clientX,y:e.touches[0].clientY};this.relativeMove(t),this.lastPointerPosition=t}};(0,u.gn)([(0,m.fI)({type:String,required:!0})],v.prototype,"primary",void 0),(0,u.gn)([(0,m.fI)({type:String,required:!1})],v.prototype,"white",void 0),(0,u.gn)([(0,m.fI)({type:String,default:""})],v.prototype,"title",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!1})],v.prototype,"dot",void 0),(0,u.gn)([(0,m.fI)({type:String,default:"RGB"})],v.prototype,"supportedChannels",void 0),(0,u.gn)([(0,m.Rl)("card")],v.prototype,"card",void 0),(0,u.gn)([(0,m.RL)("primaryColor",{deep:!0})],v.prototype,"onPrimaryColorChange",null),(0,u.gn)([(0,m.RL)("whiteColor",{deep:!0})],v.prototype,"onWhiteColorChange",null),(0,u.gn)([(0,m.RL)("primary")],v.prototype,"onPrimaryChange",null),(0,u.gn)([(0,m.RL)("white")],v.prototype,"onWhiteChange",null),(0,u.gn)([(0,h.K)(500)],v.prototype,"debouncedChange",null),v=(0,u.gn)([(0,m.wA)({components:{}})],v);const _=v,y=_;var b=s(1001),x=(0,b.Z)(y,p,d,!1,null,"1ba37a6c",null);const $=x.exports},37796:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x});var a=s(90903),r=s(63486),i=s(4324),n=s(65808),o=s(54525),l=s(45187),c=s(66105),p=s(44568),d=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(p.Z,{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition","min-width":150,"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t(a.Z,e._g(e._b({attrs:{disabled:e.disabled,fab:"",small:"",text:""}},"v-btn",r,!1),s),[t(i.Z,[e._v(" $cogs ")])],1)]}}])},[t(n.Z,{staticClass:"overflow-y-auto",attrs:{dense:""}},[e._l(e.headers,(function(s){return[""!==s.text&&s.configurable?t(o.Z,{key:s.value,attrs:{link:"",dense:""},on:{click:function(t){return e.handleToggleHeader(s)}}},[t(l.Z,{staticClass:"my-0"},[t(r.Z,{attrs:{"input-value":s.visible,dense:"","hide-details":"",color:"primary"}})],1),t(c.km,[t(c.V9,[e._v(e._s(s.text))])],1)],1):e._e()]}))],2)],1)},u=[],m=s(70655),h=s(23940),g=s(84496);let f=class extends((0,h.Wr)(g.Z)){constructor(){super(...arguments),this.value=[]}handleToggleHeader(e){e.visible=!e.visible,this.$store.dispatch("config/updateHeader",{name:this.keyName,header:e})}};(0,m.gn)([(0,h.fI)({type:String,required:!0})],f.prototype,"keyName",void 0),(0,m.gn)([(0,h.fI)({type:Array,required:!0})],f.prototype,"headers",void 0),(0,m.gn)([(0,h.fI)({type:Boolean,default:!1})],f.prototype,"disabled",void 0),f=(0,m.gn)([(0,h.wA)({})],f);const v=f,_=v;var y=s(1001),b=(0,y.Z)(_,d,u,!1,null,null,null);const x=b.exports},59232:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"logo-wrapper"},[t("inline-svg",{attrs:{src:e.theme.logo.src},on:{loaded:e.handleLogoLoad}})],1)},r=[],i=s(70655),n=s(20144),o=s(23940);let l=class extends n["default"]{onTheme(){this.setData()}get theme(){return this.$store.getters["config/getTheme"]}handleLogoLoad(){this.setData()}setData(){const e=[{query:".color-primary",color:this.theme.currentTheme.primary},{query:".color-primary-offset",color:this.theme.currentTheme.primaryOffset}];this.theme.logo.dynamic||e.forEach((e=>{const t=this.theme.logo.colorDark||"#000000",s=this.theme.logo.colorLight||"#ffffff";e.color=this.theme.isDark?s:t})),e.forEach((e=>{this.$el.querySelectorAll(e.query).forEach((t=>{if("path"===t.tagName||"polygon"===t.tagName||"g"===t.tagName){const s=t;s.style.fill=e.color}}))}))}};(0,i.gn)([(0,o.RL)("theme")],l.prototype,"onTheme",null),l=(0,i.gn)([(0,o.wA)({})],l);const c=l,p=c;var d=s(1001),u=(0,d.Z)(p,a,r,!1,null,"b5786bbc",null);const m=u.exports},53691:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(4324),r=s(82082),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(r.Z,{attrs:{bottom:e.bottom,top:e.top,left:e.left,right:e.right},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:r}){return[t("app-btn",e._g(e._b({staticClass:"ml-2",attrs:{small:e.small,color:e.type,icon:""}},"app-btn",r,!1),s),[t(a.Z,{attrs:{small:e.small}},[e._v(" "+e._s("error"===e.type||"warning"===e.type?"$warning":"$help")+" ")])],1)]}}])},[e._t("default",(function(){return[t("span",{domProps:{innerHTML:e._s(e.tooltip)}})]}))],2)},n=[],o=s(70655),l=s(23940);let c=class extends l.w3{};(0,o.gn)([(0,l.fI)({type:String,required:!1})],c.prototype,"tooltip",void 0),(0,o.gn)([(0,l.fI)({type:String,default:"primary"})],c.prototype,"type",void 0),(0,o.gn)([(0,l.fI)({type:Boolean,default:!1})],c.prototype,"top",void 0),(0,o.gn)([(0,l.fI)({type:Boolean,default:!1})],c.prototype,"bottom",void 0),(0,o.gn)([(0,l.fI)({type:Boolean,default:!1})],c.prototype,"left",void 0),(0,o.gn)([(0,l.fI)({type:Boolean,default:!1})],c.prototype,"right",void 0),(0,o.gn)([(0,l.fI)({type:Boolean,default:!1})],c.prototype,"small",void 0),c=(0,o.gn)([(0,l.wA)({})],c);const p=c,d=p;var u=s(1001),m=(0,u.Z)(d,i,n,!1,null,null,null);const h=m.exports},29301:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("svg",{staticStyle:{display:"none"}},[t("defs",[t("g",{attrs:{id:"handle",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[t("g",{attrs:{id:"Desktop",transform:"translate(-497.000000, -493.000000)"}},[t("g",{attrs:{id:"Group-2",transform:"translate(498.000000, 494.000000)"}},[t("g",{attrs:{id:"Group",stroke:"#000000","stroke-width":"2"}},[t("circle",{attrs:{id:"Oval",cx:"7.5",cy:"7.5",r:"7.5"}})]),t("path",{attrs:{id:"Combined-Shape",d:"M7.5,14 C3.91014913,14 1,11.0898509 1,7.5 C1,3.91014913 3.91014913,1 7.5,1 C11.0898509,1 14,3.91014913 14,7.5 C14,11.0898509 11.0898509,14 7.5,14 Z M7.5,12 C9.98528137,12 12,9.98528137 12,7.5 C12,5.01471863 9.98528137,3 7.5,3 C5.01471863,3 3,5.01471863 3,7.5 C3,9.98528137 5.01471863,12 7.5,12 Z",fill:"#D8D8D8"}})])])])])]),t("div",{ref:"picker"})])},r=[],i=s(70655),n=s(23940),o=s(87853);let l=class extends n.w3{constructor(){super(...arguments),this.colorPicker=null,this.supportedEvents=["mount","color:init","color:change"]}onColorChange(e){this.colorPicker&&(this.colorPicker.color.hexString=e)}get opts(){const e={...this.options,color:this.color,sliderSize:14,handleSvg:"#handle",handleProps:{x:0,y:0}};return e}mounted(){this.colorPicker=o.Z.ColorPicker(this.picker,this.opts),this.supportedEvents.forEach((e=>{this.colorPicker&&this.colorPicker.on(e,(t=>{this.eventHandler(e,t)}))}))}beforeUnmount(){this.colorPicker&&this.colorPicker.off(this.supportedEvents,this.eventHandler)}handleColorChange(e){this.$emit("change",e),this.$emit("update:color",e)}eventHandler(e,t){this.$emit(e,t)}};(0,i.gn)([(0,n.fI)({type:[Object,String],default:"#ffffff"})],l.prototype,"color",void 0),(0,i.gn)([(0,n.fI)({type:Object,default:()=>({})})],l.prototype,"options",void 0),(0,i.gn)([(0,n.Rl)("picker")],l.prototype,"picker",void 0),(0,i.gn)([(0,n.RL)("color",{deep:!0})],l.prototype,"onColorChange",null),l=(0,i.gn)([(0,n.wA)({components:{}})],l);const c=l,p=c;var d=s(1001),u=(0,d.Z)(p,a,r,!1,null,null,null);const m=u.exports},18082:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>k});var a=s(34145),r=s(54886),i=s(99223),n=s(4324),o=s(43201),l=s(44568),c=s(78704),p=function(){var e=this,t=e._self._c;e._self._setupProxy;return 0!==e.paramList.length&&e.enableParams?t("app-btn-group",{attrs:{elevation:6}},[t("app-btn",e._g({style:e.borderStyle,attrs:{disabled:e.macro.disabledWhilePrinting&&e.printerPrinting||!e.klippyReady}},{...e.$listeners,click:()=>e.$emit("click",e.macro.name)}),[e._t("default")],2),t(l.Z,{attrs:{left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a,value:r}){return[e.paramList.length>0?t("app-btn",e._g(e._b({staticClass:"px-0",attrs:{"min-width":24,disabled:e.macro.disabledWhilePrinting&&e.printerPrinting||!e.klippyReady}},"app-btn",a,!1),s),[t(n.Z,{class:{"rotate-180":r},attrs:{small:""}},[e._v(" $chevronDown ")])],1):e._e()]}}])},[t(a.Z,[t(r.ZB,{staticClass:"pb-3 px-3"},[t(o.Z,{staticStyle:{"max-width":"150px"},attrs:{wrap:""}},e._l(e.paramList,(function(s,a){return t(c.Z,{key:s,class:{"mb-3":a<e.paramList.length-1},attrs:{label:s,outlined:"",dense:"","hide-details":"auto"},scopedSlots:e._u([{key:"append",fn:function(){return[t("app-btn",{staticStyle:{"margin-top":"-4px","margin-right":"-6px"},attrs:{color:"",icon:"",small:""},on:{click:function(t){e.params[s].value=e.params[s].reset}}},[t(n.Z,{attrs:{small:""}},[e._v(" $reset ")])],1)]},proxy:!0}],null,!0),model:{value:e.params[s].value,callback:function(t){e.$set(e.params[s],"value",t)},expression:"params[param].value"}})})),1)],1),t(i.Z),t(r.h7,{staticClass:"px-3 py-3"},[t("app-btn",{attrs:{block:""},on:{click:function(t){return e.$emit("click",e.runCommand)}}},[e._v(" "+e._s(e.$t("app.general.btn.send"))+" ")])],1)],1)],1)],1):t("app-btn",e._g({style:e.borderStyle,attrs:{disabled:e.macro.disabledWhilePrinting&&e.printerPrinting||!e.klippyReady}},{...e.$listeners,click:()=>e.$emit("click",e.macro.name)}),[e._t("default")],2)},d=[],u=s(70655),m=s(23940),h=s(84496);const g=/params\.(\w+)(.*)/gi,f=/\|\s*default\s*\(\s*((["'])(?:\\.|[^\2])*\2|-?[0-9][^,)]*)/i,v=e=>{const t=f.exec(e);return(t&&t[1]||"").trim()},_=e=>[...e.matchAll(g)].map((([,e,t])=>({name:e,value:v(t)}))),y=_;let b=class extends((0,m.Wr)(h.Z)){constructor(){super(...arguments),this.params={}}get paramList(){return Object.keys(this.params)}get runCommand(){let e=this.macro.name;if(this.params)if(["m117","m118"].includes(this.macro.name))e+=` ${this.params.message.value}`;else for(const t of Object.keys(this.params))e+=` ${t}=${this.params[t].value}`;return e}get borderStyle(){return this.macro&&""!==this.macro.color?`border-color: ${this.macro.color} !important; border-left: solid 4px ${this.macro.color} !important;`:""}mounted(){if(!this.macro.config||!this.macro.config.gcode)return[];if(["m117","m118"].includes(this.macro.name))this.$set(this.params,"message",{value:"",reset:""});else for(const{name:e,value:t}of y(this.macro.config.gcode))this.params[e]||this.$set(this.params,e,{value:t,reset:t})}};(0,u.gn)([(0,m.fI)({type:Object,required:!0})],b.prototype,"macro",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!1})],b.prototype,"enableParams",void 0),b=(0,u.gn)([(0,m.wA)({})],b);const x=b,$=x;var w=s(1001),S=(0,w.Z)($,p,d,!1,null,"443375f1",null);const k=S.exports},23393:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(60266),r=s(4324),i=s(11713),n=s(78704),o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(i.Z,{attrs:{"no-gutters":"","justify-space-between":""}},[t(a.Z,{staticClass:"text-body-1 py-0",class:{"text--disabled":e.disabled},attrs:{"align-self":"center",cols:"5"}},[e._v(" "+e._s(e.label)+" ")]),t(a.Z,{staticClass:"ml-auto py-0"},[t(n.Z,{staticClass:"v-input--text-right",attrs:{value:e.value,disabled:e.disabled,readonly:e.readonly,suffix:e.suffix,rules:e.rules,loading:e.loading,dense:"","single-line":"","hide-details":"",outlined:""},on:{input:function(t){return e.$emit("input",t)},change:e.handleChange,focus:function(e){return e.target.select()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[e.resetValue?t("app-btn",{staticStyle:{"margin-top":"-4px"},attrs:{disabled:e.disabled,color:"",icon:"",small:""},on:{click:e.handleReset}},[t(r.Z,{attrs:{small:""}},[e._v(" $reset ")])],1):e._e()]},proxy:!0}])})],1)],1)},l=[],c=s(70655),p=s(23940),d=s(84496);let u=class extends((0,p.Wr)(d.Z)){handleChange(e){this.value!==e&&this.$emit("change",e)}handleReset(){this.$emit("input",this.resetValue),this.value!==this.resetValue&&this.$emit("change",this.resetValue)}};(0,c.gn)([(0,p.fI)({type:[String,Number],required:!0})],u.prototype,"value",void 0),(0,c.gn)([(0,p.fI)({type:String,required:!0})],u.prototype,"label",void 0),(0,c.gn)([(0,p.fI)({type:[String,Number],required:!1})],u.prototype,"resetValue",void 0),(0,c.gn)([(0,p.fI)({type:Boolean,default:!1})],u.prototype,"readonly",void 0),(0,c.gn)([(0,p.fI)({type:Boolean,default:!1})],u.prototype,"disabled",void 0),(0,c.gn)([(0,p.fI)({type:Boolean,default:!1})],u.prototype,"loading",void 0),(0,c.gn)([(0,p.fI)({type:String})],u.prototype,"suffix",void 0),(0,c.gn)([(0,p.fI)({type:Array,default:()=>[]})],u.prototype,"rules",void 0),u=(0,c.gn)([(0,p.wA)({})],u);const m=u,h=m;var g=s(1001),f=(0,g.Z)(h,o,l,!1,null,null,null);const v=f.exports},97918:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var a=s(4324),r=s(54525),i=s(66105),n=s(74611),o=s(82082),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{right:"",disabled:e.isMobile},scopedSlots:e._u([{key:"activator",fn:function({attrs:s,on:o}){return[t(r.Z,e._g(e._b({attrs:{to:e.to,exact:e.exact,link:"",color:"secondary"}},"v-list-item",s,!1),o),[t(n.Z,[t(a.Z,[e._v(e._s(e.icon))])],1),t(i.km,[t(i.V9,[e._t("default")],2)],1)],1)]}}],null,!0)},[t("span",[e._t("default")],2)])},c=[],p=s(70655),d=s(23940),u=s(84496);let m=class extends((0,d.Wr)(u.Z)){get isMobile(){return this.$vuetify.breakpoint.mobile}};(0,p.gn)([(0,d.fI)({type:String})],m.prototype,"title",void 0),(0,p.gn)([(0,d.fI)({type:String})],m.prototype,"to",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],m.prototype,"exact",void 0),(0,p.gn)([(0,d.fI)({type:String})],m.prototype,"icon",void 0),m=(0,p.gn)([(0,d.wA)({})],m);const h=m,g=h;var f=s(1001),v=(0,f.Z)(g,l,c,!1,null,"7b192fbc",null);const _=v.exports},63273:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("qrcode-vue",{attrs:{value:e.value,size:e.size,level:"L"}})},r=[],i=s(70655),n=s(23940),o=s(69574);let l=class extends n.w3{};(0,i.gn)([(0,n.fI)({type:String,default:""})],l.prototype,"value",void 0),(0,i.gn)([(0,n.fI)({type:Number,default:260})],l.prototype,"size",void 0),l=(0,i.gn)([(0,n.wA)({components:{QrcodeVue:o.Z}})],l);const c=l,p=c;var d=s(1001),u=(0,d.Z)(p,a,r,!1,null,"bf4a9a6c",null);const m=u.exports},27228:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(60266),r=s(11713),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(r.Z,e._g(e._b({staticClass:"setting",class:e.classes,attrs:{"no-gutters":""}},"v-row",e.$attrs,!1),e.$listeners),[e.accentColor&&""!==e.accentColor?t("div",{staticClass:"setting__accent-color",style:`background-color: ${e.accentColor};`}):e._e(),t(a.Z,{staticClass:"setting-title",attrs:{cols:e.cols[0],"align-self":"center"}},[e._t("title",(function(){return[e._v(" "+e._s(e.title)+" ")]})),e.hasSubTitle?t("div",{staticClass:"setting-sub-title secondary--text"},[e._t("sub-title",(function(){return[e._v(" "+e._s(e.subTitle)+" ")]}))],2):e._e()],2),t(a.Z,{staticClass:"setting-controls",attrs:{cols:e.cols[1],"align-self":"center"}},[e._t("default")],2)],1)},n=[],o=s(70655),l=s(23940);let c=class extends l.w3{get cols(){return[12-this.rCols,this.rCols]}get hasClick(){return this.$listeners&&this.$listeners.click}get hasSubTitle(){return this.$slots["sub-title"]||this.$scopedSlots["sub-title"]||this.subTitle}get classes(){return{setting__link:this.hasClick}}};(0,o.gn)([(0,l.fI)({type:String,default:""})],c.prototype,"title",void 0),(0,o.gn)([(0,l.fI)({type:String})],c.prototype,"subTitle",void 0),(0,o.gn)([(0,l.fI)({type:String})],c.prototype,"help",void 0),(0,o.gn)([(0,l.fI)({type:String})],c.prototype,"accentColor",void 0),(0,o.gn)([(0,l.fI)({type:Number,default:6})],c.prototype,"rCols",void 0),c=(0,o.gn)([(0,l.wA)({})],c);const p=c,d=p;var u=s(1001),m=(0,u.Z)(d,i,n,!1,null,"39be65ba",null);const h=m.exports},93468:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(90903),r=s(60266),i=s(65005),n=s(4324),o=s(11713),l=s(69670),c=s(78704),p=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(i.Z,{ref:"form",class:{"full-width-slider":e.fullWidth},on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(o.Z,{attrs:{"no-gutters":""}},[t(r.Z,{staticClass:"text-body-1 py-0",class:{"text--disabled":e.disabled},attrs:{cols:"12",sm:"5","align-self":"center"},domProps:{innerHTML:e._s(e.label)}}),t(r.Z,{staticClass:"py-0"},[t(c.Z,{staticClass:"v-input--text-right",attrs:{suffix:e.suffix,rules:e.textRules,readonly:e.isLocked,disabled:e.disabled||e.loading||e.isLocked,step:e.step,type:"number",dense:"","single-line":"",outlined:"","hide-details":""},on:{change:function(t){return e.handleChange(t)},focus:function(e){return e.target.select()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[e.isMobile?t(a.Z,{staticStyle:{"margin-top":"-4px"},attrs:{icon:"",small:"",disabled:e.disabled},on:{click:function(t){e.lockState=!e.lockState}}},[e.isLocked?t(n.Z,{attrs:{small:""}},[e._v(" $pencil ")]):t(n.Z,{attrs:{small:""}},[e._v(" $lockReset ")])],1):e._e(),void 0!==e.resetValue?t("app-btn",{staticStyle:{"margin-top":"-4px"},attrs:{disabled:e.disabled,color:"",icon:"",small:""},on:{click:e.handleReset}},[t(n.Z,{attrs:{small:""}},[e._v(" $reset ")])],1):e._e()]},proxy:!0}]),model:{value:e.internalValue,callback:function(t){e.internalValue=e._n(t)},expression:"internalValue"}})],1)],1),t(l.Z,{attrs:{rules:e.rules,min:e.min,max:e.internalMax,step:e.step,disabled:e.disabled||e.loading||e.isLocked||e.overridden,dense:"","hide-details":""},on:{change:function(t){return e.handleChange(t)}},model:{value:e.internalValue,callback:function(t){e.internalValue=t},expression:"internalValue"}})],1)},d=[],u=s(70655),m=s(23940),h=s(84496);let g=class extends((0,m.Wr)(h.Z)){constructor(){super(...arguments),this.valid=!0,this.lockState=!1,this.overridden=!1,this.internalValue=this.value,this.internalMax=this.max,this.pending=!1}onValue(e){e=+e,e!==this.internalValue&&(this.internalValue=e),this.pending=!1}onInternalValue(e){this.valid&&(e>this.max&&this.overridable?(this.overridden=!0,this.internalMax=e):(this.overridden=!1,this.internalMax=this.max),this.$emit("input",e))}get isLocked(){return this.lockState}set isLocked(e){this.lockState=e,this.$emit("update:locked",e)}onLockedChange(e){this.lockState=e}get isMobile(){return this.$vuetify.breakpoint.mobile}get textRules(){const e=[...this.rules,e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),e=>+e>=this.min||this.$t("app.general.simple_form.error.min",{min:this.min})];return this.overridable||e.push((e=>+e<=this.max||this.$t("app.general.simple_form.error.max",{max:this.max}))),e}mounted(){this.lockState=this.locked}handleChange(e){e===this.value||this.pending||(this.valid?(this.pending=!0,this.$emit("change",e)):this.internalValue=this.value,this.lockState=this.locked)}handleReset(){this.internalValue=this.resetValue,this.lockState=this.locked,this.$emit("change",this.resetValue)}};(0,u.gn)([(0,m.fI)({type:Number,required:!0})],g.prototype,"value",void 0),(0,u.gn)([(0,m.fI)({type:Number,required:!1})],g.prototype,"resetValue",void 0),(0,u.gn)([(0,m.fI)({type:String,required:!0})],g.prototype,"label",void 0),(0,u.gn)([(0,m.fI)({type:Array,default:()=>[]})],g.prototype,"rules",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!1})],g.prototype,"disabled",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!1})],g.prototype,"locked",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!1})],g.prototype,"loading",void 0),(0,u.gn)([(0,m.fI)({type:Number,default:0})],g.prototype,"min",void 0),(0,u.gn)([(0,m.fI)({type:Number,default:100})],g.prototype,"max",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!1})],g.prototype,"overridable",void 0),(0,u.gn)([(0,m.fI)({type:Number,default:1})],g.prototype,"step",void 0),(0,u.gn)([(0,m.fI)({type:String})],g.prototype,"suffix",void 0),(0,u.gn)([(0,m.fI)({type:Boolean,default:!1})],g.prototype,"fullWidth",void 0),(0,u.gn)([(0,m.RL)("value")],g.prototype,"onValue",null),(0,u.gn)([(0,m.RL)("internalValue")],g.prototype,"onInternalValue",null),(0,u.gn)([(0,m.RL)("locked")],g.prototype,"onLockedChange",null),g=(0,u.gn)([(0,m.wA)({})],g);const f=g,v=f;var _=s(1001),y=(0,_.Z)(v,p,d,!1,null,"28c7aa3b",null);const b=y.exports},28181:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var a=s(43201),r=s(29884),i=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(a.Z,{attrs:{"justify-space-between":"","align-center":""}},[t("div",{staticClass:"text-body-1",class:{"text--disabled":e.disabled}},[e._v(" "+e._s(e.label)+" ")]),t(r.Z,{staticClass:"mt-0",attrs:{"input-value":e.value,disabled:e.disabled,"hide-details":""},on:{change:e.emitChange}})],1)},n=[],o=s(70655),l=s(23940),c=s(84496);let p=class extends((0,l.Wr)(c.Z)){constructor(){super(...arguments),this.newValue=!1}onValueChange(e){this.newValue=e}mounted(){this.newValue=this.value}updateValue(e){this.newValue=e}emitChange(e){this.$emit("input",e)}};(0,o.gn)([(0,l.fI)({type:Boolean,required:!0})],p.prototype,"value",void 0),(0,o.gn)([(0,l.fI)({type:String,required:!0})],p.prototype,"label",void 0),(0,o.gn)([(0,l.fI)({type:Boolean,required:!1,default:!1})],p.prototype,"disabled",void 0),(0,o.gn)([(0,l.RL)("value")],p.prototype,"onValueChange",null),p=(0,o.gn)([(0,l.wA)({})],p);const d=p,u=d;var m=s(1001),h=(0,m.Z)(u,i,n,!1,null,null,null);const g=h.exports},37245:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a,r,i=s(1001),n={},o=(0,i.Z)(n,a,r,!1,null,null,null);const l=o.exports},46579:(e,t,s)=>{"use strict";s.d(t,{Z:()=>M});var a=s(34145),r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"console"},[!e.readonly&&e.flipLayout?t("console-command",{attrs:{disabled:!e.klippyReady},on:{send:e.sendCommand},model:{value:e.consoleCommand,callback:function(t){e.consoleCommand=t},expression:"consoleCommand"}}):e._e(),t(a.Z,{ref:"console-wrapper",staticClass:"console-wrapper",attrs:{flat:""}},[t("DynamicScroller",{ref:"scroller",style:{height:e.height+"px"},attrs:{items:e.flipLayout?[...e.items].reverse():e.items,"min-item-size":24,"key-field":e.keyField,buffer:600},on:{resize:function(t){return e.scrollToLatest()}},scopedSlots:e._u([{key:"default",fn:function({item:s,index:a,active:r}){return[t("DynamicScrollerItem",{attrs:{item:s,active:r,"size-dependencies":[s.message],"data-index":a}},[t("console-item",{key:s[e.keyField],staticClass:"console-item",attrs:{value:s},on:{click:e.handleEntryClick}})],1)]}}])})],1),e.readonly||e.flipLayout?e._e():t("console-command",{attrs:{disabled:!e.klippyReady},on:{send:e.sendCommand},model:{value:e.consoleCommand,callback:function(t){e.consoleCommand=t},expression:"consoleCommand"}})],1)},i=[],n=s(70655),o=s(23940),l=s(84496),c=s(60266),p=s(69256),d=s(11713),u=s(92648),m=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(p.Z,[t(d.Z,{attrs:{align:"center"}},[t(c.Z,[t(u.Z,{ref:"input",attrs:{rows:1,value:e.newValue,items:e.history,disabled:e.disabled,"auto-grow":"",clearable:"",outlined:"","single-line":"",dense:"","hide-details":""},on:{input:e.emitChange,keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.emitSend(e.newValue)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.historyUp()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.historyDown()}],keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void t.preventDefault()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:(t.preventDefault(),e.autoComplete())}]}})],1),t(c.Z,{attrs:{cols:"auto"}},[t("app-btn",{attrs:{disabled:e.disabled},on:{click:function(t){return e.emitSend(e.newValue)}}},[e._v(" "+e._s(e.$t("app.general.btn.send"))+" ")])],1)],1)],1)},h=[],g=s(36796);let f=class extends o.w3{constructor(){super(...arguments),this.newValue="",this.commandHistoryCount=g.OH.CONSOLE_COMMAND_HISTORY,this.history=[],this.originalHistory=[],this.isFirst=!0}onValueChange(e){e?(this.newValue=e,this.input.focus()):this.newValue=""}mounted(){this.newValue=this.value;const e=this.$store.state.console.commandHistory;this.history=[...e],this.originalHistory=[...e]}emitChange(e){this.newValue=e,this.$emit("input",e)}emitSend(e){e&&e.length>0&&(this.history.length>=this.commandHistoryCount&&this.originalHistory.pop(),this.originalHistory.unshift(e),this.$store.dispatch("console/onUpdateCommandHistory",[...this.originalHistory]),this.history=[...this.originalHistory],this.isFirst=!0,this.$emit("send",e))}historyUp(){if(this.history.length>=1){if(!this.isFirst){const e=this.history.shift();this.history.push(e)}this.emitChange(this.history[0]),this.isFirst=!1}}historyDown(){if(this.history.length>=1){if(!this.isFirst){const e=this.history.pop();this.history.unshift(e)}this.emitChange(this.history[0]),this.isFirst=!1}}autoComplete(){const e=this.$store.getters["console/getAllGcodeCommands"];if(this.newValue.length){const t=Object.keys(e).filter((e=>0===e.toLowerCase().indexOf(this.newValue.toLowerCase())));t&&1===t.length?this.emitChange(t[0]):t.forEach((t=>{const s=`// ${t}: ${e[t]}`;this.$store.dispatch("console/onAddConsoleEntry",{message:s,type:"response"})}))}}};(0,n.gn)([(0,o.fI)({type:String})],f.prototype,"value",void 0),(0,n.gn)([(0,o.Rl)("input")],f.prototype,"input",void 0),(0,n.gn)([(0,o.fI)({type:Boolean,default:!1})],f.prototype,"disabled",void 0),(0,n.gn)([(0,o.RL)("value")],f.prototype,"onValueChange",null),f=(0,n.gn)([(0,o.wA)({})],f);const v=f,_=v;var y=s(1001),b=(0,y.Z)(_,m,h,!1,null,null,null);const x=b.exports;var $=s(43201),w=function(){var e=this,t=e._self._c;e._self._setupProxy;return t($.Z,{staticClass:"console-item"},[e.value.time?t("span",{staticClass:"secondary--text mr-3 d-none d-sm-block"},[e._v(" "+e._s(e.itemTime)+"  ")]):e._e(),t("span",{class:e.itemClass,domProps:{innerHTML:e._s(e.itemMessage)},on:{"!click":function(t){return e.itemClick.apply(null,arguments)}}})])},S=[];let k=class extends o.w3{get knownCommands(){const e=this.$store.getters["console/getAllGcodeCommands"];return new Set(Object.keys(e))}get itemMessage(){let e=this.value.message;return"response"===this.value.type&&(e=this.value.message.replace(/([A-Z0-9_]{2,})/gm,((e,t)=>this.knownCommands.has(t)?`<a class="primary--text text--lighten-1">${t.toUpperCase()}</a>`:e))),"command"===this.value.type?`${g.OH.CONSOLE_SEND_PREFIX}<a class="primary--text text--lighten-1">${e}</a>`:e}get itemTime(){return this.value.time?this.$dayjs(1e3*this.value.time).format("HH:mm:ss"):""}get itemClass(){return this.value.message.startsWith("!!")?{"error--text":!0}:"command"===this.value.type?{"primary--text":!0}:{"secondary--text":!0}}itemClick(e){const t=e.target;if("a"===t.tagName.toLowerCase()){const e=t.innerHTML.replaceAll(/<br>/g,"\n").replace(/^\s+|\s+$/gm,"");this.$emit("click",e)}}};(0,n.gn)([(0,o.fI)({type:Object,default:{}})],k.prototype,"value",void 0),k=(0,n.gn)([(0,o.wA)({})],k);const C=k,Z=C;var P=(0,y.Z)(Z,w,S,!1,null,"0b8bf654",null);const A=P.exports;var R=s(61726);let E=class extends((0,o.Wr)(l.Z)){constructor(){super(...arguments),this._pauseScroll=!1}get availableCommands(){return this.$store.getters["console/getAllGcodeCommands"]}get consoleCommand(){return this.$store.state.console.consoleCommand}set consoleCommand(e){this.$store.commit("console/setConsoleCommand",e)}get flipLayout(){return this.$store.state.config.uiSettings.general.flipConsoleLayout}set flipLayout(e){this.scrollToLatest(!0)}mounted(){this.dynamicScroller.$el.addEventListener("scroll",this.onScroll)}beforeDestroy(){this.dynamicScroller.$el.removeEventListener("scroll",this.onScroll)}onItemsChange(e,t){if(this.dynamicScroller){const e=this.dynamicScroller.$el;if(!this.flipLayout||!this._pauseScroll&&this.$store.state.console.autoScroll)this.scrollToLatest(0===(null===t||void 0===t?void 0:t.length));else{const{scrollHeight:t,clientHeight:s}=e;t>s&&this.$nextTick((()=>{e.scrollTop+=e.scrollHeight-t}))}}}updateScrollingPaused(){this.$nextTick((()=>{const{scrollTop:e,scrollHeight:t,clientHeight:s}=this.dynamicScroller.$el,a=this.flipLayout?e>1:t-e-s>1;this._pauseScroll!==a&&(this._pauseScroll=a,this.$emit("update:scrollingPaused",a))}))}onScroll(){this.updateScrollingPaused()}scrollToLatest(e){this._pauseScroll&&!e||this.dynamicScroller&&((this.$store.state.console.autoScroll||this.readonly||e)&&(this.flipLayout?this.dynamicScroller.scrollToItem(0):this.dynamicScroller.scrollToBottom()),e&&this.updateScrollingPaused())}sendCommand(e){e&&e.length&&(e&&"m112"===e.trim().toLowerCase()&&R.r.printerEmergencyStop(),this.sendGcode(e),this.consoleCommand="")}handleEntryClick(e){this.consoleCommand=e}};(0,n.gn)([(0,o.fI)({type:Array,default:[]})],E.prototype,"items",void 0),(0,n.gn)([(0,o.fI)({type:String,default:"id"})],E.prototype,"keyField",void 0),(0,n.gn)([(0,o.fI)({type:Number,default:250})],E.prototype,"height",void 0),(0,n.gn)([(0,o.fI)({type:Boolean,default:!1})],E.prototype,"readonly",void 0),(0,n.gn)([(0,o.Rl)("scroller")],E.prototype,"dynamicScroller",void 0),(0,n.gn)([(0,o.RL)("items",{immediate:!0})],E.prototype,"onItemsChange",null),E=(0,n.gn)([(0,o.wA)({components:{ConsoleCommand:x,ConsoleItem:A}})],E);const L=E,D=L;var T=(0,y.Z)(D,r,i,!1,null,"61143346",null);const M=T.exports},76927:(e,t,s)=>{"use strict";s.d(t,{i:()=>r});var a=s(77021);const r={async login(e,t,s="moonraker"){return await a.Z.post("/access/login",{username:e,password:t,source:s})},async logout(){return await a.Z.post("access/logout")},async getOneShot(){return await a.Z.get("/access/oneshot_token")},async getCurrentUser(e){return await a.Z.get("/access/user",e)},async getUsers(){return await a.Z.get("/access/users/list")},async addUser(e){return await a.Z.post("/access/user",e)},async removeUser(e){return await a.Z["delete"]("/access/user",{params:{username:e.username}})},async changePassword(e,t){return await a.Z.post("/access/user/password",{password:e,new_password:t})},async getApiKey(){return await a.Z.get("/access/api_key")},async refreshApiKey(){return await a.Z.post("/access/api_key")}}},77021:(e,t,s)=>{"use strict";s.d(t,{Z:()=>f});var a=s(34367),r=s(58477),i=s(44652),n=s.n(i),o=s(9669),l=s.n(o),c=s(36796);const p=l().create({withAuth:!0,timeout:c.OH.NETWORK_REQUEST_TIMEOUT});p.prototype.CancelToken=l().CancelToken,p.prototype.isCancel=l().isCancel;const d=["/access/login","/access/refresh_token"],u={400:["/access/login"],502:["/access/oneshot_token"]},m=async e=>{if(e.headers||(e.headers={}),e.headers.Accept="application/json",e.headers["Content-Type"]="application/json","/access/refresh_jwt"!==e.url){const t=await a.Z.dispatch("auth/checkToken");if(t){const t=await a.Z.dispatch("auth/refreshTokens");t&&(e.headers.Authorization=`Bearer ${t}`)}}const t=e.url||"";return d.includes(t)&&(e.withAuth=!1),e},h=e=>{switch(e.status){case 200:a.Z.state.config.apiUrl&&e.config.baseURL===a.Z.state.config.apiUrl&&e.config.withAuth&&a.Z.commit("auth/setAuthenticated",!0);break;default:}return e},g=e=>{var t;let s;if(!e.response||"ERR_NETWORK"===e.code)return e.message&&(s=e.message),n().debug(s||"Network error"),Promise.reject(e);s="object"===typeof e.response.data?null===(t=e.response.data.error)||void 0===t?void 0:t.message:e.response.data;const i=e.config.url||"";switch(e.response.status){case 500:n().debug(e.response.status,e.message,s),r.N.$emit(s||"Server error",{type:r.o.error});break;case 502:case 400:n().debug(e.response.status,e.message,s),u[e.response.status].includes(i)||r.N.$emit(s||"Server error",{type:r.o.error});break;case 401:e.config.withAuth&&a.Z.dispatch("auth/logout");break;case 404:n().debug(e.response.status,e.message,s);break;default:n().debug(e.response.status,e.message),r.N.$emit(s||"Server error",{type:r.o.error})}return Promise.reject(e)};p.interceptors.request.use(m,g),p.interceptors.response.use(h,g);const f=p},61726:(e,t,s)=>{"use strict";s.d(t,{r:()=>c});var a=s(20144),r=s(36796),i=s(34367),n=s(44652),o=s.n(n);const l=(e,t)=>{a["default"].$socket?i.Z.state.socket.disconnecting||i.Z.state.socket.connecting?o().debug("Socket emit denied, in disonnecting state:",e,t):a["default"].$socket.emit(e,t):o().warn("Socket emit denied, socket not ready.",e,t)},c={async machineServicesRestart(e){const t=r.hw.onServiceRestart;l("machine.services.restart",{dispatch:"void",params:{service:e},wait:t})},async machineServicesStart(e){const t=r.hw.onServiceStart;l("machine.services.start",{dispatch:"void",params:{service:e},wait:t})},async machineServicesStop(e){const t=r.hw.onServiceStop;l("machine.services.stop",{dispatch:"void",params:{service:e},wait:t})},async machineReboot(){l("machine.reboot",{dispatch:"void"})},async machineShutdown(){l("machine.shutdown",{dispatch:"void"})},async machineUpdateStatus(e=!1){i.Z.dispatch("version/refreshing",!0),l("machine.update.status",{dispatch:"version/onUpdateStatus",params:{refresh:e}})},async machineUpdateRecover(e,t=!1){let s="version/onUpdatedClient";"moonraker"===e&&(s="version/onUpdatedMoonraker"),"klipper"===e&&(s="version/onUpdatedKlipper"),l("machine.update.recover",{dispatch:s,params:{name:e,hard:t}})},async machineUpdateMoonraker(){l("machine.update.moonraker",{dispatch:"version/onUpdatedMoonraker"})},async machineUpdateKlipper(){l("machine.update.klipper",{dispatch:"version/onUpdatedKlipper",params:{include_deps:!0}})},async machineUpdateClient(e){let t="version/onUpdatedClient";"fluidd"===e&&(t="version/onUpdatedFluidd"),l("machine.update.client",{dispatch:t,params:{name:e}})},async machineUpdateSystem(){l("machine.update.system",{dispatch:"version/onUpdatedSystem"})},async machineUpdateAll(){l("machine.update.full",{dispatch:"version/onUpdatedAll"})},async machineProcStats(){l("machine.proc_stats",{dispatch:"server/onMachineProcStats"})},async machineSystemInfo(){l("machine.system_info",{dispatch:"server/onMachineSystemInfo"})},async machineDevicePowerDevices(){l("machine.device_power.devices",{dispatch:"power/onInit"})},async machineDevicePowerStatus(e){l("machine.device_power.status",{dispatch:"power/onStatus",params:{[e]:null}})},async machineDevicePowerToggle(e,t,s){const a="on"===t?"machine.device_power.on":"machine.device_power.off";l(a,{dispatch:"power/onToggle",params:{[e]:null},wait:s})},async machineTimelapseSetSettings(e,t){l("machine.timelapse.post_settings",{dispatch:"timelapse/onSettings",params:e,wait:t})},async machineTimelapseSaveFrames(e){l("machine.timelapse.saveframes",{wait:e})},async machineTimelapseRender(){l("machine.timelapse.render",{})},async printerInfo(){l("printer.info",{dispatch:"printer/onPrinterInfo"})},async printerRestart(){l("printer.restart",{dispatch:"void",wait:r.hw.onKlipperRestart})},async printerFirmwareRestart(){l("printer.firmware_restart",{dispatch:"void",wait:r.hw.onKlipperFirmwareRestart})},async printerQueryEndstops(){l("printer.query_endstops.status",{dispatch:"printer/onQueryEndstops",wait:r.hw.onQueryEndstops})},async printerObjectsList(){l("printer.objects.list",{dispatch:"printer/onPrinterObjectsList"})},async printerObjectsSubscribe(e){l("printer.objects.subscribe",{dispatch:"printer/onPrinterObjectsSubscribe",params:{objects:e}})},async printerPrintStart(e){l("printer.print.start",{dispatch:"void",params:{filename:e}})},async printerPrintCancel(){l("printer.print.cancel",{dispatch:"printer/onPrintCancel",wait:r.hw.onPrintCancel})},async printerPrintPause(){l("printer.print.pause",{dispatch:"printer/onPrintPause",wait:r.hw.onPrintPause})},async printerPrintResume(){l("printer.print.resume",{dispatch:"printer/onPrintResume",wait:r.hw.onPrintResume})},async printerGcodeScript(e,t){l("printer.gcode.script",{dispatch:"console/onGcodeScript",params:{script:e},wait:t})},async printerGcodeHelp(){l("printer.gcode.help",{dispatch:"console/onGcodeHelp"})},async printerEmergencyStop(){l("printer.emergency_stop",{dispatch:"void"})},async serverInfo(){l("server.info",{dispatch:"server/onServerInfo"})},async identify(){l("server.connection.identify",{dispatch:"socket/onConnectionId",params:{client_name:r.OH.APP_NAME,version:`${i.Z.state.version.fluidd.version||"0.0.0"}-${i.Z.state.version.fluidd.hash||"unknown"}`.trim(),type:"web",url:r.OH.GITHUB_REPO}})},async timelapseState(){l("machine.timelapse.get_settings",{dispatch:"timelapse/onSettings"}),l("machine.timelapse.lastframeinfo",{dispatch:"timelapse/onLastFrame"})},async serverConfig(){l("server.config",{dispatch:"server/onServerConfig"})},async serverWrite(e,t,s=r.OH.MOONRAKER_DB.fluidd.NAMESPACE){l("server.database.post_item",{params:{namespace:s,key:e,value:t}})},async serverDelete(e,t=r.OH.MOONRAKER_DB.fluidd.NAMESPACE){l("server.database.delete_item",{params:{namespace:t,key:e}})},async serverRead(e,t=r.OH.MOONRAKER_DB.fluidd.NAMESPACE){l("server.database.get_item",{dispatch:"socket/onServerRead",params:{namespace:t,key:e}})},async serverRestart(){l("server.restart",{dispatch:"void"})},async serverTemperatureStore(){l("server.temperature_store",{dispatch:"charts/initTempStore"})},async serverGcodeStore(){l("server.gcode_store",{dispatch:"console/onGcodeStore"})},async serverHistoryList(e){l("server.history.list",{dispatch:"history/onHistoryList",params:e})},async serverHistoryTotals(){l("server.history.totals",{dispatch:"history/onHistoryTotals"})},async serverHistoryDeleteJob(e){let t={uid:e};"all"===e&&(t={all:!0}),l("server.history.delete_job",{dispatch:"history/onDelete",params:t})},async serverHistoryResetTotals(){l("server.history.reset_totals",{dispatch:"history/onHistoryChange"})},async serverFilesMetaData(e){l("server.files.metadata",{dispatch:"files/onFileMetaData",params:{filename:e}})},async serverFilesGetDirectory(e,t){const s=`${r.hw.onFileSystem}${t}`;l("server.files.get_directory",{dispatch:"files/onServerFilesGetDirectory",wait:s,params:{root:e,path:t,extended:!0}})},async serverFilesListRoot(e){const t=`${r.hw.onFileSystem}${e}`;l("server.files.list",{dispatch:"files/onServerFilesListRoot",wait:t,params:{root:e}})},async serverFilesMove(e,t){const s=r.hw.onFileSystem;l("server.files.move",{dispatch:"void",wait:s,params:{source:e,dest:t}})},async serverFilesPostDirectory(e){const t=r.hw.onFileSystem;l("server.files.post_directory",{dispatch:"void",wait:t,params:{path:e}})},async serverFilesDeleteFile(e){const t=r.hw.onFileSystem;l("server.files.delete_file",{dispatch:"void",wait:t,params:{path:e}})},async serverFilesDeleteDirectory(e,t=!1){const s=r.hw.onFileSystem;l("server.files.delete_directory",{dispatch:"void",wait:s,params:{path:e,force:t}})},async serverAnnouncementsList(){l("server.announcements.list",{dispatch:"announcements/onAnnouncementsList"})},async serverAnnouncementsDismiss(e,t){l("server.announcements.dismiss",{dispatch:"void",params:{entry_id:e,wake_time:t}})},async serverWebcamsList(){l("server.webcams.list",{dispatch:"webcams/onWebcamsList"})}}},58477:(e,t,s)=>{"use strict";s.d(t,{N:()=>r,o:()=>i});var a=s(20144);const r={bus:new a["default"],$emit:(e,t={})=>{const s={open:!0,timeout:-1,...t};e&&(s.text=e),r.bus.$emit("flashMessage",s)}};var i;(function(e){e["success"]="success",e["error"]="error",e["warning"]="warning",e["primary"]="primary",e["secondary"]="secondary"})(i||(i={}))},36796:(e,t,s)=>{"use strict";s.d(t,{OH:()=>r,PJ:()=>i,hw:()=>n});var a=s(55317);const r=Object.freeze({APP_NAME:"fluidd",HEADER_HEIGHT:56,DEFAULTS:{CAMERA_URL:"/webcam?action=stream"},NETWORK_REQUEST_TIMEOUT:0,KLIPPY_RETRY_DELAY:1500,SOCKET_RETRY_DELAY:2e3,SOCKET_PING_INTERVAL:1e4,CONSOLE_HISTORY_RETENTION:1e3,CONSOLE_RECEIVE_PREFIX:"",CONSOLE_SEND_PREFIX:"$ ",CONSOLE_COMMAND_HISTORY:20,CHART_HISTORY_RETENTION:1200,JOB_HISTORY_LOAD:50,KLIPPY_DISCONNECTED_REDIRECT:"/configuration",LOCAL_CARDSTATE_STORAGE_KEY:"cardState",LOCAL_CARDLAYOUT_STORAGE_KEY:"cardLayout2",LOCAL_INSTANCES_STORAGE_KEY:"appInstances",MOONRAKER_DB:{fluidd:{NAMESPACE:"fluidd",ROOTS:{uiSettings:{name:"uiSettings",dispatch:"config/initUiSettings"},macros:{name:"macros",dispatch:"macros/initMacros"},console:{name:"console",dispatch:"console/initConsole"},charts:{name:"charts",dispatch:"charts/initCharts"},cameras:{name:"cameras",dispatch:"cameras/initLegacyCameras"},layout:{name:"layout",dispatch:"layout/initLayout"}}},webcams:{NAMESPACE:"webcams",ROOTS:{webcams:{dispatch:"cameras/initCameras"}}}},MOONRAKER_COMPONENTS:{auth:{name:"authorization",dispatch:"auth/init"},power:{name:"power",dispatch:"power/init"},updateManager:{name:"update_manager",dispatch:"version/init"},history:{name:"history",dispatch:"history/init"},timelapse:{name:"timelapse",dispatch:"timelapse/init"},announcements:{name:"announcements",dispatch:"announcements/init"},webcams:{name:"webcam",dispatch:"webcams/init"}},CONFIG_SERVICE_MAP:[{filename:"moonraker.conf",service:"moonraker",link:"https://moonraker.readthedocs.io/en/latest/configuration/"},{filename:"webcam.txt",service:"webcamd"},{filename:"crowsnest.conf",service:"crowsnest",link:"https://github.com/mainsail-crew/crowsnest"},{filename:"klipperscreen.conf",service:"KlipperScreen",link:"https://klipperscreen.readthedocs.io/en/latest/"},{filename:"mooncord-webcam.json",service:"webcamd",link:"https://github.com/eliteSchwein/mooncord"},{prefix:"mooncord",service:"MoonCord",link:"https://github.com/eliteSchwein/mooncord"},{filename:"telegram.conf",service:"moonraker-telegram-bot",link:"https://github.com/nlef/moonraker-telegram-bot/wiki/Sample-config"},{suffix:".cfg",service:"klipper",link:"https://www.klipper3d.org/Config_Reference.html"}],FILTERED_FILES_PREFIX:[".thumbs","thumbs"],FILTERED_FILES_EXTENSION:[".ignoreme"],DOCS_ROOT:"https://docs.fluidd.xyz",DOCS_REQUIRED_CONFIGURATION:"https://docs.fluidd.xyz/configuration/initial_setup",DOCS_MULTIPLE_INSTANCES:"https://docs.fluidd.xyz/configuration/multiple_printers",DOCS_MOONRAKER_COMPONENTS:"https://docs.fluidd.xyz/configuration/moonraker",DOCS_AUTH_LOST_PASSWORD:"https://docs.fluidd.xyz/authorization#lost-password",DOCS_AUTH:"https://docs.fluidd.xyz/authorization",GITHUB_REPO:"https://github.com/fluidd-core/fluidd"}),i=Object.freeze({dash:a.V7Q,account:a.rI3,addAccount:a.psO,help:a.Xc_,motion:a.xAI,limits:a.alQ,send:a.NN1,open:a.TpR,move:a.MJZ,tabs:a.S8s,menu:a.SXi,menuAlt:a.$Qi,dots:a.XMI,dotsGrid:a.kvM,drag:a.Apr,chart:a.M7S,power:a.ZKv,powerCycle:a.KQE,powerOn:a.vbV,powerOff:a.Baq,home:a.vgA,close:a.r5M,refresh:a.jcD,restart:a.RZA,restartAlert:a.xnG,update:a.NZS,warning:a.jZI,error:a.m8t,thermometer:a.lKA,bell:a.QWc,fireAlert:a.Gf4,snowflakeAlert:a.E9l,circle:a.mdD,blankCircle:a.Ws4,markedCircle:a.Ss_,checkedCircle:a.k6A,checkboxBlank:a.Ii0,checkboxMarked:a.$Cb,alertCircle:a.fr4,folderAdd:a.nK5,folderUp:a.WSy,folder:a.in3,fileUpload:a.xyB,fileAdd:a.t9M,inProgress:a.nVh,progressUpload:a.w6W,up:a.XHH,down:a.dYk,left:a.J3k,right:a.aIO,tune:a.S3d,zUp:a.vnu,zDown:a.JbO,expandHorizontal:a.fW3,cog:a.Shd,cogs:a.pcj,save:a.JTj,estop:a.F$s,fire:a.xRl,tools:a.tpc,minus:a.UHA,plus:a.qX5,check:a.oL1,console:a.tvi,clock:a.R1X,formatLineSpacing:a.tCT,layersTripleOutline:a.$lM,chevronUp:a.Waq,chevronDown:a.CW,chevronRight:a.zrb,chevronLeft:a.gAv,timer:a.Qq3,fileCode:a.nqy,files:a.iq9,fileDocument:a.P2t,file:a.iA5,fileCancel:a.$V3,pause:a.Wa1,cancel:a.UEB,cancelled:a.M_e,play:a._86,resume:a.dIS,stop:a.fUz,reprint:a.S0t,printer:a.S0t,download:a.OGU,rename:a.o4Y,delete:a.x9U,camera:a.pJw,fan:a.qXi,pencil:a.r9,pencilLock:a.gIB,magnify:a.I0v,magnifyPlus:a.GZ8,magnifyMinus:a.ElP,printer3d:a.SJO,printer3dNozzle:a.Euj,printer3dNozzleAlert:a.iaO,bedMesh:a.fc6,host:a.hu7,history:a.BBX,filter:a.Qbm,commit:a.NHO,cloudCheck:a.Q_T,cloudAlert:a.NtT,cubeScan:a._iY,consoleLine:a.aTZ,lock:a.d5D,lockOpen:a._Ub,lockReset:a.LtG,reset:a.mBz,tempError:a.xZH,contentCopy:a.a0Z,apps:a.J7K,shieldAccount:a.MBn,retract:a.U4l,codeJson:a.UgG,desktopTower:a.hu7,harddisk:a.V72,message:a.X6X,fullScreen:a.h40,video:a.Ydh,snooze:a.jGH,chip:a.sVq,viewHeadline:a.dpx,absolutePositioning:a.LKY,relativePositioning:a.vh0,openInNew:a.fOx,imageSizeSelectLarge:a.QXv}),n=Object.freeze({onServiceRestart:"onServiceRestart",onServiceStop:"onServiceStop",onServiceStart:"onServiceStart",onDevicePowerToggle:"onDevicePowerToggle",onHomeAll:"onHomeAll",onHomeXY:"onHomeXY",onHomeX:"onHomeX",onHomeY:"onHomeY",onHomeZ:"onHomeZ",onQGL:"onQGL",onZTilt:"onZTilt",onBedScrewsAdjust:"onBedScrewAdjust",onBedScrewsCalculate:"onBedScrewsCalculate",onPrintPause:"onPrintPause",onPrintCancel:"onPrintCancel",onPrintResume:"onPrintResume",onMacro:"onMacro",onSetSpeed:"onSetSpeed",onSetFlow:"onSetFlow",onSetPressureAdvance:"onSetPressureAdvance",onSetFanSpeed:"onSetFanSpeed",onSetOutputPin:"onSetOutputPin",onZAdjust:"onZAdjust",onZApply:"onZApply",onSaveConfig:"onSaveConfig",onRetract:"onRetract",onExtrude:"onExtrude",onMeshCalibrate:"onMeshCalibrate",onKlipperRestart:"klipperRestart",onKlipperFirmwareRestart:"klipperFirmwareRestart",onSetVelocity:"onSetVelocity",onSetAcceleration:"onSetAcceleration",onSetDeceleration:"onSetDeceleration",onSetSCV:"onSetSCV",onSetRetractLength:"onSetRetractLength",onSetRetractSpeed:"onSetRetractSpeed",onSetUnretractSpeed:"onSetUnretractSpeed",onSetUnretractExtraLength:"onSetUnretractExtraLength",onExtruderChange:"onExtruderChange",onLoadLanguage:"onLoadLanguage",onFileSystem:"onFileSystem",onTimelapseSaveFrame:"onTimelapseSaveFrame",onManualProbe:"onManualProbe",onQueryEndstops:"onQueryEndstops",onQueryProbe:"onQueryProbe"})},72505:(e,t,s)=>{"use strict";s.d(t,{J:()=>v});s(21703);var a=s(20144),r=s(77021),i=s(34367),n=s(44652),o=s.n(n),l=s(36796),c=s(9669),p=s.n(c),d=s(19665);const u=e=>{if(e)try{const t=new URL(e),s=t.pathname.endsWith("/")?t.pathname.slice(0,-1):t.pathname;return`${t.protocol}//${t.host}${s}`}catch(t){o().debug("Error parsing endpoint url in config.json",t)}},m=u,h=async()=>{const e=await r.Z.get("/config.json?date="+(new Date).getTime());if(e&&e.data)return o().debug("Loaded web host configuration",e.data),e.data;throw o().debug("Failed loading web host configuration"),new Error("Unable to load host configuration. Please check the host.")},g=async e=>{if(l.OH.LOCAL_INSTANCES_STORAGE_KEY in localStorage){const e=JSON.parse(localStorage[l.OH.LOCAL_INSTANCES_STORAGE_KEY]);if(e&&e.length)for(const t of e)if(t.active)return o().debug("API Config from Local Storage",t),t}const t=[],s=[];if(e&&"blacklist"in e&&e.blacklist.length&&s.push(...e.blacklist),e&&"endpoints"in e&&e.endpoints.length&&t.push(...e.endpoints.map(m).filter((e=>!!e))),-1===s.findIndex((e=>e.includes(document.location.hostname)))){t.push(`${document.location.protocol}//${document.location.host}`);const e="https:"===document.location.protocol?"7130":"7125";t.push(`${document.location.protocol}//${document.location.hostname}:${e}`)}const i=await Promise.all(t.map((async e=>r.Z.get(e+"/server/info?date="+(new Date).getTime(),{timeout:1e3}).then((()=>!0)).catch((e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)}))))),n=i.findIndex((e=>e));return n>-1?a["default"].$filters.getApiUrls(t[n]):{apiUrl:"",socketUrl:""}},f=async(e,t)=>{var s;const a={data:{},apiConnected:!0,apiAuthenticated:!0};if(""!==e.apiUrl&&""!==e.socketUrl)try{const e=await r.Z.get(`/server/database/item?namespace=${t}`);a.data=e.data.result.value,o().debug("loaded db",t,a.data)}catch(i){switch(p().isAxiosError(i)?null===(s=i.response)||void 0===s?void 0:s.status:0){case 404:break;case 401:a.apiAuthenticated=!1;break;default:o().debug("API Down / Not Available:",i),a.apiConnected=!1;break}}else a.apiConnected=!1,a.apiAuthenticated=!1;return a},v=async(e,t)=>{await i.Z.dispatch("reset",void 0,{root:!0}),t||(t=await h()),e||(e=await g(t)),e.apiUrl&&(r.Z.defaults.baseURL=e.apiUrl),await i.Z.dispatch("config/onInitApiConfig",e),o().debug("inited apis",i.Z.state.config,e),await i.Z.dispatch("auth/initAuth");let s=!0,a=!0;for(const{NAMESPACE:n,ROOTS:c}of Object.values(l.OH.MOONRAKER_DB)){if(!s&&!a)break;const t=await f(e,n);a=t.apiAuthenticated,s=t.apiConnected;const{data:l}=t,p=Object.values(c),d=p.map((async e=>{const t=e.name?l[e.name]:l;if(e.migrate_only)t&&i.Z.dispatch(e.dispatch,t);else{if(!t)try{await r.Z.post("/server/database/item",{namespace:n,key:e.name,value:{}})}catch(s){o().debug("Error creating database item",s)}await i.Z.dispatch(e.dispatch,t||{})}}));await Promise.all(d)}return await i.Z.dispatch("init",{apiConfig:e,hostConfig:t,apiConnected:s}),"/"!==d.Z.currentRoute.path&&i.Z.state.auth.authenticated&&d.Z.push("/"),{apiConfig:e,hostConfig:t,apiConnected:s,apiAuthenticated:a}}},20806:(e,t,s)=>{"use strict";var a=s(45904);a.ZP.registerHooks(["beforeRouteEnter","beforeRouteUpdate"]);var r=s(44652),i=s.n(r);i().wrapAll(),i().level=1;var n=s(20144),o=s(36796),l=s(42365),c=s(19665),p=s(34367),d=s(52753),u=s(54801),m=s(67356),h=s(8087),g=s.n(h),f=s(34952),v=s(72505),_=s(83250),y=s(90504),b=s(54003),x=s(26786),$=s(67350);const w=(e,t,s)=>{const a=t.length-1;if(a<0)return void 0===e?s:e;for(let r=0;r<a;r++){if(null==e)return s;e=e[t[r]]}return null==e||void 0===e[t[a]]?s:e[t[a]]},S=(e,t,s)=>null!=e&&t&&"string"===typeof t?void 0!==e[t]?e[t]:(t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,""),w(e,t.split("."),s)):s,k={formatCounterTime:e=>{e=Number(e),!isNaN(+e)&&(0,_.Z)(e)||(e=0);let t=!1;e<0&&(e=Math.abs(e),t=!0);const s=Math.floor(e/3600),a=Math.floor(e%3600/60),r=Math.floor(e%3600%60);let i=r+"s";return i=a+"m "+i,s>0&&(i=s+"h "+i),t?"-"+i:i},formatDateTime:(e,t)=>{const s=n["default"].$dayjs(1e3*e);return t?s.format(t):s.isToday()?s.fromNow():s.format("MMM D, YYYY h:mm A")},formatAbsoluteDateTime:(e,t,s)=>{const a=n["default"].$dayjs(1e3*e),r="MMM D, h:mm a",i=a.isToday()?t:s;return a.format(i||r)},camelCase:e=>(0,y.Z)(e),startCase:e=>(0,b.Z)(e),capitalize:e=>(e=k.camelCase(e),(0,x.Z)(e)),getReadableFileSizeString(e){let t=-1;const s=[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"];if(0===e)return`0${s[0]}`;do{e/=1024,t++}while(e>1024);return Math.max(e,.1).toFixed(1)+s[t]},getReadableLengthString(e){return e>=1e3?(e/1e3).toFixed(2)+" m":e>100?(e/10).toFixed(1)+" cm":e.toFixed(1)+" mm"},getReadableWeightString(e){return e>=1e3?(e/1e3).toFixed(2)+" kg":e.toFixed(2)+" g"},getReadableFrequencyString(e){let t=0;const s=[" Hz"," KHz"," MHz"," GHz"];while(e>=1e3)e/=1e3,t++;return e.toFixed()+s[t]},fileSystemSort(e,t,s,a){if(null===t||!t.length)return e;const r=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return e.sort(((e,a)=>{if(null!==e&&"directory"===e.type&&".."===e.name)return-1;if(null!==a&&"directory"===a.type&&".."===a.name)return 1;for(let i=0;i<t.length;i++){const n=t[i];let o=S(e,n),l=S(a,n);if(s[i]&&([o,l]=[l,o]),null!==o||null!==l){if([o,l]=[o,l].map((e=>(e||"").toString().toLocaleLowerCase())),"directory"===e.type||"directory"===a.type)return e.type===a.type?r.compare(o,l):0;if(o!==l)return isNaN(o)||isNaN(l)?r.compare(o,l):Number(o)-Number(l)}}return 0}))},getApiUrls(e){const t=new URL(e),s="https:"===t.protocol?"wss://":"ws://",a={apiUrl:`${t.protocol}//${t.host}`,socketUrl:`${s}${t.host}/websocket`};return a},isColorDark(e){const t=(0,$.ZP)(e).getBrightness();return t/255*100<=50},routeTo(e,t){e.currentRoute.fullPath!==t&&e.push(t)}},C={install(e){e.prototype.$filters=k,e.prototype.$globals=o.OH,e.prototype.$waits=o.hw,e.$filters=k,e.$globals=o.OH,e.$waits=o.hw}};var Z=s(76927),P=s(9996),A=s.n(P);class R{constructor(e){this.url="",this.connection=null,this.reconnectEnabled=!1,this.reconnectInterval=1e3,this.allowedReconnectAttempts=3,this.reconnectCount=0,this.logPrefix="[WEBSOCKET]",this.requests=[],this.store=null,this.cache=null,this.url=e.url,this.reconnectEnabled=e.reconnectEnabled||!1,this.reconnectInterval=e.reconnectInterval||1e3,this.store=e.store?e.store:null}pong(){clearTimeout(this.pingTimeout),this.store.state.socket.disconnecting||this.store.state.files.download||(this.store.commit("socket/setSocketOpen",!0),this.store.dispatch("socket/onSocketConnecting",!1)),this.pingTimeout=setTimeout((()=>{this.store.state.socket.disconnecting||this.store.state.files.download||(i().debug(`${this.logPrefix} Connection timeout, pong failed`),this.store&&this.store.commit("socket/setSocketOpen",!1),this.store&&this.store.dispatch("socket/onSocketConnecting",!0))}),o.OH.SOCKET_PING_INTERVAL)}close(){this.connection&&(this.cache=null,this.connection.close(),this.reconnectCount=0)}async connect(e){e&&(this.url=e),this.cache=null,await Z.i.getOneShot().then((e=>e.data.result)).then((e=>{this.store&&this.store.dispatch("socket/onSocketConnecting",!0),this.connection=new WebSocket(`${this.url}?token=${e}`),this.connection.onopen=()=>{this.reconnectEnabled&&(this.reconnectCount=1),this.store&&(this.store.dispatch("socket/onSocketConnecting",!1),this.store.dispatch("socket/onSocketOpen",!0))},this.connection.onclose=e=>{i().debug(`${this.logPrefix} Connection closed:`,e),clearTimeout(this.pingTimeout),this.store&&this.store.dispatch("socket/onSocketClose",e),e.wasClean||this.reconnect()},this.connection.onerror=e=>{i().error(`${this.logPrefix} Connection error:`,e),this.store&&this.store.dispatch("socket/onSocketError",e)},this.connection.onmessage=e=>{var t,s;const a=JSON.parse(e.data);let r;const n=this.requests.findIndex((e=>e.id===a.id));if(n>-1&&(r=this.requests[n],this.requests.splice(n,1)),this.store&&r&&r.wait&&r.wait.length&&this.store.commit("wait/setRemoveWait",r.wait),a.error)return r&&Object.defineProperty(a.error,"__request__",{enumerable:!1,value:r}),i().debug(`${this.logPrefix} Response error:`,a.error),void(this.store&&this.store.dispatch("socket/onSocketError",a.error));if(this.pong(),r){let e=a.result?a.result:a.params;"string"===typeof e&&(e={result:e}),Object.defineProperty(e,"__request__",{enumerable:!1,value:r}),i().debug(`${this.logPrefix} Response:`,e),r.dispatch&&this.store&&(null===(t=this.store)||void 0===t||t.dispatch(r.dispatch,e)),r.commit&&this.store&&(null===(s=this.store)||void 0===s||s.commit(r.commit,e))}else if(a.params&&a.params[0]){const[e,t]=a.params;if("notify_status_update"!==a.method)this.store&&this.store.dispatch("socket/"+(0,y.Z)(a.method),e);else{for(const t of["motion_report"])this.store&&t in e&&(this.store.dispatch("printer/onFastNotifyStatusUpdate",{key:t,payload:e[t]},{root:!0}),delete e[t]);const s=t?1e3*t:Date.now();this.cache=this.cache?{timestamp:this.cache.timestamp,params:A()(this.cache.params,e,{arrayMerge:(e,t)=>t})}:{timestamp:s,params:e},s-this.cache.timestamp>=1e3&&(this.store&&this.store.dispatch("socket/"+(0,y.Z)(a.method),this.cache.params),this.cache={timestamp:s,params:{}})}}else this.store&&this.store.dispatch("socket/"+(0,y.Z)(a.method))}})).catch((e=>{var t;401!==(null===(t=e.response)||void 0===t?void 0:t.status)&&this.reconnect()}))}reconnect(){this.reconnectCount<=this.allowedReconnectAttempts?(this.reconnectCount+=1,this.connection=null,i().debug(`${this.logPrefix} Reconnecting in ${this.reconnectInterval}`),setTimeout((()=>{this.connect()}),this.reconnectInterval)):this.store&&this.store.dispatch("socket/onSocketConnecting",!1)}emit(e,t){var s,a;if((null===(s=this.connection)||void 0===s?void 0:s.readyState)===WebSocket.OPEN){const s=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,a=s(1e4,99999),r={id:a,method:e,jsonrpc:"2.0"},i={id:a};t&&t.wait&&(i.wait=t.wait,this.store&&this.store.dispatch("wait/addWait",t.wait)),t&&t.params&&(r.params=t.params,i.params=t.params),t&&t.dispatch&&(i.dispatch=t.dispatch),t&&t.commit&&(i.commit=t.commit),this.requests.push(i),this.connection.send(JSON.stringify(r))}else i().debug(`${this.logPrefix} Not ready, or closed.`,e,t,null===(a=this.connection)||void 0===a?void 0:a.readyState)}}const E={install(e,t){const s=new R(t);e.prototype.$socket=s,e.$socket=s}};class L{constructor(e){if(this.logPrefix="[WEBSOCKET]",this.colorList={},e.colorList)for(const t in e.colorList)if("base"in e.colorList[t]){const s=e.colorList[t],a=(0,$.ZP)(s.base).toHsl();let r=a.h,i=a.l;const n=a.s,o=s.hsplit||0,l=s.lsplit?s.lsplit/100:0;this.colorList[t]=[...Array(s.count).keys()].map((()=>{const e=(0,$.ZP)({h:r,s:n,l:i}).toHexString();return r+=o,i-=l,{color:e,used:!1}}))}else{const s=e.colorList[t];this.colorList[t]=s.map((e=>({color:e,used:!1})))}}next(e,t){if(void 0===this.colorList[e])return;const s=this.colorList[e].find((e=>e.name===t));if(s)return s.color;this.colorList[e].findIndex((e=>!e.used))>=0&&this.reset(e);for(const a of this.colorList[e])if(!a.used)return t&&(a.name=t),a.used=!0,a.color}reset(e,t=!1){void 0!==this.colorList[e]&&this.colorList[e].forEach((e=>{e.name&&!t||(e.used=!1,delete e.name)}))}resetAll(){for(const e in this.colorList)this.reset(e)}forceResetAll(){for(const e in this.colorList)this.reset(e,!0)}}const D={install(e,t){const s={colorList:{heater:{base:"#ff5252",hsplit:20,count:3},bed:{base:"#1fb0ff",hsplit:20,count:2},fan:["#3DC25A","#58FC7C","#10EB40","#7EF297"],sensor:["#D67600","#830EE3","#B366F2","#E06573","#E38819"]}},a=new L({...s,...t});e.prototype.$colorset=a,e.$colorset=a}};var T=s(27484),M=s.n(T),O=(s(25054),s(84110)),I=s.n(O),F=s(7124),B=s.n(F),N=s(70660),U=s.n(N),j=s(56176),H=s.n(j),W=s(70178),z=s.n(W),q=s(1646),V=s.n(q);const G={install(e){M().extend(I()),M().extend(B()),M().extend(U()),M().extend(H()),M().extend(z()),M().extend(V()),M().locale("en-chart",{relativeTime:{future:"in %s",past:"- %s min",s:"- 0 min",m:"- 1 min",mm:"- %d min",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"}}),M().locale("en"),e.prototype.$dayjs=M(),e.$dayjs=M()}};var Y=s(40998),K=s(90903),X=s(60266),J=s(69256),Q=s(4324),ee=s(3059),te=s(11713),se=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.loading?t(Y.Z):t(Y.Z,{staticClass:"fluidd"},[t("app-tools-drawer",{model:{value:e.toolsdrawer,callback:function(t){e.toolsdrawer=t},expression:"toolsdrawer"}}),t("app-nav-drawer",{model:{value:e.navdrawer,callback:function(t){e.navdrawer=t},expression:"navdrawer"}}),t("app-bar",{on:{toolsdrawer:e.handleToolsDrawerChange,navdrawer:e.handleNavDrawerChange}}),e.flashMessage?t("flash-message",{attrs:{text:e.flashMessage.text,type:e.flashMessage.type,timeout:e.flashMessage.timeout},model:{value:e.flashMessage.open,callback:function(t){e.$set(e.flashMessage,"open",t)},expression:"flashMessage.open"}}):e._e(),e.isMobile&&e.authenticated&&e.socketConnected?t(K.Z,{staticClass:"ml-2 mb-2",attrs:{"x-small":"",fab:"",fixed:"",bottom:"",left:"",color:"error"},on:{click:function(t){return e.emergencyStop()}}},[t(Q.Z,[e._v("$estop")])],1):e._e(),t(ee.Z,{style:e.customBackgroundImageStyle},[t(J.Z,{staticClass:"constrained-width pa-2 pa-sm-4",class:{"fill-height":e.$route.meta&&e.$route.meta.fillHeight,[["single","double","triple","quad"][e.columnCount-1]]:!0},attrs:{fluid:""}},[!e.socketConnected||!e.apiConnected||e.klippyReady&&!e.hasWarnings||e.inLayout||"/login"===e.$route.path?e._e():t(te.Z,[t(X.Z,[t("klippy-status-card")],1)],1),e.socketConnected&&e.apiConnected||!e.authenticated&&e.apiConnected?t("router-view"):e._e()],1),!e.socketConnected&&!e.apiConnected||!e.socketConnected&&e.authenticated?t("socket-disconnected"):e._e(),t("updating-dialog")],1),t("app-footer")],1)},ae=[],re=(s(82801),s(70655)),ie=s(23940),ne=s(58477),oe=s(84496),le=s(35059);let ce=class extends((0,ie.Wr)(oe.Z,le.Z)){constructor(){super(...arguments),this.toolsdrawer=null,this.navdrawer=null,this.showUpdateUI=!1,this.customBackgroundImageStyle={},this.flashMessage={open:!1,text:void 0,type:void 0}}get updating(){return this.$store.state.version.busy}get inLayout(){return this.$store.state.config.layoutMode}get columnCount(){return this.$store.state.config.containerColumnCount}get loading(){return this.$store.getters["wait/hasWait"](o.hw.onLoadLanguage)}get progress(){let e=this.$store.getters["printer/getPrintProgress"];return e=(100*e).toFixed(),e}get isMobile(){return this.$vuetify.breakpoint.mobile}get pageTitle(){const e=this.$store.state.config.uiSettings.general.instanceName||"",t=this.$route.name;return this.printerPrinting?`[${this.progress}%] | ${e} | ${t}`:`${e} | ${t}`}get pageIcon(){let e;const t=this.$store.getters["config/getTheme"];if(this.printerPrinting){const s=64,a=t.currentTheme.primary,r="rgba(255, 255, 255, 0.10)",i=document.createElement("canvas"),n=i.getContext("2d");i.width=s,i.height=s;const o=this.progress,l=i.width/2,c=i.height/2,p=8,d=s/2-p/2,u=1.5*Math.PI,m=u+2*o*Math.PI/100;n.moveTo(l,c),n.beginPath(),n.arc(l,c,d,0,2*Math.PI,!1),n.strokeStyle=r,n.lineWidth=p,n.stroke(),n.closePath(),n.moveTo(l,c),n.beginPath(),n.arc(l,c,d,u,m,!1),n.strokeStyle=a,n.lineWidth=p,n.stroke(),e=i.toDataURL("image/png")}const s="data:image/svg+xml;base64,"+btoa(`<svg width="56" height="64" viewBox="0 0 314 361" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g transform="translate(-162.000000, -110.000000)"><path d="M234.444,327.531 L309.066,389.594 C309.906,390.313 310.81,390.928 311.759,391.436 L311.759,391.436 L311.771,391.442 L312.055,391.589 L312.163,391.643 L312.356,391.737 L312.534,391.821 L312.668,391.883 L312.902,391.987 L312.974,392.017 C314.656,392.733 316.433,393.128 318.217,393.206 L318.217,393.206 L318.278,393.209 L318.562,393.218 L318.674,393.22 L318.904,393.221 L319.104,393.22 L319.231,393.218 L319.529,393.208 L319.571,393.207 C321.359,393.128 323.142,392.733 324.829,392.013 L324.829,392.013 L324.877,391.993 L325.143,391.875 L325.244,391.829 L325.438,391.737 L325.643,391.638 L325.731,391.593 L326.012,391.447 L326.042,391.432 C326.989,390.925 327.891,390.311 328.729,389.593 L328.729,389.593 L398.493,331.574 L434.768,355.517 L318.896,470.422 L198.4,350.923 L234.444,327.531 Z M237.067,234.697 L310.465,281.908 C313.075,283.623 315.986,284.481 318.897,284.482 C321.805,284.482 324.713,283.626 327.325,281.912 L327.325,281.912 L400.727,234.702 L456.849,263.367 L318.897,378.093 L180.945,263.359 L237.067,234.697 Z M318.897,110.68 L475.771,168.448 L318.897,269.344 L162.024,168.44 L318.897,110.68 Z" id="Combined-Shape" fill="${t.currentTheme.primaryOffset}"></path><path d="M318.897,110.68 L475.771,168.448 L319,269.278 L319,111 L318.028,111 L318.897,110.68 Z" id="Combined-Shape" fill="${t.currentTheme.primary}"></path><path d="M400.727,234.702 L456.849,263.367 L319,378.007 L319.000106,284.481641 C321.735222,284.46261 324.467243,283.686291 326.949875,282.151021 L327.325,281.912 L400.727,234.702 Z" id="Combined-Shape" fill="${t.currentTheme.primary}"></path><path d="M398.493,331.574 L434.768,355.517 L319,470.319 L319,393.22 L319.104,393.22 L319.231,393.218 L319.529,393.208 L319.571,393.207 C321.359,393.128 323.142,392.733 324.829,392.013 L324.829,392.013 L324.877,391.993 L325.143,391.875 L325.244,391.829 L325.438,391.737 L325.643,391.638 L325.731,391.593 L326.012,391.447 L326.042,391.432 C326.989,390.925 327.891,390.311 328.729,389.593 L328.729,389.593 L398.493,331.574 Z" id="Combined-Shape" fill="${t.currentTheme.primary}"></path></g></svg>`);return[{rel:"icon",type:"image/svg+xml",sizes:"32x32",href:e||s},{rel:"icon",type:"image/svg+xml",sizes:"16x16",href:e||s}]}get primaryColor(){const e=this.$store.getters["config/getTheme"];return e.currentTheme.primary}get customStyleSheet(){return this.$store.getters["config/getCustomThemeFile"]("custom",[".css"])}async onCustomStyleSheet(e){if(!e)return;const t=await this.createFileUrl(e,"config"),s=document.getElementById("customStylesheet");if(s)return void s.setAttribute("href",t);const a=document.createElement("link");a.rel="stylesheet",a.type="text/css",a.id="customStylesheet",a.href=t,document.head.appendChild(a)}get customBackgroundImage(){return this.$store.getters["config/getCustomThemeFile"]("background",[".png",".jpg",".jpeg",".gif"])}async onCustomBackgroundImage(e){if(!e)return;const t=await this.createFileUrl(e,"config");this.customBackgroundImageStyle={backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundAttachment:"fixed",backgroundRepeat:"no-repeat"}}mounted(){ne.N.bus.$on("flashMessage",(e=>{this.flashMessage.text=e&&e.text||void 0,this.flashMessage.type=e&&e.type||void 0,this.flashMessage.timeout=e&&void 0!==e.timeout?e.timeout:void 0,this.flashMessage.open=!0}));const e=["link[rel*='icon'][type='image/png']","meta[name='theme-color']"];for(const t of e){const e=document.querySelectorAll(t);e.forEach((e=>{const t=e.parentElement;t&&t.removeChild(e)}))}}handleToolsDrawerChange(){this.toolsdrawer=!this.toolsdrawer}handleNavDrawerChange(){this.navdrawer=!this.navdrawer}};(0,re.gn)([(0,ie.RL)("customStyleSheet")],ce.prototype,"onCustomStyleSheet",null),(0,re.gn)([(0,ie.RL)("customBackgroundImage")],ce.prototype,"onCustomBackgroundImage",null),ce=(0,re.gn)([(0,ie.wA)({metaInfo(){const e=this.pageTitle,t=this.pageIcon;return{title:e,link:t,meta:[{name:"theme-color",content:this.primaryColor}]}}})],ce);const pe=ce,de=pe;var ue=s(1001),me=(0,ue.Z)(de,se,ae,!1,null,null,null);const he=me.exports,ge=s(36708);ge.keys().forEach((e=>{var t;const s=ge(e),a=(0,y.Z)(null===(t=e.split("/").pop())||void 0===t?void 0:t.replace(/\.\w+$/,""));a&&n["default"].component(a,s.default||s)}));const fe=e=>{e.onfocus=e=>{const t=e.target;t.blur()}};n["default"].directive("blur",fe),n["default"].component("VChart",(()=>s.e(28).then(s.bind(s,68577)))),n["default"].use(u.ZP),n["default"].use(G),n["default"].use(C),n["default"].use(m.Z),n["default"].use(D,{}),n["default"].use(g(),{vuetify:d.Z}),n["default"].use(f.InlineSvgPlugin),(0,v.J)().then((e=>{i().debug("Loaded App Configuration",e),n["default"].use(E,{url:e.apiConfig.socketUrl,reconnectEnabled:!0,reconnectInterval:o.OH.SOCKET_RETRY_DELAY,store:p.Z}),e.apiConfig.socketUrl&&e.apiConnected&&e.apiAuthenticated&&n["default"].$socket.connect(e.apiConfig.socketUrl),n["default"].config.productionTip=!1,new n["default"]({i18n:l.ZP,router:c.Z,store:p.Z,vuetify:d.Z,render:e=>e(he)}).$mount("#app")})).catch((e=>{i().debug("Error attempting to init App:",e)}))},35059:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var a=s(70655),r=s(20144),i=s(77021),n=s(23940),o=s(10665),l=s(9669),c=s.n(l),p=s(76927);let d=class extends r["default"]{constructor(){super(...arguments),this.cancelTokenSource=void 0}get apiUrl(){return this.$store.state.config.apiUrl}get isTrustedUser(){var e;const t=this.$store.getters["server/getConfig"].authorization.force_logins;return!t||"_TRUSTED_USER_"===(null===(e=this.$store.getters["auth/getCurrentUser"])||void 0===e?void 0:e.username)}getThumbUrl(e,t,s,a){if(e.length){a||(a=(new Date).getTime());const r=(0,o.jB)(e,t,s);if(r&&r.absolute_path)return`${r.absolute_path}?cachebust=${a}`;if(r&&r.data)return r.data}return""}async getGcode(e){const t=e.size/1024/1024;let s=!0;if(t>=100&&(s=await this.$confirm(this.$t("app.gcode.msg.confirm",{filename:e.filename,size:this.$filters.getReadableFileSizeString(e.size)}).toString(),{title:this.$tc("app.general.title.gcode_preview"),color:"card-heading",icon:"$error"})),s){this.cancelTokenSource=c().CancelToken.source();const t=e.path?`${e.path}/${e.filename}`:e.filename;return await this.getFile(t,"gcodes",e.size,{responseType:"text",transformResponse:[e=>e],cancelToken:this.cancelTokenSource.token})}}async getFile(e,t,s=0,a){const r=t?`${t}/${e}`:`${e}`,n=performance.now();this.$store.dispatch("files/updateFileDownload",{filepath:r,size:s,loaded:0,percent:0,speed:0,unit:"kB"});const o={...a,onDownloadProgress:e=>{const t=["kB","MB","GB"];let a=0,i=0;const o=performance.now()-n;if(o>0){a=e.loaded/o;while(a>1024)a/=1024,i=Math.min(2,i+1)}const l={filepath:r,loaded:e.loaded,percent:Math.round(e.loaded/s*100),speed:a,unit:t[i]};e.lengthComputable&&(s=l.size=e.total),this.$store.dispatch("files/updateFileDownload",l)}};return await i.Z.get(encodeURI(`${this.apiUrl}/server/files/${r}?date=${Date.now()}`),o)}async downloadFile(e,t){try{const s=encodeURI(await this.createFileUrl(e,t)),a=document.createElement("a");a.href=s,a.setAttribute("download",e),a.setAttribute("target","_blank"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}catch{}}async createFileUrl(e,t){const s=t?`${t}/${e}`:`${e}`,a=`${this.apiUrl}/server/files/${s}?date=${Date.now()}`;return this.isTrustedUser?a:`${a}&token=${(await p.i.getOneShot()).data.result}`}async uploadFile(e,t,s,a,r){const n=new FormData;let o=`${t}/${e.name}`;o=o.startsWith("/")?o:"/"+o,n.append("file",e,o),n.append("root",s),a&&n.append("print","true");const l=performance.now();return this.$store.dispatch("files/updateFileUpload",{filepath:o,size:e.size,loaded:0,percent:0,speed:0,unit:"kB",cancelled:!1}),i.Z.post(this.apiUrl+"/server/files/upload",n,{...r,headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{const t=["kB","MB","GB"];let s=0,a=0;const r=performance.now()-l;if(r>0){s=e.loaded/r;while(s>1024)s/=1024,a=Math.min(2,a+1)}this.$store.dispatch("files/updateFileUpload",{filepath:o,loaded:e.loaded,percent:Math.round(e.loaded/e.total*100),speed:s,unit:t[a]})}}).then((e=>e)).catch((e=>e)).finally((()=>{this.$store.dispatch("files/removeFileUpload",o)}))}async uploadFiles(e,t,s,a){for(const i of e){let e=`${t}/${i.name}`;e=e.startsWith("/")?e:"/"+e,this.$store.dispatch("files/updateFileUpload",{filepath:e,size:i.size,loaded:0,percent:0,speed:0,unit:"kB",cancelled:!1})}e.length>1&&(a=!1);for(const i of e){let e=`${t}/${i.name}`;e=e.startsWith("/")?e:"/"+e;const n=this.$store.state.files.uploads.find((t=>t.filepath===e));if(n&&!(null===n||void 0===n?void 0:n.cancelled))try{this.cancelTokenSource=c().CancelToken.source(),await this.uploadFile(i,t,s,a,{cancelToken:this.cancelTokenSource.token})}catch(r){return r}else this.$store.dispatch("files/removeFileUpload",e)}}};d=(0,a.gn)([n.wA],d);const u=d},10997:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});s(21703);var a=s(70655),r=s(20144),i=s(61726),n=s(23940);let o=class extends r["default"]{async _klipperReset(){this.$store.commit("socket/setAcceptNotifications",!1),await this.$store.dispatch("reset",["server","printer","charts","wait"],{root:!0})}hostReboot(){i.r.machineReboot()}hostShutdown(){i.r.machineShutdown()}async serviceRestartKlipper(){this.serviceRestartByName("klipper")}serviceRestartMoonraker(){this.serviceRestartByName("moonraker")}async serviceRestartByName(e){"moonraker"===e?(i.r.serverRestart(),this.$store.commit("socket/setSocketDisconnecting",!0)):("klipper"===e&&await this._klipperReset(),i.r.machineServicesRestart(e))}async serviceStartByName(e){i.r.machineServicesStart(e)}async serviceStopByName(e){if("moonraker"===e)throw new Error("Stopping the moonraker service is not supported");"klipper"===e&&await this._klipperReset(),i.r.machineServicesStop(e)}async restartKlippy(){await this._klipperReset(),i.r.printerRestart()}async firmwareRestartKlippy(){await this._klipperReset(),i.r.printerFirmwareRestart()}};o=(0,a.gn)([n.wA],o);const l=o},84496:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var a=s(70655),r=s(20144),i=s(61726),n=s(23940),o=s(36796);let l=class extends r["default"]{constructor(){super(...arguments),this.waits=o.hw}get authenticated(){const e=this.$store.getters["auth/getAuthenticated"];return e}get socketConnected(){return this.$store.getters["socket/getConnectionState"]}get apiConnected(){return this.$store.getters["socket/getApiConnected"]}get socketConnecting(){return this.$store.getters["socket/getConnectingState"]}get klippyReady(){return this.$store.getters["printer/getklippyReady"]}get klippyConnected(){const e=this.$store.getters["server/getInfo"];return e.klippy_connected}get hasWarnings(){return this.$store.getters["printer/getHasWarnings"]}get klippyState(){return this.$store.getters["printer/getKlippyState"]}get klippyStateMessage(){return this.$store.getters["printer/getKlippyStateMessage"]}get printerState(){return this.$store.getters["printer/getPrinterState"]}get printerBusy(){const e=this.printerState.toLowerCase();return"printing"===e||"paused"===e||"busy"===e}get printerPaused(){const e=this.printerState.toLowerCase();return"paused"===e}get printerPrinting(){return"printing"===this.printerState}hasWait(e){return this.$store.getters["wait/hasWait"](e)}get hasWaits(){return this.$store.getters["wait/hasWaits"]}hasWaitsBy(e){return this.$store.getters["wait/hasWaitsBy"](e)}sendGcode(e,t){i.r.printerGcodeScript(e,t),this.addConsoleEntry(e)}addConsoleEntry(e){this.$store.dispatch("console/onAddConsoleEntry",{message:e,type:"command"})}async emergencyStop(){const e=this.$store.state.config.uiSettings.general.confirmOnEstop;let t=!0;e&&(t=await this.$confirm(this.$tc("app.general.simple_form.msg.confirm"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"})),t&&i.r.printerEmergencyStop()}};l=(0,a.gn)([n.wA],l);const c=l},28311:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(70655),r=s(20144),i=s(23940);let n=class extends r["default"]{get activeExtruder(){return this.$store.getters["printer/getActiveExtruder"]}get extruderReady(){const e=this.$store.getters["printer/getActiveExtruder"];return!!(e&&e.temperature>=0&&e.min_extrude_temp>=0)&&e.temperature>=e.min_extrude_temp}get allHomed(){return this.$store.getters["printer/getHomedAxes"]("xyz")}get xyHomed(){return this.$store.getters["printer/getHomedAxes"]("xy")}get xHomed(){return this.$store.getters["printer/getHomedAxes"]("x")}get yHomed(){return this.$store.getters["printer/getHomedAxes"]("y")}get zHomed(){return this.$store.getters["printer/getHomedAxes"]("z")}get xHasMultipleSteppers(){return!!this.$store.getters["printer/getPrinterConfig"]("stepper_x1")}get yHasMultipleSteppers(){return!!this.$store.getters["printer/getPrinterConfig"]("stepper_y1")}get zHasMultipleSteppers(){return!!this.$store.getters["printer/getPrinterConfig"]("stepper_z1")}get hasHomingOverride(){return this.$store.getters["printer/getHasHomingOverride"]}get isManualProbeActive(){return this.$store.getters["printer/getIsManualProbeActive"]}get isBedScrewsAdjustActive(){return this.$store.getters["printer/getIsBedScrewsAdjustActive"]}};n=(0,a.gn)([i.wA],n);const o=n},42365:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>h,Vf:()=>c,ld:()=>m});var a=s(20144),r=s(17152),i=s(34367);const n=(e={})=>{const t={countryCodeOnly:!1},s={...t,...e},a=void 0!==navigator.languages?navigator.languages[0]:navigator.language;if(!a)return;const r=s.countryCodeOnly?a.trim().split(/-|_/)[0]:a.trim();return r},o=n;var l=s(68036);a["default"].use(r.Z);const c=()=>{const e=o({countryCodeOnly:!0}),t=i.Z.state.config.hostConfig.locales;return t&&e&&t.findIndex((t=>t.code===e))>=0?e:"en"},p=c(),d=new r.Z({locale:p,fallbackLocale:"en",messages:{}});d.setLocaleMessage("en",l["default"]);const u=[],m=async e=>u.length>0&&d.locale===e?Promise.resolve(e):u.includes(e)?(d.locale=e,Promise.resolve(e)):s(51465)(`./${e}.yaml`).then((t=>(d.setLocaleMessage(e,t.default),u.push(e),d.locale=e,Promise.resolve(e)))).catch((()=>Promise.resolve(d.locale)));m(p);const h=d},64246:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});const a={};function r(e,t){let s;t?a[t]?s=a[t]:a[t]||(a[t]=s=i()):s=i();const r=new s.contentWindow.Function(e)();return t||s.remove(),r}function i(){const e=document.createElement("iframe");return e.style.display="none",document.body.appendChild(e),e}},52753:(e,t,s)=>{"use strict";s.d(t,{Z:()=>o});var a=s(36796),r=s(20144),i=s(31858),n=s(92638);r["default"].use(i.Z);const o=new i.Z({breakpoint:{mobileBreakpoint:"xs"},icons:{iconfont:"mdiSvg",values:a.PJ},theme:{dark:!0,options:{customProperties:!0},themes:{dark:{primary:n.Z.blue.base,secondary:"#888888","card-heading":"#333337",btncolor:"#4A4A4F",drawer:"#28282B",appbar:"#1E1E20"},light:{primary:n.Z.blue.darken2,secondary:n.Z.grey.lighten1,"card-heading":"#E9E9E9",btncolor:"#E9E9E9",drawer:"#F4F4F4",appbar:"#FFFFFF"}}}})},19665:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Qv});var a,r=s(20144),i=s(78345),n=s(60266),o=s(11713),l=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[e._l(e.containers,(function(s,a){return[e.inLayout||e.hasCards(s)?t(n.Z,{key:`container${a}`,class:{drag:e.inLayout},attrs:{cols:"12",md:"6",lg:e.columnSpan}},[t("draggable",e._b({staticClass:"list-group",on:{start:function(t){t.stopPropagation(),e.drag=!0},end:function(t){return t.stopPropagation(),e.handleStopDrag.apply(null,arguments)}},model:{value:e.containers[a],callback:function(t){e.$set(e.containers,a,t)},expression:"containers[containerIndex]"}},"draggable",e.dragOptions,!1),[t("transition-group",{attrs:{type:"transition",name:e.drag?null:"flip-list"}},[e._l(s,(function(s){return[s.enabled&&!e.filtered(s)||e.inLayout?t(s.id,{key:s.id,tag:"component",staticClass:"mb-2 mb-sm-4",attrs:{"menu-collapsed":e.menuCollapsed}}):e._e()]}))],2)],1)],1):e._e()]}))],2)},c=[],p=s(70655),d=s(23940),u=s(84496),m=s(9980),h=s.n(m),g=s(4324),f=s(10626),v=s(45517),_=s(35965),y=s(98064),b=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.printer.state."+e.printerState),icon:"$printer3d",draggable:!0,collapsable:e.collapsable,"layout-path":"dashboard.printer-status-card"},scopedSlots:e._u([{key:"title",fn:function(){return[t(_.Z,{attrs:{"background-color":"transparent","mobile-breakpoint":"0",height:"41","hide-slider":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(f.Z,{key:"status"},[t(g.Z,{attrs:{left:""}},[e._v(" $printer3d ")]),e._v(" "+e._s(e.$t("app.printer.state."+e.printerState)||e.printerState)+" ")],1),e.supportsHistoryComponent?t(f.Z,{key:"reprint"},[e._v(" "+e._s(e.$t("app.general.btn.reprint"))+" ")]):e._e()],1)]},proxy:!0},{key:"menu",fn:function(){return[e.printerPrinting||e.printerPaused||e.filename?t("status-controls",{on:{print:function(t){return e.handlePrint(t)}}}):e._e()]},proxy:!0}])},[t(y.Z,{staticStyle:{"background-color":"transparent"},attrs:{touchless:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[t(v.Z,{key:"status"},[t("status-tab")],1),e.supportsHistoryComponent?t(v.Z,{key:"reprint"},[t("reprint-tab",{on:{print:function(t){return e.handlePrint(t)}}})],1):e._e()],1)],1)},x=[],$=s(61726),w=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("app-btn-collapse-group",[t("div",[e.printerPrinting||e.printerPaused?t("app-btn",{staticClass:"ma-1",attrs:{loading:e.hasWait(e.$waits.onPrintCancel),disabled:e.hasWait([e.$waits.onPrintCancel,e.$waits.onPrintResume,e.$waits.onPrintPause]),small:""},on:{click:function(t){return e.cancelPrint()}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $cancelled ")]),t("span",[e._v(e._s(e.$t("app.general.btn.cancel")))])],1):e._e(),e.printerPrinting&&!e.printerPaused?t("app-btn",{staticClass:"ma-1",attrs:{loading:e.hasWait(e.$waits.onPrintPause),disabled:e.printerPaused||e.hasWait([e.$waits.onPrintCancel,e.$waits.onPrintResume,e.$waits.onPrintPause]),small:""},on:{click:function(t){return e.pausePrint()}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $pause ")]),t("span",[e._v(e._s(e.$t("app.general.btn.pause")))])],1):e._e(),e.printerPaused?t("app-btn",{staticClass:"ma-1",attrs:{loading:e.hasWait(e.$waits.onPrintResume),disabled:e.printerPrinting||e.hasWait([e.$waits.onPrintCancel,e.$waits.onPrintResume,e.$waits.onPrintPause]),small:""},on:{click:function(t){return e.resumePrint()}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $resume ")]),t("span",[e._v(e._s(e.$t("app.general.btn.resume")))])],1):e._e(),e.printerPrinting||e.printerPaused||!e.filename?e._e():t("app-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:function(t){return e.resetFile()}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $refresh ")]),t("span",[e._v(e._s(e.$t("app.general.btn.reset_file")))])],1),e.supportsHistoryComponent||e.printerPrinting||e.printerPaused||!e.filename?e._e():t("app-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:function(t){return e.$emit("print",e.filename)}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $reprint ")]),t("span",[e._v(e._s(e.$t("app.general.btn.reprint")))])],1)],1)])},S=[],k=s(82082),C=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("span",[t(k.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(g.Z,e._g(e._b({staticClass:"mr-1",attrs:{small:"",color:e.job.exists?e.state:"secondary"}},"v-icon",a,!1),s),[e._v(" "+e._s(e.icon)+" ")])]}}])},[t("span",[e._v(e._s(e.job.status))])])],1)},Z=[],P=s(35059);(function(e){e["Completed"]="completed",e["Cancelled"]="cancelled",e["Error"]="error",e["Printing"]="printing",e["InProgress"]="in_progress",e["Server_Exit"]="server_exit",e["Klippy_Shutdown"]="klippy_shutdown",e["Klippy_Disconnect"]="klippy_disconnect"})(a||(a={}));let A=class extends((0,d.Wr)(P.Z)){get icon(){const e={completed:"$checkedCircle",printing:"$inProgress",in_progress:"$inProgress",standby:"$inProgress",cancelled:"$cancelled"},t=e[this.job.status];return t||"$warning"}get state(){return this.job.status===a.Cancelled||this.job.status===a.Error||this.job.status===a.Server_Exit?"error":this.job.status===a.Printing||this.job.status===a.Completed||this.job.status===a.InProgress?"success":this.job.status===a.Klippy_Shutdown||this.job.status===a.Klippy_Disconnect?"warning":"success"}get inError(){return this.job.status!==a.Completed&&this.job.status!==a.InProgress}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],A.prototype,"job",void 0),A=(0,p.gn)([(0,d.wA)({})],A);const R=A,E=R;var L=s(1001),D=(0,L.Z)(E,C,Z,!1,null,null,null);const T=D.exports;let M=class extends((0,d.Wr)(u.Z)){get filename(){return this.$store.state.printer.printer.print_stats.filename}get supportsHistoryComponent(){return this.$store.getters["server/componentSupport"]("history")}cancelPrint(){this.$tc("app.general.simple_form.msg.confirm"),this.$confirm(this.$tc("app.general.simple_form.msg.confirm"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{e&&($.r.printerPrintCancel(),this.addConsoleEntry("CANCEL_PRINT"))}))}pausePrint(){$.r.printerPrintPause(),this.addConsoleEntry("PAUSE")}resumePrint(){$.r.printerPrintResume(),this.addConsoleEntry("RESUME")}resetFile(){this.sendGcode("SDCARD_RESET_FILE")}};M=(0,p.gn)([(0,d.wA)({components:{JobHistoryItemStatus:T}})],M);const O=M,I=O;var F=(0,L.Z)(I,w,S,!1,null,null,null);const B=F.exports;var N=s(54886),U=s(3305),j=s(29592),H=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.progressVisible&&e.$vuetify.breakpoint.mdAndDown?t(j.Z,{attrs:{height:6,value:e.estimates.progress,color:"primary"}}):e._e(),e.visible?t(N.ZB,[t(o.Z,[e.progressVisible&&e.$vuetify.breakpoint.lgAndUp?t(n.Z,{attrs:{cols:"auto","align-self":"center"}},[t(U.Z,{attrs:{rotate:-90,size:90,width:7,value:e.estimates.progress,color:"primary"}},[t("span",{staticClass:"percentComplete focus--text"},[e._v(e._s(e.estimates.progress)+"%")])])],1):e._e(),t(n.Z,{attrs:{"align-self":"center"}},[e.message||""!==e.filename||e.progressVisible&&e.$vuetify.breakpoint.mdAndDown?t(o.Z,{attrs:{"no-gutters":""}},[t(n.Z,[e.progressVisible&&e.$vuetify.breakpoint.mdAndDown?t("status-label",{attrs:{label:e.$t("app.general.label.progress")}},[t("span",[e._v(e._s(e.estimates.progress)+"%")])]):e._e(),e.message?t("status-label",{attrs:{label:e.$t("app.general.label.m117")}},[t("span",[e._v(e._s(e.message))])]):e._e(),""!==e.filename?t("status-label",{attrs:{label:e.$t("app.general.label.file")}},[t("span",{staticStyle:{"word-break":"break-all"}},[e._v(e._s(e.filename))])]):e._e()],1)],1):e._e(),e.printerPrinting?t(o.Z,{attrs:{"no-gutters":""}},[t(n.Z,{attrs:{cols:"12",sm:"6"}},[t("status-label",{attrs:{label:e.$t("app.general.label.requested_speed")}},[e.requestedSpeed>0&&e.printerPrinting?t("span",[e._v(e._s(e.requestedSpeed)+" mm/s")]):e._e()]),t("status-label",{attrs:{label:e.$t("app.general.label.flow")}},[e.flow.value>0&&e.printerPrinting?t("span",[e._v(e._s(e.flow.value.toFixed(1))+" mm³/s")]):e._e()]),t("status-label",{attrs:{label:e.$t("app.general.label.filament")}},[e.filament_used>0&&e.printerPrinting?t("span",[e._v(e._s(e.$filters.getReadableLengthString(e.filament_used)))]):e._e()]),t("status-label",{attrs:{label:e.$t("app.general.label.layer")}},[e.layers&&e.printerPrinting?t("span",[e._v(e._s(e.layer)+" / "+e._s(e.layers))]):e._e()])],1),t(n.Z,{attrs:{cols:"12",sm:"6"}},[e.estimates.actual>0?t("status-label",{attrs:{label:e.$t("app.general.label.actual_time")}},[e.estimates.actual>0?t("span",[e._v(e._s(e.$filters.formatCounterTime(e.estimates.actual)))]):e._e()]):t("status-label",{attrs:{label:e.$t("app.general.label.file_time")}},[e.estimates.file>0?t("span",[e._v(e._s(e.$filters.formatCounterTime(e.estimates.file)))]):e._e()]),t("status-label",{attrs:{label:e.$t("app.general.label.slicer")}},[e.estimates.slicer>0&&e.printerPrinting?t("span",[e._v(e._s(e.$filters.formatCounterTime(e.estimates.slicer)))]):e._e()]),t("status-label",{attrs:{label:e.$t("app.general.label.total")}},[e.estimates.duration>0&&e.printerPrinting?t("span",[e._v(e._s(e.$filters.formatCounterTime(e.estimates.duration)))]):e._e()]),t("status-label",{attrs:{label:e.$t("app.general.label.finish_time")}},[e.estimates.eta>0&&e.printerPrinting?t("span",[e._v(e._s(e.$filters.formatAbsoluteDateTime(e.estimates.eta,e.$store.state.config.uiSettings.general.timeformat,e.$store.state.config.uiSettings.general.dateformat+" - "+e.$store.state.config.uiSettings.general.timeformat)))]):e._e()])],1)],1):e._e(),e.overviewVisible?t(o.Z,{attrs:{"no-gutters":""}},[t(n.Z,[e.current_file.history&&e.current_file.history.filament_used?t("status-label",{attrs:{label:e.$t("app.general.label.filament")}},[t("span",[e._v(e._s(e.$filters.getReadableLengthString(e.current_file.history.filament_used)))])]):e.current_file.filament_total?t("status-label",{attrs:{label:e.$t("app.general.label.filament")}},[t("span",[e._v(e._s(e.$filters.getReadableLengthString(e.current_file.filament_total)))])]):e._e(),e.current_file.estimated_time?t("status-label",{attrs:{label:e.$t("app.general.label.slicer")}},[t("span",[e._v(e._s(e.$filters.formatCounterTime(e.current_file.estimated_time)))])]):e._e(),e.current_file.history&&e.current_file.history.print_duration>0?t("status-label",{attrs:{label:e.$t("app.general.label.actual_time")}},[t("span",[e._v(e._s(e.$filters.formatCounterTime(e.current_file.history.print_duration)))])]):e._e(),e.current_file.history&&e.current_file.history.total_duration>0?t("status-label",{attrs:{label:e.$t("app.general.label.total")}},[t("span",[e._v(e._s(e.$filters.formatCounterTime(e.current_file.history.total_duration)))])]):e._e()],1)],1):e._e()],1),e.thumbVisible?t(n.Z,{staticClass:"pa-0",attrs:{cols:"auto","align-self":"center"}},[t("img",{staticClass:"print-thumb",attrs:{src:e.thumbnail}})]):e._e()],1)],1):e._e()],1)},W=[],z=s(43201),q=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(z.Z,{attrs:{"align-center":""}},[t("span",{staticClass:"label body-2 secondary--text",style:`width: ${e.labelWidth}; min-width: ${e.labelWidth};`,domProps:{innerHTML:e._s(e.label)}}),t("span",{staticClass:"value"},[e._t("default")],2),e.$slots.default?e._e():t("span",{staticClass:"value"},[e._v("--")])])},V=[];let G=class extends((0,d.Wr)(u.Z)){};(0,p.gn)([(0,d.fI)({type:String,required:!0})],G.prototype,"label",void 0),(0,p.gn)([(0,d.fI)({type:[String,Number],default:"70px"})],G.prototype,"labelWidth",void 0),G=(0,p.gn)([(0,d.wA)({})],G);const Y=G,K=Y;var X=(0,L.Z)(K,q,V,!1,null,"6588cd95",null);const J=X.exports;let Q=class extends((0,d.Wr)(u.Z,P.Z)){constructor(){super(...arguments),this.flow={timestamp:(new Date).getTime(),lastExtruderPosition:0,value:0,max:0}}get visible(){return this.printerPrinting||this.message||this.current_file&&this.current_file.filename||this.thumbVisible||this.progressVisible&&this.$vuetify.breakpoint.mdAndDown}get progressVisible(){return this.printerPrinting||""!==this.filename}get overviewVisible(){return!this.printerPrinting&&this.current_file&&this.current_file.filename}get thumbVisible(){return this.current_file&&this.current_file.filename&&this.thumbnail&&this.$vuetify.breakpoint.lgAndUp}get current_file(){let e=this.$store.state.printer.printer.current_file;if(e.job_id){const t=this.$store.getters["history/getHistoryById"](e.job_id);t&&(e={...e,history:t})}return e}get filename(){return this.$store.state.printer.printer.print_stats.filename||""}get message(){return this.$store.state.printer.printer.display_status.message}get thumbnail(){if(this.current_file&&this.current_file.thumbnails){const e=this.getThumbUrl(this.current_file.thumbnails,this.current_file.path,!0,this.current_file.modified);return e}}get requestedSpeed(){const e=this.$store.state.printer.printer.gcode_move.speed_factor||1;let t=this.$store.state.printer.printer.gcode_move.speed||0;return t=t*e/60,t.toFixed()}get estimates(){return this.$store.getters["printer/getTimeEstimates"]}get supportsHistoryComponent(){return this.$store.getters["server/componentSupport"]("history")}get history(){return this.$store.getters["history/getUniqueHistory"](3)}get layers(){return this.$store.getters["printer/getPrintLayers"]}get layer(){return this.$store.getters["printer/getPrintLayer"]}get filament_used(){return this.$store.state.printer.printer.print_stats.filament_used||0}get filament_total(){return this.$store.state.printer.printer.current_file.filament_total||0}onFilamentUsed(e){const t=parseFloat(e),s=this.$store.getters["printer/getPrinterSettings"]("extruder.filament_diameter")||1.75,a=((new Date).getTime()-this.flow.timestamp)/1e3;if(a>=2){if(this.flow.lastExtruderPosition&&this.flow.lastExtruderPosition<t&&this.flow.timestamp){const e=t-this.flow.lastExtruderPosition,r=Math.pow(s/2,2)*Math.PI;this.flow.value=r*e/a,this.flow.max<this.flow.value&&(this.flow.max=this.flow.value)}this.flow.lastExtruderPosition=t,this.flow.timestamp=(new Date).getTime()}}};(0,p.gn)([(0,d.RL)("filament_used")],Q.prototype,"onFilamentUsed",null),Q=(0,p.gn)([(0,d.wA)({components:{StatusLabel:J}})],Q);const ee=Q,te=ee;var se=(0,L.Z)(te,H,W,!1,null,"6d1da3a5",null);const ae=se.exports;var re=s(82042),ie=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"file-system"},[t(re.Z,{staticStyle:{"background-color":"transparent"},attrs:{items:e.history,headers:e.headers,"items-per-page":5,"mobile-breakpoint":"0","hide-default-footer":"","item-key":"job_id","sort-by":"start_time","sort-desc":""},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t("tr",{staticClass:"px-1"},[t("td",[s.exists?e._e():t(g.Z,{staticClass:"mr-2",attrs:{color:"secondary"}},[e._v(" $fileCancel ")]),s.exists&&!s.metadata.thumbnails?t(g.Z,{staticClass:"mr-2"},[e._v(" $fileDocument ")]):e._e(),s.exists&&s.metadata.thumbnails&&s.metadata.thumbnails.length?t("img",{staticClass:"mr-2 file-icon-thumb",attrs:{src:e.getThumbUrl(s.metadata.thumbnails,e.getFilePaths(s.filename).path,!1,s.metadata.modified),width:24}}):e._e()],1),t("td",[t("span",{},[e._v(" "+e._s(e.getFilePaths(s.filename).filename)+" ")])]),t("td",[t("job-history-item-status",{attrs:{job:s}})],1),t("td",[s.print_duration>0?t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.formatCounterTime(s.print_duration))+" ")]):t("span",[e._v("--")])]),e.printerPrinting?e._e():t("td",{staticClass:"actions"},[t("div",{class:{"theme--light":!e.$vuetify.theme.dark}},[t("app-btn",{attrs:{color:"",icon:""},on:{click:function(t){return e.$emit("print",s.filename)}}},[t(g.Z,[e._v("$printer")])],1)],1)])])]}}])})],1)},ne=[],oe=s(18706);let le=class extends((0,d.Wr)(u.Z,P.Z)){get history(){return this.$store.getters["history/getUniqueHistory"](3)}getFilePaths(e){return(0,oe.Z)(e,"gcodes")}get headers(){const e=[{text:"",value:"data-table-icons",sortable:!1,width:"24px"},{text:this.$tc("app.general.table.header.name"),value:"filename",sortable:!1},{text:this.$tc("app.general.table.header.status"),value:"status",sortable:!1},{text:this.$tc("app.general.table.header.print_duration"),value:"print_duration",sortable:!1}];return e}};le=(0,p.gn)([(0,d.wA)({components:{JobHistoryItemStatus:T}})],le);const ce=le,pe=ce;var de=(0,L.Z)(pe,ie,ne,!1,null,null,null);const ue=de.exports;let me=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.tab=0}get supportsHistoryComponent(){return this.$store.getters["server/componentSupport"]("history")}get collapsable(){const e=this.$store.state.printer.printer.print_stats.filename;return this.printerPrinting||this.supportsHistoryComponent||""!==e}get filename(){return this.$store.state.printer.printer.print_stats.filename}onPrinterPrinting(e){this.init(e)}mounted(){this.init(this.filename)}init(e){this.tab=""!==e?0:1}handlePrint(e){$.r.printerPrintStart(e)}};(0,p.gn)([(0,d.RL)("filename")],me.prototype,"onPrinterPrinting",null),me=(0,p.gn)([(0,d.wA)({components:{StatusControls:B,StatusTab:ae,ReprintTab:ue}})],me);const he=me,ge=he;var fe=(0,L.Z)(ge,b,x,!1,null,"0e9637fe",null);const ve=fe.exports;var _e=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.jobs"),icon:"$files",draggable:!0,"layout-path":"dashboard.jobs-card"},scopedSlots:e._u([{key:"menu",fn:function(){return[t("app-btn",{attrs:{color:"",fab:"","x-small":"",text:""},on:{click:function(t){return e.$filters.routeTo(e.$router,"/jobs")}}},[t(g.Z,[e._v("$fullScreen")])],1)]},proxy:!0}])},[t("file-system",{attrs:{roots:"gcodes",name:"dashboard",dense:"",height:400}})],1)},ye=[],be=s(34145),xe=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(be.Z,{staticClass:"filesystem-wrapper",class:{"no-pointer-events":e.dragState.overlay},attrs:{height:e.height,"max-height":e.maxHeight},on:{"!dragenter":function(t){return t.preventDefault(),e.handleDragEnter.apply(null,arguments)},dragover:function(e){e.preventDefault()},dragleave:function(t){return t.target!==t.currentTarget?null:(t.preventDefault(),e.handleDragLeave.apply(null,arguments))},drop:function(t){return t.preventDefault(),t.stopPropagation(),e.handleDropFile.apply(null,arguments)}}},[e.selected.length<=0?t("file-system-toolbar",{attrs:{roots:e.availableRoots,root:e.currentRoot,name:e.name,search:e.search,path:e.visiblePath,disabled:e.disabled,loading:e.filesLoading,headers:e.headers},on:{"update:search":function(t){e.search=t},"root-change":e.handleRootChange,refresh:function(t){return e.refreshPath(e.currentPath)},"add-file":e.handleAddFileDialog,"add-dir":e.handleAddDirDialog,upload:e.handleUpload,filter:e.handleFilter}}):e._e(),e.selected.length>0?t("file-system-bulk-actions",{attrs:{path:e.visiblePath},on:{remove:function(t){return e.handleRemove(e.selected)}}}):e._e(),e.headers?t("file-system-browser",{attrs:{headers:e.visibleHeaders,root:e.currentRoot,dense:e.dense,loading:e.filesLoading,disabled:e.disabled,search:e.search,filters:e.filters,files:e.files,"drag-state":e.dragState.browserState,"bulk-actions":e.bulkActions,selected:e.selected,"large-thumbnails":"timelapse"===e.currentRoot},on:{"update:dragState":function(t){return e.$set(e.dragState,"browserState",t)},"update:drag-state":function(t){return e.$set(e.dragState,"browserState",t)},"update:selected":function(t){e.selected=t},"row-click":e.handleRowClick,move:e.handleMove}}):e._e(),e.contextMenuState.open?t("file-system-context-menu",{attrs:{root:e.currentRoot,open:e.contextMenuState.open,file:e.contextMenuState.file,"position-x":e.contextMenuState.x,"position-y":e.contextMenuState.y},on:{"update:open":function(t){return e.$set(e.contextMenuState,"open",t)},print:e.handlePrint,view:e.handleFileOpenDialog,edit:e.handleFileOpenDialog,rename:e.handleRenameDialog,remove:e.handleRemove,download:e.handleDownload,preheat:e.handlePreheat,"preview-gcode":e.handlePreviewGcode,"view-thumbnail":e.handleViewThumbnail}}):e._e(),e.fileEditorDialogState.open?t("file-editor-dialog",{attrs:{contents:e.fileEditorDialogState.contents,filename:e.fileEditorDialogState.filename,loading:e.fileEditorDialogState.loading,readonly:e.fileEditorDialogState.readonly,root:e.currentRoot},on:{save:e.handleSaveFileChanges},model:{value:e.fileEditorDialogState.open,callback:function(t){e.$set(e.fileEditorDialogState,"open",t)},expression:"fileEditorDialogState.open"}}):e._e(),e.fileNameDialogState.open?t("file-name-dialog",{attrs:{name:e.fileNameDialogState.value,title:e.fileNameDialogState.title,label:e.fileNameDialogState.label,rules:e.fileNameDialogState.rules},on:{save:e.fileNameDialogState.handler},model:{value:e.fileNameDialogState.open,callback:function(t){e.$set(e.fileNameDialogState,"open",t)},expression:"fileNameDialogState.open"}}):e._e(),t("file-system-drag-overlay",{model:{value:e.dragState.overlay,callback:function(t){e.$set(e.dragState,"overlay",t)},expression:"dragState.overlay"}}),null!==e.currentDownload?t("file-system-download-dialog",{attrs:{value:null!==e.currentDownload,file:e.currentDownload},on:{cancel:e.handleCancelDownload}}):e._e(),e.currentUploads.length>0?t("file-system-upload-dialog",{attrs:{value:e.currentUploads.length>0,files:e.currentUploads},on:{cancel:e.handleCancelUpload}}):e._e(),e.filePreviewState.open?t("file-preview-dialog",{attrs:{file:e.filePreviewState,removable:"",downloadable:""},on:{close:e.handleClosePreview,download:e.handleDownload,remove:e.handleRemove}}):e._e()],1)},$e=[],we=s(36796),Se=s(10997),ke=s(90903),Ce=s(13687),Ze=s(78704),Pe=s(96313),Ae=s(97953),Re=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Pe.Z,{attrs:{dense:""},scopedSlots:e._u([e.roots.length>1?{key:"extension",fn:function(){return[t(_.Z,e._l(e.registeredRoots,(function(s,a){return t(f.Z,{key:a,on:{change:function(t){return e.$emit("root-change",s)}}},[e._v(" "+e._s(s)+" ")])})),1)]},proxy:!0}:null],null,!0)},[t(Ae.qW,{staticClass:"d-none d-sm-block"},[t("div",{staticClass:"file-path"},[e._v(" ‎/"+e._s(e.path)+" ")])]),t(Ce.Z),e.lowOnSpace&&!e.loading?t(k.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(ke.Z,e._g(e._b({attrs:{fab:"",text:"",small:"",color:"warning"}},"v-btn",a,!1),s),[t(g.Z,{attrs:{color:"warning"}},[e._v(" $error ")])],1)]}}],null,!1,965673122)},[e._t("default",(function(){return[t("span",[e._v(e._s(e.$t("app.file_system.tooltip.low_on_space")))])]}))],2):e._e(),e.disabled&&!e.loading?t(k.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(ke.Z,e._g(e._b({attrs:{fab:"",text:"",small:"",color:"error"}},"v-btn",a,!1),s),[t(g.Z,{attrs:{color:"error"}},[e._v(" $warning ")])],1)]}}],null,!1,189610928)},[e._t("default",(function(){return[t("span",[e._v(e._s(e.$t("app.file_system.tooltip.root_disabled",{root:e.root})))])]}))],2):e._e(),["gcodes","timelapse"].includes(e.root)?t("app-btn-collapse-group",{attrs:{collapsed:!0,"menu-icon":"$imageSizeSelectLarge",size:"small"}},[t("app-slider",{staticClass:"ma-1",attrs:{label:e.$t("app.general.label.thumbnail_size"),min:32,max:192,step:16,"reset-value":32,suffix:"px"},model:{value:e.thumbnailSize,callback:function(t){e.thumbnailSize=t},expression:"thumbnailSize"}})],1):e._e(),e.headers&&e.rootProperties.canConfigure?t("app-column-picker",{attrs:{"key-name":`${e.root}_${e.name}`,headers:e.headers}}):e._e(),e.hasFilterMenu?t("file-system-filter-menu",{attrs:{root:e.root,disabled:e.disabled},on:{change:function(t){return e.$emit("filter",t)}}}):e._e(),!e.readonly||e.canCreateDirectory?t("file-system-menu",{attrs:{root:e.root,disabled:e.disabled},on:{"add-file":function(t){return e.$emit("add-file")},"add-dir":function(t){return e.$emit("add-dir")},upload:e.handleUpload}}):e._e(),t(ke.Z,{attrs:{disabled:e.disabled,fab:"",small:"",text:""},on:{click:function(t){return e.$emit("refresh")}}},[t(g.Z,[e._v("$refresh")])],1),t("div",{staticClass:"ml-1",staticStyle:{"max-width":"160px"}},[t(Ze.Z,{attrs:{disabled:e.disabled,outlined:"",dense:"","single-line":"","hide-details":"","append-icon":"$magnify"},on:{keyup:function(t){return e.$emit("update:search",e.textSearch)}},model:{value:e.textSearch,callback:function(t){e.textSearch=t},expression:"textSearch"}})],1)],1)},Ee=[],Le=s(65808),De=s(54525),Te=s(66105),Me=s(44568),Oe=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Me.Z,{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition"},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(ke.Z,e._g(e._b({attrs:{disabled:e.disabled,fab:"",small:"",text:""}},"v-btn",a,!1),s),[t(g.Z,[e._v(" $plus ")])],1)]}}])},[t(Le.Z,{attrs:{dense:""}},[e.readonly?e._e():t(De.Z,{attrs:{disabled:e.disabled},on:{click:function(t){return e.emulateClick(!1)}}},[t(Te.V9,[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $fileUpload ")]),e._v(" "+e._s(e.$t("app.general.btn.upload"))+" ")],1)],1),e.readonly||"gcodes"!==e.root?e._e():t(De.Z,{attrs:{disabled:e.disabled},on:{click:function(t){return e.emulateClick(!0)}}},[t(Te.V9,[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $progressUpload ")]),e._v(" "+e._s(e.$t("app.general.btn.upload_print"))+" ")],1)],1),e.readonly?e._e():t(De.Z,{attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("add-file")}}},[t(Te.V9,[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $fileAdd ")]),e._v(" "+e._s(e.$t("app.general.btn.add_file"))+" ")],1)],1),!e.readonly||e.canCreateDirectory?t(De.Z,{attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("add-dir")}}},[t(Te.V9,[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $folderAdd ")]),e._v(" "+e._s(e.$t("app.general.btn.add_dir"))+" ")],1)],1):e._e()],1),t("input",{ref:"uploadFile",staticStyle:{display:"none"},attrs:{type:"file",accept:e.accepts,multiple:""},on:{change:e.fileChanged}})],1)},Ie=[];let Fe=class extends d.w3{constructor(){super(...arguments),this.andPrint=!1}get readonly(){return this.$store.getters["files/getRootProperties"](this.root).readonly}get accepts(){return this.$store.getters["files/getRootProperties"](this.root).accepts.join(",")}get canCreateDirectory(){return this.$store.getters["files/getRootProperties"](this.root).canCreateDirectory}emulateClick(e){this.andPrint=e,this.uploadFile.multiple=!e,this.uploadFile.click()}fileChanged(e){const t=e.target,s=t.files,a=[];if(t&&s&&s.length>0){for(let e=0;e<s.length;e++)a.push(s[e]);this.$emit("upload",a,this.andPrint),t.value=""}}};(0,p.gn)([(0,d.fI)({type:String,required:!0})],Fe.prototype,"root",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Fe.prototype,"disabled",void 0),(0,p.gn)([(0,d.Rl)("uploadFile")],Fe.prototype,"uploadFile",void 0),Fe=(0,p.gn)([(0,d.wA)({})],Fe);const Be=Fe,Ne=Be;var Ue=(0,L.Z)(Ne,Oe,Ie,!1,null,null,null);const je=Ue.exports;var He=s(83272),We=s(63486),ze=s(45187),qe=s(77912),Ve=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Me.Z,{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(He.Z,{attrs:{bordered:"",color:"warning",dot:"",overlap:"",value:e.selectedFilterTypes.length>0,"offset-y":15,"offset-x":15}},[t(ke.Z,e._g(e._b({attrs:{disabled:e.disabled,fab:"",small:"",text:""}},"v-btn",a,!1),s),[t(g.Z,[e._v(" $filter ")])],1)],1)]}}])},[t(Le.Z,{attrs:{flat:""}},[t(qe.Z,{attrs:{multiple:"","active-class":""},model:{value:e.selectedFilterTypes,callback:function(t){e.selectedFilterTypes=t},expression:"selectedFilterTypes"}},[e._l(e.filters,(function(s,a){return[t(De.Z,{key:`filter-${a}`,attrs:{disabled:e.disabled,value:s.value},scopedSlots:e._u([{key:"default",fn:function({active:a}){return[t(ze.Z,[t(We.Z,{attrs:{"input-value":a}})],1),t(Te.km,[t(Te.V9,[e._v(" "+e._s(s.text)+" ")]),void 0!==s.desc?t(Te.oZ,[e._v(" "+e._s(s.desc)+" ")]):e._e()],1)]}}],null,!0)})]}))],2)],1)],1)},Ge=[];let Ye=class extends d.w3{constructor(){super(...arguments),this.availableFilters=[{value:"print_start_time",text:this.$tc("app.file_system.filters.label.print_start_time"),desc:this.$tc("app.file_system.filters.label.print_start_time_desc")},{value:"hidden_files",text:this.$tc("app.file_system.filters.label.hidden_files")},{value:"klipper_backup_files",text:this.$tc("app.file_system.filters.label.klipper_backup_files")}]}get rootFilterTypes(){return this.$store.getters["files/getRootProperties"](this.root).filterTypes}get filters(){const e=this.rootFilterTypes;return this.availableFilters.filter((t=>e.includes(t.value)))}get selectedFilterTypes(){var e;return null!==(e=this.$store.state.config.uiSettings.fileSystem.activeFilters[this.root])&&void 0!==e?e:[]}set selectedFilterTypes(e){this.$emit("change",e)}};(0,p.gn)([(0,d.fI)({type:String,required:!0})],Ye.prototype,"root",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Ye.prototype,"disabled",void 0),Ye=(0,p.gn)([(0,d.wA)({})],Ye);const Ke=Ye,Xe=Ke;var Je=(0,L.Z)(Xe,Ve,Ge,!1,null,null,null);const Qe=Je.exports;var et=s(80138);let tt=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.textSearch=""}get readonly(){return this.$store.getters["files/getRootProperties"](this.root).readonly}get canCreateDirectory(){return this.$store.getters["files/getRootProperties"](this.root).canCreateDirectory}get lowOnSpace(){return!!this.klippyReady&&this.$store.getters["files/getLowOnSpace"]}get supportsHistoryComponent(){return this.$store.getters["server/componentSupport"]("history")}get rootProperties(){return this.$store.getters["files/getRootProperties"](this.root)}get registeredRoots(){return this.roots.filter((e=>this.$store.state.server.info.registered_directories.includes(e)))}get hasFilterMenu(){if(!this.readonly)switch(this.root){case"gcodes":return this.supportsHistoryComponent;case"config":return!0}return!1}get thumbnailSize(){return this.$store.state.config.uiSettings.general.thumbnailSize}set thumbnailSize(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.thumbnailSize",value:e,server:!0})}mounted(){this.textSearch=this.search}handleUpload(e,t){this.$emit("upload",e,t)}};(0,p.gn)([(0,d.fI)({type:String,required:!0})],tt.prototype,"root",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!1})],tt.prototype,"name",void 0),(0,p.gn)([(0,d.fI)({type:Array,required:!1})],tt.prototype,"roots",void 0),(0,p.gn)([(0,d.fI)({type:Array,required:!1})],tt.prototype,"headers",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!1})],tt.prototype,"path",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],tt.prototype,"disabled",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],tt.prototype,"loading",void 0),(0,p.gn)([(0,d.fI)({type:String,default:""})],tt.prototype,"search",void 0),tt=(0,p.gn)([(0,d.wA)({components:{AppBtnCollapseGroup:et["default"],FileSystemMenu:je,FileSystemFilterMenu:Qe}})],tt);const st=tt,at=st;var rt=(0,L.Z)(at,Re,Ee,!1,null,null,null);const it=rt.exports;var nt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Pe.Z,{attrs:{dense:""}},[t(Ae.qW,{staticClass:"d-none d-sm-block"},[t("div",{staticClass:"file-path"},[e._v(" ‎/"+e._s(e.path)+" ")])]),t(Ce.Z),t(k.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(ke.Z,e._g(e._b({attrs:{fab:"",small:"",text:""},on:{click:function(t){return e.$emit("remove")}}},"v-btn",a,!1),s),[t(g.Z,[e._v(" $delete ")])],1)]}}])},[e._t("default",(function(){return[t("span",[e._v(e._s(e.$t("app.general.btn.delete")))])]}))],2)],1)},ot=[];let lt=class extends((0,d.Wr)(u.Z)){};(0,p.gn)([(0,d.fI)({type:String,required:!1})],lt.prototype,"path",void 0),lt=(0,p.gn)([(0,d.wA)({components:{FileSystemMenu:je,FileSystemFilterMenu:Qe}})],lt);const ct=lt,pt=ct;var dt=(0,L.Z)(pt,nt,ot,!1,null,null,null);const ut=dt.exports;var mt=s(36170),ht=s(37069),gt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"file-system"},[t(re.Z,{staticClass:"rounded-0",attrs:{headers:e.headers,items:e.files,dense:e.dense,"disable-pagination":!0,loading:e.loading,"sort-desc":!0,"custom-sort":e.$filters.fileSystemSort,search:e.search,"show-select":e.bulkActions,"no-data-text":e.$t("app.file_system.msg.not_found"),"no-results-text":e.$t("app.file_system.msg.not_found"),"item-key":"name",height:"100%","mobile-breakpoint":"0","sort-by":"modified","hide-default-footer":""},on:{input:e.handleSelected,"item-selected":e.handleItemSelected},scopedSlots:e._u([{key:"item",fn:function({item:s,isSelected:a,select:r}){return[t("tr",{staticClass:"row-select px-1",class:{"is-directory":"directory"===s.type,"is-file":"file"===s.type,"is-disabled":e.disabled,"v-data-table__selected":a&&".."!==s.name},attrs:{draggable:e.draggable(s)},on:{click:function(t){return t.preventDefault(),e.$emit("row-click",s,t)},contextmenu:function(t){return t.preventDefault(),e.$emit("row-click",s,t)},drag:function(t){return e.handleDrag(s)},dragstart:e.handleDragStart,dragend:e.handleDragEnd,drop:function(t){return t.preventDefault(),t.stopPropagation(),e.handleDrop(s,t)},dragover:function(t){return t.preventDefault(),e.handleDragOver(t)},dragleave:function(t){return t.preventDefault(),e.handleDragLeave(t)}}},[e.bulkActions?t("td",[".."!==s.name?t(mt.Z,{directives:[{def:ht.Z,name:"ripple",rawName:"v-ripple"}],staticClass:"mt-1",attrs:{value:a,color:""},on:{click:function(e){return e.stopPropagation(),r(!a)}}}):e._e()],1):e._e(),t("td",[t(z.Z,{attrs:{"justify-center":""}},[s.thumbnails&&s.thumbnails.length?t("img",{style:{"max-width":`${e.thumbnailSize}px`,"max-height":`${e.thumbnailSize}px`},attrs:{src:e.getThumbUrl(s.thumbnails,s.path,e.thumbnailSize>16,s.modified)}}):t(g.Z,{attrs:{small:e.dense,color:"file"===s.type?"grey":"primary"}},[e._v(" "+e._s("file"===s.type?"$file":".."===s.name?"$folderUp":"$folder")+" ")])],1)],1),t("file-row-item",{attrs:{nowrap:!1}},[e._v(" "+e._s(s.name)+" ")]),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"object_height"}},[void 0!==s.object_height?t("span",[e._v(" "+e._s(e.$filters.getReadableLengthString(s.object_height))+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"first_layer_height"}},[void 0!==s.first_layer_height?t("span",[e._v(" "+e._s(s.first_layer_height)+" mm ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"layer_height"}},[void 0!==s.layer_height?t("span",[e._v(" "+e._s(s.layer_height)+" mm ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"filament_name"}},[void 0!==s.filament_name?t("span",[e._v(" "+e._s(s.filament_name)+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"filament_type"}},[void 0!==s.filament_type?t("span",[e._v(" "+e._s(s.filament_type)+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"filament_total"}},[void 0!==s.filament_total?t("span",[e._v(" "+e._s(e.$filters.getReadableLengthString(s.filament_total))+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"filament_weight_total"}},[void 0!==s.filament_weight_total?t("span",[e._v(" "+e._s(e.$filters.getReadableWeightString(s.filament_weight_total))+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"history.filament_used"}},[s.history&&void 0!==s.history.filament_used?t("span",[e._v(" "+e._s(e.$filters.getReadableLengthString(s.history.filament_used))+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"nozzle_diameter"}},[void 0!==s.nozzle_diameter?t("span",[e._v(" "+e._s(s.nozzle_diameter)+" mm ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"slicer"}},[void 0!==s.slicer?t("span",[e._v(" "+e._s(s.slicer)+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"slicer_version"}},[void 0!==s.slicer_version?t("span",[e._v(" "+e._s(s.slicer_version)+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"estimated_time"}},[void 0!==s.estimated_time?t("span",[e._v(" "+e._s(e.$filters.formatCounterTime(s.estimated_time))+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"history.print_duration"}},[s.history&&void 0!==s.history.print_duration?t("span",[e._v(" "+e._s(e.$filters.formatCounterTime(s.history.print_duration))+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"history.total_duration"}},[s.history&&void 0!==s.history.total_duration?t("span",[e._v(" "+e._s(e.$filters.formatCounterTime(s.history.total_duration))+" ")]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"first_layer_bed_temp"}},[void 0!==s.first_layer_bed_temp?t("span",[e._v(" "+e._s(s.first_layer_bed_temp)),t("small",[e._v("°C")])]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"first_layer_extr_temp"}},[void 0!==s.first_layer_extr_temp?t("span",[e._v(" "+e._s(s.first_layer_extr_temp)),t("small",[e._v("°C")])]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"chamber_temp"}},[void 0!==s.chamber_temp?t("span",[e._v(" "+e._s(s.chamber_temp)),t("small",[e._v("°C")])]):e._e()]):e._e(),"gcodes"===e.root?t("file-row-item",{attrs:{headers:e.headers,"item-value":"print_start_time"}},[void 0!==s.print_start_time&&null!==s.print_start_time?t("span",[e._v(" "+e._s(e.$filters.formatDateTime(s.print_start_time,e.$store.state.config.uiSettings.general.dateformat+" YYYY - "+e.$store.state.config.uiSettings.general.timeformat))+" ")]):e._e()]):e._e(),t("file-row-item",{attrs:{headers:e.headers,"item-value":"modified"}},[void 0!==s.modified&&null!==s.modified?t("span",[e._v(" "+e._s(e.$filters.formatDateTime(s.modified,e.$store.state.config.uiSettings.general.dateformat+" YYYY - "+e.$store.state.config.uiSettings.general.timeformat))+" ")]):e._e()]),t("file-row-item",{attrs:{headers:e.headers,"item-value":"size"}},[void 0!==s.size&&0!==s.size?t("span",[e._v(" "+e._s(e.$filters.getReadableFileSizeString(s.size))+" ")]):e._e()])],1)]}}]),model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}})],1)},ft=[],vt=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.isVisible?t("td",{class:{"text-end":e.right},attrs:{nowrap:e.nowrap}},[e._t("default"),e.$slots.default?e._e():t("span",[e._v("--")])],2):e._e()},_t=[];let yt=class extends d.w3{get isVisible(){if(void 0!==this.headers&&void 0!==this.itemValue){const e=this.headers.findIndex((e=>{const t=e.key?e.key:e.value;return this.itemValue===t}));return e>=0}return!0}};(0,p.gn)([(0,d.fI)({type:String,required:!1})],yt.prototype,"itemValue",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!1})],yt.prototype,"itemKey",void 0),(0,p.gn)([(0,d.fI)({type:Array,required:!1})],yt.prototype,"headers",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],yt.prototype,"nowrap",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],yt.prototype,"right",void 0),yt=(0,p.gn)([(0,d.wA)({})],yt);const bt=yt,xt=bt;var $t=(0,L.Z)(xt,vt,_t,!1,null,null,null);const wt=$t.exports;let St=class extends((0,d.Wr)(P.Z)){constructor(){super(...arguments),this.dragItem=null,this.ghost=void 0,this.selectedItems=[]}get showHistory(){return this.$store.getters["server/componentSupport"]("history")&&"gcodes"===this.root}get thumbnailSize(){const e=this.$store.state.config.uiSettings.general.thumbnailSize;return this.dense?e/2:e}mounted(){this.selectedItems=this.selected}onSelected(e){this.selectedItems=e}handleSelected(e){this.$emit("update:selected",e)}handleItemSelected(e){!e.value&&this.selectedItems.length<=2&&0===this.selectedItems.filter((t=>".."!==t.name&&e.item!==t)).length&&(this.selectedItems=[]),e.value&&this.selectedItems.length+1>=this.files.length&&this.selectedItems.filter((e=>".."!==e.name)).length+1===this.files.length&&(this.selectedItems=this.files)}draggable(e){return".."!==e.name&&this.files.length>0&&(0===this.selected.length||this.selected.includes(e))}handleDragStart(e){e.dataTransfer&&(this.ghost=document.createElement("div"),this.ghost.classList.add("bulk-drag"),this.ghost.classList.add(this.$vuetify.theme.dark?"theme--dark":"theme--light"),this.ghost.innerHTML=this.selected.length>0?`Move ${this.selected.length} items`:"Move item",document.body.appendChild(this.ghost),e.dataTransfer.dropEffect="move",e.dataTransfer.setDragImage(this.ghost,0,0))}handleDrag(e){!0!==this.dragState&&(this.dragItem=e,this.$emit("update:dragState",!0))}handleDrop(e,t){if(this.handleDragLeave(t),"directory"===e.type&&this.dragItem&&this.dragItem!==e&&!this.selected.includes(e)){const t=0===this.selected.length?[this.dragItem]:this.selected.filter((e=>".."!==e.name));this.$emit("move",t,e)}}handleDragOver(e){var t;if("TD"===e.target.tagName&&(null===(t=e.target.parentElement)||void 0===t?void 0:t.classList.contains("is-directory"))){const t=e.target.parentElement;t&&t.classList.add("active")}}handleDragLeave(e){if("TD"===e.target.tagName){const t=e.target.parentElement;t&&t.classList.remove("active")}}handleDragEnd(){const e=this.ghost;document.body.removeChild(e),this.dragItem=null,this.$emit("update:dragState",!1)}};(0,p.gn)([(0,d.fI)({type:String,required:!0})],St.prototype,"root",void 0),(0,p.gn)([(0,d.fI)({type:Array,required:!0})],St.prototype,"files",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],St.prototype,"dense",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],St.prototype,"loading",void 0),(0,p.gn)([(0,d.fI)({type:Array,required:!0})],St.prototype,"headers",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!1})],St.prototype,"search",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],St.prototype,"dragState",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],St.prototype,"disabled",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],St.prototype,"bulkActions",void 0),(0,p.gn)([(0,d.fI)({type:Array,required:!0})],St.prototype,"selected",void 0),(0,p.gn)([(0,d.RL)("selected")],St.prototype,"onSelected",null),St=(0,p.gn)([(0,d.wA)({components:{FileRowItem:wt}})],St);const kt=St,Ct=kt;var Zt=(0,L.Z)(Ct,gt,ft,!1,null,"b076a3b2",null);const Pt=Zt.exports;var At=s(74611),Rt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Me.Z,{attrs:{transition:"slide-y-transition",value:e.open,"position-x":e.positionX,"position-y":e.positionY,"min-width":"180",absolute:"",right:""},on:{input:function(t){return e.$emit("update:open",t)}}},[t(be.Z,[t(o.Z,{attrs:{align:"center",justify:"center","no-gutters":""}},[t(n.Z,[t(Le.Z,{attrs:{dense:""}},[e.canPrint?t(De.Z,{attrs:{link:"",disabled:!e.printerReady},on:{click:function(t){return e.$emit("print",e.file)}}},[t(At.Z,[t(g.Z,{attrs:{disabled:!e.printerReady}},[e._v(" $printer ")])],1),t(Te.V9,[e._v(e._s(e.$t("app.general.btn.print")))])],1):e._e(),e.canPreheat?t(De.Z,{attrs:{link:"",disabled:!e.printerReady},on:{click:function(t){return e.$emit("preheat",e.file)}}},[t(At.Z,[t(g.Z,{attrs:{disabled:!e.printerReady}},[e._v(" $fire ")])],1),t(Te.V9,[e._v(e._s(e.$t("app.general.btn.preheat")))])],1):e._e(),"directory"!==e.file.type&&e.rootProperties.canEdit?t(De.Z,{attrs:{link:""},on:{click:function(t){return e.$emit("edit",e.file)}}},[t(At.Z,[t(g.Z,[e._v("$pencil")])],1),t(Te.V9,[e._v(e._s(e.$t("app.general.btn.edit")))])],1):e._e(),"directory"!==e.file.type&&e.rootProperties.canView?t(De.Z,{attrs:{link:""},on:{click:function(t){return e.$emit("view",e.file)}}},[t(At.Z,[t(g.Z,[e._v("$magnify")])],1),t(Te.V9,[e._v(e._s(e.$t("app.general.btn.view")))])],1):e._e(),"directory"!==e.file.type?t(De.Z,{attrs:{link:""},on:{click:function(t){return e.$emit("download",e.file)}}},[t(At.Z,[t(g.Z,[e._v("$download")])],1),t(Te.V9,[e._v(e._s(e.$t("app.general.btn.download")))])],1):e._e(),"directory"!==e.file.type&&e.canPreviewGcode?t(De.Z,{attrs:{link:""},on:{click:function(t){return e.$emit("preview-gcode",e.file)}}},[t(At.Z,[t(g.Z,[e._v("$magnify")])],1),t(Te.V9,[e._v(e._s(e.$t("app.general.btn.preview_gcode")))])],1):e._e(),e.rootProperties.readonly?e._e():t(De.Z,{attrs:{link:""},on:{click:function(t){return e.$emit("rename",e.file)}}},[t(At.Z,[t(g.Z,[e._v("$rename")])],1),t(Te.V9,[e._v(e._s(e.$t("app.general.btn.rename")))])],1),!e.rootProperties.readonly||e.rootProperties.canDelete?t(De.Z,{attrs:{link:""},on:{click:function(t){return e.$emit("remove",e.file)}}},[t(At.Z,[t(g.Z,[e._v("$delete")])],1),t(Te.V9,[e._v(e._s(e.$t("app.general.btn.remove")))])],1):e._e()],1)],1),"thumbnails"in e.file&&e.file.thumbnails&&e.file.thumbnails.length?t(n.Z,{staticClass:"px-2 d-none d-sm-flex"},[t("img",{staticClass:"mr-2 ml-2 thumbnail",attrs:{src:e.getThumbUrl(e.file.thumbnails,e.file.path,!0,e.file.modified),height:150},on:{click:function(t){return e.$emit("view-thumbnail",e.file)}}})]):e._e()],1)],1)],1)},Et=[];let Lt=class extends((0,d.Wr)(u.Z,P.Z)){get rootProperties(){return this.$store.getters["files/getRootProperties"](this.root)}get canPrint(){return"directory"!==this.file.type&&this.rootProperties.accepts.includes("."+this.file.extension)&&this.rootProperties.canPrint}get canPreheat(){return"first_layer_extr_temp"in this.file&&"first_layer_bed_temp"in this.file}get printerReady(){return!this.printerPrinting&&!this.printerPaused&&this.klippyReady}get canPreviewGcode(){const e=this.$store.getters["layout/getSpecificLayoutName"];return this.$store.getters["layout/isEnabledInLayout"](e,"gcode-preview-card")&&"gcodes"===this.root}};(0,p.gn)([(0,d.fI)({type:String,required:!0})],Lt.prototype,"root",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Lt.prototype,"open",void 0),(0,p.gn)([(0,d.fI)({type:Object,required:!0})],Lt.prototype,"file",void 0),(0,p.gn)([(0,d.fI)({type:Number,required:!0})],Lt.prototype,"positionX",void 0),(0,p.gn)([(0,d.fI)({type:Number,required:!0})],Lt.prototype,"positionY",void 0),Lt=(0,p.gn)([(0,d.wA)({})],Lt);const Dt=Lt,Tt=Dt;var Mt=(0,L.Z)(Tt,Rt,Et,!1,null,"02033b93",null);const Ot=Mt.exports;var It=s(34061),Ft=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,loading:e.loading,"hide-overlay":"",fullscreen:"",persistent:"",transition:"dialog-bottom-transition","content-class":"config-editor-overlay"},on:{input:function(t){return e.$emit("input",t)}}},[t(be.Z,{staticClass:"fill-height",staticStyle:{overflow:"hidden"},attrs:{"d-flex":""}},[t(Pe.Z,{staticStyle:{"z-index":"1"},attrs:{dense:"",elevation:6}},[e.$vuetify.breakpoint.smAndDown?e._e():t("app-btn",{attrs:{icon:"",disabled:!e.ready,color:""},on:{click:function(t){return e.emitClose()}}},[t(g.Z,[e._v("$close")])],1),t(Ae.qW,[e._v(e._s(e.filename))]),t(Ce.Z),t(Ae.lj,[e.useTextOnlyEditor?e._e():t("app-btn",{on:{click:e.handleCommandPalette}},[t(g.Z,{attrs:{small:"",left:!e.$vuetify.breakpoint.smAndDown}},[e._v(" $consoleLine ")]),e.$vuetify.breakpoint.smAndDown?e._e():t("span",[e._v(e._s(e.$t("app.file_system.title.command_palette")))])],1),!e.printerPrinting&&e.configMap.link?t("app-btn",{attrs:{href:e.configMap.link,target:"_blank"}},[t(g.Z,{attrs:{small:"",left:!e.$vuetify.breakpoint.smAndDown}},[e._v(" $help ")]),e.$vuetify.breakpoint.smAndDown?e._e():t("span",[e._v(e._s(e.$t("app.general.btn.config_reference")))])],1):e._e(),e.readonly||e.printerPrinting||!e.configMap.serviceSupported?e._e():t("app-btn",{attrs:{disabled:!e.ready},on:{click:function(t){return e.emitSave(!0)}}},[t(g.Z,{attrs:{small:"",left:!e.$vuetify.breakpoint.smAndDown}},[e._v(" $restart ")]),e.$vuetify.breakpoint.smAndDown?e._e():t("span",[e._v(e._s(e.$t("app.general.btn.save_restart")))])],1),e.readonly?e._e():t("app-btn",{attrs:{disabled:!e.ready},on:{click:function(t){return e.emitSave(!1)}}},[t(g.Z,{attrs:{small:"",left:!e.$vuetify.breakpoint.smAndDown}},[e._v(" $save ")]),e.$vuetify.breakpoint.smAndDown?e._e():t("span",[e._v(e._s(e.$t("app.general.btn.save")))])],1),t("app-btn",{on:{click:function(t){return e.emitClose()}}},[t(g.Z,{attrs:{small:"",left:!e.$vuetify.breakpoint.smAndDown}},[e._v(" $close ")]),e.$vuetify.breakpoint.smAndDown?e._e():t("span",[e._v(e._s(e.$t("app.general.btn.close")))])],1)],1)],1),void 0===e.contents||e.useTextOnlyEditor?e._e():t("file-editor",{ref:"editor",attrs:{filename:e.filename,readonly:e.readonly,"code-lens":e.codeLens},on:{ready:function(t){e.editorReady=!0}},model:{value:e.updatedContent,callback:function(t){e.updatedContent=t},expression:"updatedContent"}}),void 0!==e.contents&&e.useTextOnlyEditor?t("file-editor-text-only",{attrs:{filename:e.filename,readonly:e.readonly},on:{ready:function(t){e.editorReady=!0}},model:{value:e.updatedContent,callback:function(t){e.updatedContent=t},expression:"updatedContent"}}):e._e()],1)],1)},Bt=[],Nt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{ref:"monaco-editor"},[e.editor?e._e():t("div",{staticClass:"spinner"},[t(U.Z,{attrs:{indeterminate:"",size:"100",color:"primary"}})],1)])},Ut=[];let jt,Ht=class extends d.w3{constructor(){super(...arguments),this.editor=null,this.opts={contextmenu:!0,readOnly:this.readonly,codeLens:this.codeLens,automaticLayout:!0,fontSize:16,scrollbar:{useShadows:!1},minimap:{enabled:!this.isMobile},rulers:this.isMobile?[80,120]:[]}}get isMobile(){return this.$vuetify.breakpoint.mobile}async mounted(){await this.initEditor()}async initEditor(){if(!jt){const{default:e}=await s.e(404).then(s.bind(s,14833));jt=await e}this.$vuetify.theme.dark?jt.editor.setTheme("dark-converted"):jt.editor.setTheme("light-converted"),this.editor=jt.editor.create(this.monacoEditor,{...this.opts});const e=jt.editor.createModel(this.value,void 0,jt.Uri.file(this.filename));this.editor.setModel(e),this.editor.focus(),this.$emit("ready"),this.editor.onDidChangeModelContent((e=>{var t;const s=null===(t=this.editor)||void 0===t?void 0:t.getValue();this.emitChange(s,e)}))}showCommandPalette(){this.editor&&(this.editor.focus(),this.editor.trigger(null,"editor.action.quickCommand",null))}destroyed(){jt&&jt.editor.getModels().forEach((e=>e.dispose())),this.editor&&this.editor.dispose()}emitChange(e,t){this.$emit("change",e,t),this.$emit("input",e)}};(0,p.gn)([(0,d.fI)({type:String,required:!0})],Ht.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],Ht.prototype,"filename",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Ht.prototype,"readonly",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],Ht.prototype,"codeLens",void 0),(0,p.gn)([(0,d.Rl)("monaco-editor")],Ht.prototype,"monacoEditor",void 0),Ht=(0,p.gn)([(0,d.wA)({})],Ht);const Wt=Ht,zt=Wt;var qt=(0,L.Z)(zt,Nt,Ut,!1,null,"3684c12b",null);const Vt=qt.exports;var Gt=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("textarea",{staticClass:"v-input v-textarea px-2",class:{"theme--dark":e.$vuetify.theme.dark},attrs:{readonly:e.readonly,spellcheck:!1},domProps:{value:e.value},on:{change:function(t){return e.emitChange(t.target.value)}}})},Yt=[];let Kt=class extends d.w3{emitChange(e){this.$emit("change",e),this.$emit("input",e)}mounted(){this.$emit("ready")}};(0,p.gn)([(0,d.fI)({type:String,required:!0})],Kt.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Kt.prototype,"readonly",void 0),Kt=(0,p.gn)([(0,d.wA)({})],Kt);const Xt=Kt,Jt=Xt;var Qt=(0,L.Z)(Jt,Gt,Yt,!1,null,"1ee07e1e",null);const es=Qt.exports,ts=()=>{var e,t;return null!==(t=null===(e=navigator.userAgentData)||void 0===e?void 0:e.mobile)&&void 0!==t?t:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},ss=ts;s(48675),s(33105),s(3462),s(33824),s(37380),s(1118);const as=()=>{try{if("object"===typeof WebAssembly&&"function"===typeof WebAssembly.instantiate){const e=new WebAssembly.Module(Uint8Array.of(0,97,115,109,1,0,0,0));if(e instanceof WebAssembly.Module)return new WebAssembly.Instance(e)instanceof WebAssembly.Instance}}catch{}return!1},rs=as;let is=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.updatedContent=this.contents,this.lastSavedContent=this.updatedContent,this.editorReady=!1}get ready(){return!this.loading&&this.editorReady&&!this.isUploading}get isMobile(){return ss()}get isWebAssemblySupported(){return rs()}get useTextOnlyEditor(){return this.isMobile||!this.isWebAssemblySupported}get isUploading(){return this.$store.state.files.uploads.length>0}get rootProperties(){return this.$store.getters["files/getRootProperties"](this.root)}get configMap(){return this.$store.getters["server/getConfigMapByFilename"](this.filename)}get codeLens(){return this.$store.state.config.uiSettings.editor.codeLens}mounted(){this.updatedContent=this.contents,this.lastSavedContent=this.updatedContent,window.addEventListener("beforeunload",this.handleBeforeUnload)}beforeDestroy(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}get showDirtyEditorWarning(){return this.$store.state.config.uiSettings.editor.confirmDirtyEditorClose&&this.updatedContent!==this.lastSavedContent}async emitClose(){if(this.showDirtyEditorWarning){const e=await this.$confirm(this.$tc("app.general.simple_form.msg.unsaved_changes"),{title:this.$tc("app.general.label.unsaved_changes"),color:"card-heading",icon:"$error"});if(!e)return}this.$emit("input",!1)}handleBeforeUnload(e){if(this.showDirtyEditorWarning)return e.preventDefault(),(e||window.event).returnValue=!0}emitSave(e){this.editorReady&&(this.configMap.serviceSupported&&e?(this.$emit("save",this.updatedContent,this.configMap.service),this.$emit("input",!1)):this.$emit("save",this.updatedContent),this.lastSavedContent=this.updatedContent)}handleCommandPalette(){var e;null===(e=this.editor)||void 0===e||e.showCommandPalette()}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],is.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],is.prototype,"root",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],is.prototype,"filename",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],is.prototype,"contents",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],is.prototype,"loading",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],is.prototype,"readonly",void 0),(0,p.gn)([(0,d.Rl)("editor")],is.prototype,"editor",void 0),is=(0,p.gn)([(0,d.wA)({components:{FileEditor:Vt,FileEditorTextOnly:es}})],is);const ns=is,os=ns;var ls=(0,L.Z)(os,Ft,Bt,!1,null,null,null);const cs=ls.exports;var ps=s(99223),ds=s(65005),us=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":320},on:{input:function(t){return e.$emit("input",t)}}},[t(ds.Z,{ref:"addInstanceForm",staticClass:"mt-3",on:{submit:function(t){return t.preventDefault(),e.handleSave.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.title))])]),t(N.ZB,{staticClass:"py-4"},[t(Ze.Z,{attrs:{autofocus:"",outlined:"",label:e.label,rules:e.rules,"hide-details":"auto",required:""},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1),t(ps.Z),t(N.h7,[t(Ce.Z),t("app-btn",{attrs:{color:"warning",text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),t("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.save"))+" ")])],1)],1)],1)],1)},ms=[];let hs=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.newName="",this.valid=!1}mounted(){this.newName=this.name}handleSave(){this.valid&&(this.$emit("save",this.newName),this.$emit("input",!1))}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],hs.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],hs.prototype,"title",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],hs.prototype,"label",void 0),(0,p.gn)([(0,d.fI)({type:Array,required:!1})],hs.prototype,"rules",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],hs.prototype,"name",void 0),hs=(0,p.gn)([(0,d.wA)({})],hs);const gs=hs,fs=gs;var vs=(0,L.Z)(fs,us,ms,!1,null,null,null);const _s=vs.exports;var ys=s(69256),bs=s(42933),xs=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(bs.Z,{staticClass:"dragOverlay",attrs:{value:e.value,opacity:.85,absolute:""}},[t(ys.Z,[t(o.Z,{staticClass:"fill-height",attrs:{"align-content":"center",justify:"center","no-gutters":""}},[t(n.Z,{staticClass:"text-h6 font-weight-light text-center",attrs:{cols:"12",sm:"6"}},[t(g.Z,{attrs:{"x-large":""}},[e._v(" $fileUpload ")]),t("span",{domProps:{innerHTML:e._s(e.$t("app.file_system.overlay.label"))}})],1)],1)],1)],1)},$s=[];let ws=class extends((0,d.Wr)(u.Z)){};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],ws.prototype,"value",void 0),ws=(0,p.gn)([(0,d.wA)({})],ws);const Ss=ws,ks=Ss;var Cs=(0,L.Z)(ks,xs,$s,!1,null,"0a92b952",null);const Zs=Cs.exports;var Ps=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":"500",persistent:""}},[e.file?t(be.Z,[t(N.EB,{staticClass:"card-heading py-2 px-5"},[t(g.Z,{attrs:{left:""}},[e._v(" $download ")]),t("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$t("app.file_system.title.download_file"))+" ")])],1),t(N.ZB,{staticClass:"py-3 px-5"},[t("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.file.filepath)+" ")]),t(j.Z,{staticClass:"mb-2",attrs:{value:e.file.percent,color:"primary"}}),t("table",[t("tr",[t("td",{staticClass:"pr-2"},[e._v(" "+e._s(e.$t("app.file_system.label.downloaded"))+": ")]),t("td",[e._v(e._s(e.file.percent)+"% ("+e._s(e.$filters.getReadableFileSizeString(e.file.loaded))+" / "+e._s(e.$filters.getReadableFileSizeString(e.file.size))+")")])]),t("tr",[t("td",{staticClass:"pr-2"},[e._v(" "+e._s(e.$t("app.file_system.label.transfer_rate"))+": ")]),t("td",[e._v(e._s(e.file.speed.toFixed(2))+" "+e._s(e.file.unit)+"/Sec")])])])],1),t(ps.Z),t(N.h7,{staticClass:"py-2 px-5"},[t(Ce.Z),t("app-btn",{attrs:{color:"error",text:""},on:{click:function(t){e.$emit("cancel"),e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")])],1)],1):e._e()],1)},As=[];let Rs=class extends((0,d.Wr)(u.Z)){};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Rs.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Object})],Rs.prototype,"file",void 0),Rs=(0,p.gn)([(0,d.wA)({})],Rs);const Es=Rs,Ls=Es;var Ds=(0,L.Z)(Ls,Ps,As,!1,null,null,null);const Ts=Ds.exports;var Ms=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":"500",persistent:""}},[e.files?t(be.Z,[t(N.EB,{staticClass:"card-heading py-2 px-5"},[t(g.Z,{attrs:{left:""}},[e._v(" $fileUpload ")]),t("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$tc("app.file_system.title.upload_file",e.files.length))+" ")])],1),e._l(e.files,(function(s,a){return[100===s.percent&&s.complete||s.cancelled?e._e():t(N.ZB,{key:s.filepath,staticClass:"py-2 px-5"},[t(o.Z,[t(n.Z,[t("div",{staticClass:"mb-2"},[e._v(" "+e._s(s.filepath)+" ")]),100!==s.percent||s.complete?t(j.Z,{staticClass:"mb-2",attrs:{value:s.percent,color:"primary"}}):t(j.Z,{staticClass:"mb-2",attrs:{indeterminate:"",color:"primary"}}),s.complete||100!==s.percent?e._e():t("div",[e._v(" "+e._s(e.$t("app.file_system.msg.processing"))+" ")]),100!==s.percent?t("table",[t("tr",[t("td",{staticClass:"pr-2"},[e._v(" "+e._s(e.$t("app.file_system.label.uploaded"))+": ")]),t("td",[e._v(e._s(s.percent)+"% ("+e._s(e.$filters.getReadableFileSizeString(s.loaded))+" / "+e._s(e.$filters.getReadableFileSizeString(s.size))+")")])]),t("tr",[t("td",{staticClass:"pr-2"},[e._v(" "+e._s(e.$t("app.file_system.label.transfer_rate"))+": ")]),t("td",[e._v(e._s(s.speed.toFixed(2))+" "+e._s(s.unit)+"/Sec")])])]):e._e()],1),t(n.Z,{attrs:{cols:"auto"}},[t("app-btn",{attrs:{color:"error",icon:"",text:"",disabled:s.complete||100===s.percent||s.cancelled},on:{click:function(t){return e.$emit("cancel",s)}}},[t(g.Z,[e._v("$close")])],1)],1)],1)],1),(100!==s.percent||!s.complete)&&a<e.files.length-1?t(ps.Z,{key:`divider-${s.filepath}`}):e._e()]}))],2):e._e()],1)},Os=[];let Is=class extends((0,d.Wr)(u.Z)){};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Is.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Array})],Is.prototype,"files",void 0),Is=(0,p.gn)([(0,d.wA)({})],Is);const Fs=Is,Bs=Fs;var Ns=(0,L.Z)(Bs,Ms,Os,!1,null,null,null);const Us=Ns.exports;var js=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{width:e.width},model:{value:e.file.open,callback:function(t){e.$set(e.file,"open",t)},expression:"file.open"}},[e.file.open?t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.file.filename))]),t(Ce.Z),t("app-btn",{attrs:{color:"",icon:""},on:{click:function(t){return e.$emit("close")}}},[t(g.Z,[e._v("$close")])],1)],1),t(N.ZB,{staticClass:"py-4"},[t(z.Z,{attrs:{"justify-center":""}},[e.isVideo?t("video",{attrs:{controls:""}},[t("source",{attrs:{src:e.file.src,type:e.file.type}})]):e.isImage?t("img",{attrs:{src:e.file.src}}):t("div",[e._v(" "+e._s(e.$t("app.general.simple_form.msg.no_file_preview",{name:e.file.appFile?`.${e.file.appFile.extension.toUpperCase()} files`:e.file.filename}))+" ")])])],1),e.file.appFile&&(e.removable||e.downloadable)?[t(ps.Z),t(N.h7,{staticClass:"pt-4"},[t(Ce.Z),e.file.appFile&&e.removable?t("app-btn",{attrs:{text:"",color:"error"},on:{click:function(t){e.$emit("remove",e.file.appFile,(()=>e.$emit("close")))}}},[t(g.Z,[e._v("$delete")]),e._v(" "+e._s(e.$t("app.general.btn.remove"))+" ")],1):e._e(),e.file.appFile&&e.downloadable?t("app-btn",{attrs:{color:"primary"},on:{click:function(t){return e.$emit("download",e.file.appFile)}}},[t(g.Z,[e._v("$download")]),e._v(" "+e._s(e.$t("app.general.btn.download"))+" ")],1):e._e()],1)]:e._e()],2):e._e()],1)},Hs=[];let Ws=class extends((0,d.Wr)(u.Z)){get width(){var e,t;const s=window.innerWidth*(this.$vuetify.breakpoint.mdAndDown?1:.75);return Math.min(.9*window.innerWidth,Math.max(null!==(t=null===(e=this.file)||void 0===e?void 0:e.width)&&void 0!==t?t:s,s/2))}get isVideo(){var e;return null===(e=this.file)||void 0===e?void 0:e.type.startsWith("video/")}get isImage(){var e;return"image"===(null===(e=this.file)||void 0===e?void 0:e.type)}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Ws.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Object})],Ws.prototype,"file",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Ws.prototype,"downloadable",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Ws.prototype,"removable",void 0),Ws=(0,p.gn)([(0,d.wA)({})],Ws);const zs=Ws,qs=zs;var Vs=(0,L.Z)(qs,js,Hs,!1,null,"04a2e299",null);const Gs=Vs.exports;var Ys=s(9669),Ks=s.n(Ys),Xs=s(10665);let Js=class extends((0,d.Wr)(u.Z,P.Z,Se.Z)){constructor(){super(...arguments),this.ready=!1,this.currentRoot="",this.search="",this.contextMenuState={open:!1,x:0,y:0,file:null},this.dragState={browserState:!1,overlay:!1},this.selected=[],this.fileEditorDialogState={open:!1,contents:"",filename:"",loading:!1,readonly:!1},this.fileNameDialogState={open:!1,title:"",value:"",label:"",rules:[],handler:""},this.filePreviewState={open:!1,type:"",filename:"",src:""}}get filters(){var e;return null!==(e=this.$store.state.config.uiSettings.fileSystem.activeFilters[this.currentRoot])&&void 0!==e?e:[]}set filters(e){this.$store.dispatch("config/saveByPath",{path:`uiSettings.fileSystem.activeFilters.${this.currentRoot}`,value:e,server:!0})}get availableRoots(){return Array.isArray(this.roots)?this.roots:[this.roots]}get rootProperties(){return this.$store.getters["files/getRootProperties"](this.currentRoot)}get disabled(){return!this.$store.getters["files/isRootAvailable"](this.currentRoot)}onDisabledChange(e){e||this.loadFiles(this.currentPath)}get headers(){let e=[{text:"",value:"data-table-icons",sortable:!1,width:"24px"},{text:this.$t("app.general.table.header.name"),value:"name",filter:e=>{for(const t of this.filters)switch(t){case"hidden_files":if(e.match(/^\.(?!\.$)/))return!1;break;case"klipper_backup_files":if(e.match(/^printer-\d{8}_\d{6}\.cfg$/))return!1;break}return!0}}];"gcodes"===this.currentRoot&&(e=[...e,{text:this.$t("app.general.table.header.height"),value:"object_height",configurable:!0},{text:this.$t("app.general.table.header.first_layer_height"),value:"first_layer_height",configurable:!0},{text:this.$t("app.general.table.header.layer_height"),value:"layer_height",configurable:!0},{text:this.$t("app.general.table.header.filament_name"),value:"filament_name",configurable:!0},{text:this.$t("app.general.table.header.filament_type"),value:"filament_type",configurable:!0},{text:this.$t("app.general.table.header.filament"),value:"filament_total",configurable:!0},{text:this.$t("app.general.table.header.filament_weight_total"),value:"filament_weight_total",configurable:!0},{text:this.$t("app.general.table.header.filament_used"),value:"history.filament_used",configurable:!0},{text:this.$t("app.general.table.header.nozzle_diameter"),value:"nozzle_diameter",configurable:!0},{text:this.$t("app.general.table.header.slicer"),value:"slicer",configurable:!0},{text:this.$t("app.general.table.header.slicer_version"),value:"slicer_version",configurable:!0},{text:this.$t("app.general.table.header.estimated_time"),value:"estimated_time",configurable:!0},{text:this.$t("app.general.table.header.print_duration"),value:"history.print_duration",configurable:!0},{text:this.$t("app.general.table.header.total_duration"),value:"history.total_duration",configurable:!0},{text:this.$t("app.general.table.header.first_layer_bed_temp"),value:"first_layer_bed_temp",configurable:!0},{text:this.$t("app.general.table.header.first_layer_extr_temp"),value:"first_layer_extr_temp",configurable:!0},{text:this.$t("app.general.table.header.chamber_temp"),value:"chamber_temp",configurable:!0},{text:this.$t("app.general.table.header.last_printed"),value:"print_start_time",filter:(e,t,s)=>{for(const a of this.filters)switch(a){case"print_start_time":if("file"===s.type&&null!==e)return!1;break}return!0},configurable:!0}]),e=[...e,{text:this.$t("app.general.table.header.modified"),value:"modified",width:"1%",configurable:!0},{text:this.$t("app.general.table.header.size"),value:"size",width:"1%",configurable:!0}];const t=`${this.currentRoot}_${this.name}`;return this.$store.getters["config/getMergedTableHeaders"](e,t)}get visibleHeaders(){return this.headers.filter((e=>e.visible||void 0===e.visible))}get currentPath(){return this.$store.getters["files/getCurrentPathByRoot"](this.currentRoot)||this.currentRoot}set currentPath(e){this.$store.dispatch("files/updateCurrentPathByRoot",{root:this.currentRoot,path:e})}get visiblePath(){if(this.currentPath&&this.currentPath.startsWith(`${this.currentRoot}`)){const e=this.currentPath.split("/");return e.shift(),e?e.join("/"):""}return this.currentPath}get files(){const e=this.getAllFiles();return"timelapse"===this.currentRoot?this.transformTimelapseItems(e):e}getAllFiles(){const e=this.$store.getters["files/getDirectory"](this.currentRoot,this.currentPath);return e&&e.items?e.items:[]}onFilesChange(){this.selected=[]}get filesLoading(){return this.hasWaitsBy(we.hw.onFileSystem)}get currentUploads(){return this.$store.state.files.uploads}get currentDownload(){return this.$store.state.files.download}get registeredRoots(){return this.$store.state.server.info.registered_directories||[]}transformTimelapseItems(e){var t;const s={};for(const a of e)"file"===a.type&&"jpg"!==a.extension&&(s[a.filename.slice(0,-(a.extension.length+1))]=a);for(const a of e)if("file"===a.type&&"jpg"===a.extension){const e=a.filename.slice(0,-4);if(e in s){const r=new URL(null!==(t=this.apiUrl)&&void 0!==t?t:document.location.origin);r.pathname=`/server/files/timelapse${a.path?`/${a.path}`:""}/${a.filename}`,s[e].thumbnails=[{absolute_path:r.toString(),data:"",height:0,width:0,size:0,relative_path:""}]}}return[...e.filter((e=>"directory"===e.type)),...Object.values(s)]}onRegisteredRoots(e){if(e.length>0&&!this.ready)for(const t of this.availableRoots)if(e.includes(t)){this.currentRoot=t,this.ready=!0;break}}handleRootChange(e){e.length&&(this.currentRoot=e,this.loadFiles(e))}loadFiles(e){this.disabled||(this.currentPath=e,this.files.length<=0&&this.refreshPath(e))}refreshPath(e){e&&!this.disabled&&$.r.serverFilesGetDirectory(this.currentRoot,e)}handleFilter(e){this.filters=e}handleRowClick(e,t){if(!this.contextMenuState.open&&!this.disabled)if("directory"===e.type&&"contextmenu"!==t.type){const t=e;if(".."===e.name){const e=this.currentPath.split("/"),t=e.slice(0,-1).join("/");t===this.currentRoot?this.loadFiles(this.currentRoot):this.loadFiles(t)}else this.loadFiles(`${this.currentPath}/${t.dirname}`);this.selected=[]}else"click"!==t.type||"file"!==e.type||!this.$store.state.config.uiSettings.editor.autoEditExtensions.includes(`.${e.extension}`)&&"timelapse"!==this.currentRoot?(this.contextMenuState.x=t.clientX,this.contextMenuState.y=t.clientY,this.contextMenuState.file=e,this.$nextTick((()=>{this.contextMenuState.open=!0}))):this.handleFileOpenDialog(e)}handleRenameDialog(e){if(this.disabled)return;let t=this.$t("app.file_system.title.rename_dir"),s=this.$t("app.file_system.label.dir_name");const a=[e=>!!e||this.$t("app.general.simple_form.error.required")];"file"===e.type&&(t=this.$t("app.file_system.title.rename_file"),s=this.$t("app.file_system.label.file_name")),this.fileNameDialogState={open:!0,title:t,label:s,value:e.name,rules:a,handler:this.handleRename}}handleAddFileDialog(){this.disabled||(this.fileNameDialogState={open:!0,title:this.$t("app.file_system.title.add_file"),label:this.$t("app.file_system.label.file_name"),value:"",rules:[e=>!!e||this.$t("app.general.simple_form.error.required")],handler:this.handleAddFile})}handleAddDirDialog(){this.disabled||(this.fileNameDialogState={open:!0,title:this.$t("app.file_system.title.add_dir"),label:this.$t("app.file_system.label.dir_name"),value:"",rules:[e=>!!e||this.$t("app.general.simple_form.error.required")],handler:this.handleAddDir})}handleFileOpenDialog(e){"timelapse"!==this.currentRoot||"zip"!==e.extension?(this.cancelTokenSource=Ks().CancelToken.source(),this.getFile(e.filename,this.currentPath,e.size,{responseType:"timelapse"===this.currentRoot?"arraybuffer":"text",transformResponse:[e=>e],cancelToken:this.cancelTokenSource.token}).then((t=>{if("timelapse"===this.currentRoot){const s=t.headers["content-type"],a=new Blob([t.data],{type:s});this.filePreviewState={open:!0,type:s,filename:e.filename,src:URL.createObjectURL(a),appFile:e}}else this.fileEditorDialogState={open:!0,contents:t.data,filename:e.filename,loading:!1,readonly:this.rootProperties.readonly}})).finally((()=>this.$store.dispatch("files/removeFileDownload"))).catch((e=>e))):this.filePreviewState={open:!0,type:"unknown",filename:e.filename,src:"",appFile:e}}handleClosePreview(){this.filePreviewState.open=!1,this.filePreviewState.src.startsWith("blob:")&&URL.revokeObjectURL(this.filePreviewState.src)}handleCancelDownload(){this.cancelTokenSource&&this.cancelTokenSource.cancel("User cancelled."),this.$store.dispatch("files/removeFileDownload")}async handlePreviewGcode(e){this.getGcode(e).then((e=>null===e||void 0===e?void 0:e.data)).then((t=>{"/"!==this.$router.currentRoute.path&&this.$router.push({path:"/"}),this.$store.dispatch("gcodePreview/loadGcode",{file:e,gcode:t})})).catch((e=>e)).finally((()=>{this.$store.dispatch("files/removeFileDownload")}))}async handleViewThumbnail(e){var t;const s=(0,Xs.jB)(null!==(t=e.thumbnails)&&void 0!==t?t:[],e.path,!0);if(!s)return;const a=this.getThumbUrl([s],e.path,!0);this.filePreviewState={open:!0,src:a,type:"image",filename:e.filename,width:s.width}}handlePrint(e){this.disabled||($.r.printerPrintStart(`${this.visiblePath}/${e.filename}`),"/"!==this.$router.currentRoute.path&&this.$router.push({path:"/"}))}async handleSaveFileChanges(e,t){if(e.length>0){const s=new File([e],this.fileEditorDialogState.filename);if(!t&&this.fileEditorDialogState.open&&(this.fileEditorDialogState.loading=!0),await this.uploadFile(s,this.visiblePath,this.currentRoot,!1),this.fileEditorDialogState.loading=!1,t){if("moonraker"===t)return void this.serviceRestartMoonraker();if("klipper"===t)return void this.firmwareRestartKlippy();this.serviceRestartByName(t)}}}handleMove(e,t){let s=`${this.currentPath}/${t.dirname}`;if(".."===t.dirname){const e=this.currentPath.split("/");e.pop(),s=e.join("/")}const a=Array.isArray(e)?e.filter((e=>".."!==e.name)):[e];a.forEach((e=>{if("file"===e.type){const a=`${this.currentPath}/${e.filename}`,r=s?`${s}/${e.filename}`:`${e.filename}`;if($.r.serverFilesMove(a,r),"timelapse"===this.currentRoot&&"jpg"!==e.extension){const s=e.filename.slice(0,-(e.extension.length+1)),a=this.getAllFiles().filter((e=>"file"===e.type&&"jpg"===e.extension&&e.filename.startsWith(s)));a.length&&this.handleMove(a,t)}}else{const t=`${this.currentPath}/${e.dirname}`,a=s?`${s}/${e.dirname}`:`${e.dirname}`;$.r.serverFilesMove(t,a)}}))}handleRename(e){const t=`${this.currentPath}/${this.fileNameDialogState.value}`,s=`${this.currentPath}/${e}`;$.r.serverFilesMove(t,s)}handleRemove(e,t){if(this.disabled)return;const s=Array.isArray(e)?e.filter((e=>".."!==e.name)):[e];if("timelapse"===this.currentRoot){const e=[],t=this.getAllFiles();for(const a of s)if("file"===a.type){const s=a.filename.slice(0,-(a.extension.length+1));for(const a of t)"file"===a.type&&"jpg"===a.extension&&a.filename.startsWith(s)&&e.push(a)}s.push(...e)}const a=this.$tc("app.file_system.msg.confirm");this.$confirm(a,{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{s.forEach((t=>{e&&("directory"===t.type&&$.r.serverFilesDeleteDirectory(`${this.currentPath}/${t.name}`,!0),"file"===t.type&&$.r.serverFilesDeleteFile(`${this.currentPath}/${t.name}`))})),t&&t()}))}async handleUpload(e,t){this.$store.dispatch("wait/addWait",we.hw.onFileSystem),this.uploadFiles(e,this.visiblePath,this.currentRoot,t),this.$store.dispatch("wait/removeWait",we.hw.onFileSystem)}handleCancelUpload(e){e.complete||(0===e.loaded&&this.$store.dispatch("files/updateFileUpload",{filepath:e.filepath,cancelled:!0}),e.loaded>0&&e.loaded<e.size&&this.cancelTokenSource&&this.cancelTokenSource.cancel("User cancelled."))}handleAddDir(e){$.r.serverFilesPostDirectory(`${this.currentPath}/${e}`)}handleAddFile(e){const t=new File([],e);this.uploadFile(t,this.visiblePath,this.currentRoot,!1)}handleDownload(e){this.downloadFile(e.filename,this.currentPath)}handlePreheat(e){this.disabled||e.first_layer_extr_temp&&e.first_layer_bed_temp&&!this.printerPrinting&&!this.printerPaused&&this.klippyReady&&(e.first_layer_extr_temp>0&&this.sendGcode(`M104 S${e.first_layer_extr_temp}`),e.first_layer_bed_temp>0&&this.sendGcode(`M140 S${e.first_layer_bed_temp}`),e.chamber_temp&&e.chamber_temp>0&&this.sendGcode(`M141 S${e.chamber_temp}`))}handleDragEnter(){this.rootProperties.readonly||this.dragState.browserState||(this.dragState.overlay=!0)}handleDragLeave(){this.dragState.overlay=!1}async handleDropFile(e){this.dragState.overlay=!1,e&&e.dataTransfer&&e.dataTransfer.files.length&&!this.rootProperties.readonly&&this.handleUpload(e.dataTransfer.files,!1)}};(0,p.gn)([(0,d.fI)({type:[String,Array],required:!0})],Js.prototype,"roots",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!1})],Js.prototype,"name",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Js.prototype,"dense",void 0),(0,p.gn)([(0,d.fI)({type:[Number,String]})],Js.prototype,"height",void 0),(0,p.gn)([(0,d.fI)({type:[Number,String]})],Js.prototype,"maxHeight",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Js.prototype,"bulkActions",void 0),(0,p.gn)([(0,d.RL)("disabled")],Js.prototype,"onDisabledChange",null),(0,p.gn)([(0,d.RL)("files")],Js.prototype,"onFilesChange",null),(0,p.gn)([(0,d.RL)("registeredRoots",{immediate:!0})],Js.prototype,"onRegisteredRoots",null),Js=(0,p.gn)([(0,d.wA)({components:{FileSystemToolbar:it,FileSystemBulkActions:ut,FileSystemBrowser:Pt,FileSystemContextMenu:Ot,FileSystemDragOverlay:Zs,FileEditorDialog:cs,FileNameDialog:_s,FileSystemDownloadDialog:Ts,FileSystemUploadDialog:Us,FilePreviewDialog:Gs}})],Js);const Qs=Js,ea=Qs;var ta=(0,L.Z)(ea,xe,$e,!1,null,"192d07a0",null);const sa=ta.exports;let aa=class extends((0,d.Wr)(u.Z)){get inLayout(){return this.$store.state.config.layoutMode}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],aa.prototype,"enabled",void 0),aa=(0,p.gn)([(0,d.wA)({components:{FileSystem:sa}})],aa);const ra=aa,ia=ra;var na=(0,L.Z)(ia,_e,ye,!1,null,null,null);const oa=na.exports;var la=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.tool"),icon:"$printer3dNozzle",draggable:!0,"layout-path":"dashboard.toolhead-card","menu-breakpoint":"lg"},scopedSlots:e._u([{key:"title",fn:function(){return[t(g.Z,{attrs:{left:""}},[e._v(" $printer3dNozzle ")]),t("span",{staticClass:"font-weight-light"},[e._v(e._s(e.$t("app.general.title.tool")))]),t(k.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(g.Z,e._g(e._b({directives:[{name:"show",rawName:"v-show",value:!e.extruderReady,expression:"!extruderReady"}],staticClass:"ml-3",attrs:{color:"info"}},"v-icon",a,!1),s),[e._v(" $snowflakeAlert ")])]}}])},[t("span",{domProps:{innerHTML:e._s(e.$t("app.tool.tooltip.extruder_disabled",{min:e.activeExtruder.min_extrude_temp}))}})])]},proxy:!0},{key:"menu",fn:function(){return[t("app-btn-collapse-group",{attrs:{collapsed:e.menuCollapsed}},[e.isManualProbeActive?t("app-btn",{staticClass:"ml-1",attrs:{elevation:2,disabled:!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){e.manualProbeDialogOpen=!0}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.manual_probe"))+" ")]):e._e(),e.printerSupportsForceMove?t("app-btn",{staticClass:"ml-1",attrs:{elevation:2,disabled:!e.klippyReady||e.printerPrinting,small:"",color:e.forceMove?"error":void 0},on:{click:e.toggleForceMove}},[e._v(" "+e._s(e.$t("app.tool.tooltip.force_move"))+" ")]):e._e(),t("app-btn",{staticClass:"ml-1",attrs:{elevation:2,disabled:!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){return e.sendGcode("M84")}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.motors_off"))+" ")]),e.printerSupportsBedScrews?t("app-btn",{staticClass:"ml-1",attrs:{elevation:2,loading:e.hasWait(e.waits.onBedScrewsAdjust),disabled:!e.klippyReady||e.printerPrinting,small:""},on:{click:e.bedScrewsAdjust}},[e._v(" "+e._s(e.$t("app.tool.tooltip.bed_screws_adjust"))+" ")]):e._e(),e.printerSupportsBedScrewsCalculate?t("app-btn",{staticClass:"ml-1",attrs:{elevation:2,loading:e.hasWait(e.waits.onBedScrewsCalculate),disabled:!e.allHomed||!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){return e.sendGcode("SCREWS_TILT_CALCULATE",e.waits.onBedScrewsCalculate)}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.screws_tilt_calculate"))+" ")]):e._e(),e.printerSupportsZtilt?t("app-btn",{staticClass:"ml-1",attrs:{elevation:2,loading:e.hasWait(e.waits.onZTilt),disabled:!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){return e.sendGcode("Z_TILT_ADJUST",e.waits.onZTilt)}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.z_tilt_adjust"))+" ")]):e._e(),e.printerSupportsQgl?t("app-btn",{staticClass:"ml-1",attrs:{elevation:2,loading:e.hasWait(e.waits.onQGL),disabled:!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){return e.sendGcode("QUAD_GANTRY_LEVEL",e.waits.onQGL)}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.quad_gantry_level"))+" ")]):e._e()],1)]},proxy:!0}])},[t("toolhead",{attrs:{"force-move":e.forceMove}}),e.manualProbeDialogOpen?t("manual-probe-dialog",{model:{value:e.manualProbeDialogOpen,callback:function(t){e.manualProbeDialogOpen=t},expression:"manualProbeDialogOpen"}}):e._e(),e.bedScrewsAdjustDialogOpen?t("bed-screws-adjust-dialog",{model:{value:e.bedScrewsAdjustDialogOpen,callback:function(t){e.bedScrewsAdjustDialogOpen=t},expression:"bedScrewsAdjustDialogOpen"}}):e._e()],1)},ca=[],pa=s(28311),da=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(N.ZB,[t(o.Z,{staticClass:"mb-2",attrs:{justify:"space-between",align:"start"}},[t(n.Z,{staticClass:"controls-wrapper"},[e.multipleExtruders?t("extruder-selection"):e._e(),e.printerPrinting?e._e():t("toolhead-moves",{attrs:{"force-move":e.forceMove}}),e.printerPrinting?t("z-height-adjust"):e._e()],1),t(n.Z,{staticClass:"controls-wrapper"},[t("toolhead-position",{attrs:{"force-move":e.forceMove}}),e.printerPrinting?e._e():t("extruder-moves"),e.printerPrinting?e._e():t("z-height-adjust")],1)],1),t("speed-and-flow-adjust"),e.showPressureAdvance?t("pressure-advance-adjust"):e._e()],1)},ua=[],ma=s(86748),ha=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(o.Z,{staticClass:"mb-2",attrs:{"no-gutters":"",justify:"start"}},[t(n.Z,{staticClass:"ml-12 mr-12",attrs:{cols:"auto"}},[t("app-btn-toolhead-move",{attrs:{color:e.axisButtonColor(e.yHomed),disabled:e.axisButtonDisabled(e.yHomed,e.yHasMultipleSteppers),icon:"$up"},on:{click:function(t){return e.sendMoveGcode("Y",e.toolheadMoveLength)}}})],1),t(n.Z,{staticClass:"ml-2",attrs:{cols:"auto"}},[t("app-btn-toolhead-move",{attrs:{color:e.axisButtonColor(e.zHomed),disabled:e.axisButtonDisabled(e.zHomed,e.zHasMultipleSteppers),icon:"$up"},on:{click:function(t){return e.sendMoveGcode("Z",e.toolheadMoveLength)}}})],1),e.canHomeXY?t(n.Z,{staticClass:"ml-2"},[t("app-btn-toolhead-move",{attrs:{color:e.allHomed?void 0:"primary",loading:e.hasWait(e.waits.onHomeAll),disabled:!e.klippyReady||e.printerPrinting,icon:"$home","small-icon":""},on:{click:function(t){return e.sendGcode("G28",e.waits.onHomeAll)}}},[e._v(" "+e._s(e.$t("app.tool.btn.home_all"))+" ")])],1):e._e()],1),t(o.Z,{staticClass:"mb-2",attrs:{"no-gutters":"",justify:"start"}},[t(n.Z,{attrs:{cols:"auto"}},[t("app-btn-toolhead-move",{attrs:{color:e.axisButtonColor(e.xHomed),disabled:e.axisButtonDisabled(e.xHomed,e.xHasMultipleSteppers),icon:"$left"},on:{click:function(t){return e.sendMoveGcode("X",e.toolheadMoveLength,!0)}}})],1),t(n.Z,{staticClass:"ml-2",attrs:{cols:"auto"}},[t("app-btn-toolhead-move",{attrs:{color:e.xyHomed?void 0:"primary",loading:e.hasWait(e.waits.onHomeXY),disabled:!e.klippyReady||e.printerPrinting,tooltip:e.$t("app.tool.tooltip.home_xy"),icon:"$home"},on:{click:function(t){return e.sendGcode("G28 X Y",e.waits.onHomeXY)}}})],1),t(n.Z,{staticClass:"ml-2",attrs:{cols:"auto",justify:"end"}},[t("app-btn-toolhead-move",{attrs:{color:e.axisButtonColor(e.xHomed),disabled:e.axisButtonDisabled(e.xHomed,e.xHasMultipleSteppers),icon:"$right"},on:{click:function(t){return e.sendMoveGcode("X",e.toolheadMoveLength)}}})],1),e.canHomeXY?t(n.Z,{staticClass:"ml-2",attrs:{cols:"auto"}},[t("app-btn-toolhead-move",{attrs:{color:e.zHomed?void 0:"primary",loading:e.hasWait(e.waits.onHomeZ),disabled:!e.klippyReady||e.printerPrinting,tooltip:e.$t("app.tool.tooltip.home_z"),icon:"$home"},on:{click:function(t){return e.sendGcode("G28 Z",e.waits.onHomeZ)}}})],1):e._e(),e.canHomeXY?t(n.Z,{staticClass:"ml-2"},[t("app-btn-toolhead-move",{attrs:{color:e.xHomed?void 0:"primary",loading:e.hasWait(e.waits.onHomeX),disabled:!e.klippyReady||e.printerPrinting,icon:"$home","small-icon":""},on:{click:function(t){return e.sendGcode("G28 X",e.waits.onHomeX)}}},[e._v(" "+e._s(e.$t("app.tool.btn.home_x"))+" ")])],1):e._e()],1),t(o.Z,{staticClass:"mb-2",attrs:{"no-gutters":"",justify:"start"}},[t(n.Z,{staticClass:"ml-12 mr-7",attrs:{cols:"auto"}},[t("app-btn-toolhead-move",{attrs:{color:e.axisButtonColor(e.yHomed),disabled:e.axisButtonDisabled(e.yHomed,e.yHasMultipleSteppers),icon:"$down"},on:{click:function(t){return e.sendMoveGcode("Y",e.toolheadMoveLength,!0)}}})],1),t(n.Z,{staticClass:"ml-7",attrs:{cols:"auto"}},[t("app-btn-toolhead-move",{attrs:{color:e.axisButtonColor(e.zHomed),disabled:e.axisButtonDisabled(e.zHomed,e.zHasMultipleSteppers),icon:"$down"},on:{click:function(t){return e.sendMoveGcode("Z",e.toolheadMoveLength,!0)}}})],1),e.canHomeXY?t(n.Z,{staticClass:"ml-2"},[t("app-btn-toolhead-move",{attrs:{color:e.yHomed?void 0:"primary",loading:e.hasWait(e.waits.onHomeY),disabled:!e.klippyReady||e.printerPrinting,icon:"$home","small-icon":""},on:{click:function(t){return e.sendGcode("G28 Y",e.waits.onHomeY)}}},[e._v(" "+e._s(e.$t("app.tool.btn.home_y"))+" ")])],1):e._e()],1),t(o.Z,{staticClass:"mb-2",attrs:{"no-gutters":"",justify:"start"}},[t(n.Z,[t(ma.Z,{attrs:{mandatory:"",dense:""},model:{value:e.toolheadMoveLength,callback:function(t){e.toolheadMoveLength=e._n(t)},expression:"toolheadMoveLength"}},e._l(e.toolheadMoveDistances,(function(s,a){return t("app-btn",{key:a,attrs:{small:"","min-width":40,value:s,elevation:2,disabled:!e.klippyReady}},[e._v(" "+e._s(s)+" ")])})),1)],1)],1)],1)},ga=[];let fa=class extends((0,d.Wr)(u.Z,pa.Z)){constructor(){super(...arguments),this.waits=we.hw,this.moveLength="",this.fab=!1}get kinematics(){return this.$store.getters["printer/getPrinterSettings"]("printer.kinematics")||""}get canHomeXY(){return"delta"!==this.kinematics}get toolheadMoveDistances(){const e=this.$store.state.config.uiSettings.general.toolheadMoveDistances;return e.includes(this.toolheadMoveLength)?e:[this.toolheadMoveLength,...e].sort(((e,t)=>e-t))}get toolheadMoveLength(){return""===this.moveLength?this.$store.state.config.uiSettings.general.defaultToolheadMoveLength:this.moveLength}set toolheadMoveLength(e){this.moveLength=e}axisButtonColor(e){return this.forceMove?"error":e?"primary":void 0}axisButtonDisabled(e,t){return!this.klippyReady||!e&&!(this.forceMove&&!t)}sendMoveGcode(e,t,s=!1){e=e.toLowerCase();const a="z"===e.toLowerCase()?this.$store.state.config.uiSettings.general.defaultToolheadZSpeed:this.$store.state.config.uiSettings.general.defaultToolheadXYSpeed,r=this.$store.state.config.uiSettings.general.axis[e].inverted||!1;if(t=s&&!r||!s&&r?"-"+t:t,this.forceMove){const s="z"===e.toLowerCase()?this.$store.getters["printer/getPrinterSettings"]("printer.max_z_accel"):this.$store.state.printer.printer.toolhead.max_accel;this.sendGcode(`FORCE_MOVE STEPPER=stepper_${e} DISTANCE=${t} VELOCITY=${a} ACCEL=${s}`)}else this.sendGcode(`G91\n      G1 ${e}${t} F${60*a}\n      G90`)}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],fa.prototype,"forceMove",void 0),fa=(0,p.gn)([(0,d.wA)({})],fa);const va=fa,_a=va;var ya=(0,L.Z)(_a,ha,ga,!1,null,"c515d548",null);const ba=ya.exports;var xa=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(ds.Z,{on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(o.Z,{attrs:{justify:"end"}},[t(n.Z,{staticClass:"text-right",attrs:{cols:"6"}},[t(Ze.Z,{ref:"lengthfield",attrs:{disabled:!e.klippyReady,rules:[e.rules.min,e.rules.maxLength],"hide-details":"",outlined:"",dense:"",label:e.$t("app.general.label.extrude_length"),suffix:"mm"},on:{focus:function(e){return e.target.select()}},model:{value:e.extrudeLength,callback:function(t){e.extrudeLength=e._n(t)},expression:"extrudeLength"}})],1),t(n.Z,{attrs:{cols:"6"}},[t("app-btn",{attrs:{disabled:!e.extruderReady||!e.klippyReady||!e.valid,elevation:2,block:""},on:{click:function(t){return e.sendRetractGcode(e.extrudeLength,e.extrudeSpeed,e.waits.onExtrude)}}},[e._v(" "+e._s(e.$t("app.general.btn.retract"))+" "),t(g.Z,[e._v("$chevronUp")])],1)],1)],1),t(o.Z,{staticClass:"mt-0",attrs:{justify:"end"}},[t(n.Z,{staticClass:"text-right",attrs:{cols:"6"}},[t(Ze.Z,{attrs:{disabled:!e.klippyReady,rules:[e.rules.min,e.rules.maxSpeed],"hide-details":"",outlined:"",dense:"",label:e.$t("app.general.label.extrude_speed"),suffix:"mm/s"},on:{focus:function(e){return e.target.select()}},model:{value:e.extrudeSpeed,callback:function(t){e.extrudeSpeed=e._n(t)},expression:"extrudeSpeed"}})],1),t(n.Z,{attrs:{cols:"6"}},[t("app-btn",{attrs:{disabled:!e.extruderReady||!e.klippyReady||!e.valid,elevation:2,block:""},on:{click:function(t){return e.sendExtrudeGcode(e.extrudeLength,e.extrudeSpeed,e.waits.onExtrude)}}},[e._v(" "+e._s(e.$t("app.general.btn.extrude"))+" "),t(g.Z,[e._v("$chevronDown")])],1)],1)],1)],1)},$a=[];let wa=class extends((0,d.Wr)(u.Z,pa.Z)){constructor(){super(...arguments),this.waits=we.hw,this.feedSpeed=-1,this.feedLength=-1,this.valid=!0,this.rules={min:e=>e>=.1||this.$t("app.general.simple_form.error.min",{min:.1}),maxSpeed:e=>e<=this.maxExtrudeSpeed||this.$t("app.general.simple_form.error.max",{max:this.maxExtrudeSpeed}),maxLength:e=>e<=this.maxExtrudeLength||this.$t("app.general.simple_form.error.max",{max:this.maxExtrudeLength})}}get maxExtrudeSpeed(){return this.$store.getters["printer/getPrinterSettings"]("extruder.max_extrude_only_velocity")}get maxExtrudeLength(){return this.$store.getters["printer/getPrinterSettings"]("extruder.max_extrude_only_distance")}get extrudeSpeed(){return-1===this.feedSpeed?this.$store.state.config.uiSettings.general.defaultExtrudeSpeed:this.feedSpeed}set extrudeSpeed(e){this.feedSpeed=e}get extrudeLength(){return-1===this.feedLength?this.$store.state.config.uiSettings.general.defaultExtrudeLength:this.feedLength}set extrudeLength(e){this.feedLength=e}sendRetractGcode(e,t,s){if(this.valid){const a=`M83\n        G1 E-${e} F${60*t}`;this.sendGcode(a,s)}}sendExtrudeGcode(e,t,s){if(this.valid){const a=`M83\n        G1 E${e} F${60*t}`;this.sendGcode(a,s)}}};wa=(0,p.gn)([(0,d.wA)({})],wa);const Sa=wa,ka=Sa;var Ca=(0,L.Z)(ka,xa,$a,!1,null,null,null);const Za=Ca.exports;var Pa=s(22328),Aa=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Pa.Z,{staticClass:"mb-2 v-input--x-dense",staticStyle:{"max-width":"256px"},attrs:{items:e.extruders,readonly:e.printerPrinting,"item-value":"key","item-text":"name","hide-details":"",outlined:"",dense:""},model:{value:e.extruder,callback:function(t){e.extruder=t},expression:"extruder"}})},Ra=[];let Ea=class extends((0,d.Wr)(u.Z)){get extruders(){return this.$store.getters["printer/getExtruders"]}get extruder(){return this.$store.state.printer.printer.toolhead.extruder}set extruder(e){this.sendGcode(`ACTIVATE_EXTRUDER EXTRUDER=${e}`,we.hw.onExtruderChange)}};Ea=(0,p.gn)([(0,d.wA)({components:{}})],Ea);const La=Ea,Da=La;var Ta=(0,L.Z)(Da,Aa,Ra,!1,null,null,null);const Ma=Ta.exports;var Oa=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"mb-2"},[t(o.Z,{attrs:{justify:"space-between","no-gutters":""}},[t(n.Z,{staticClass:"pr-1",attrs:{cols:"3"}},[t(Ze.Z,{staticClass:"v-input--width-small",attrs:{color:e.forceMove?"error":"primary",label:`X [ ${e.livePosition[0].toFixed(2)} ]`,outlined:"","hide-details":"",dense:"",type:"number",disabled:!e.klippyReady||!e.xHomed&&!e.xForceMove,readonly:e.printerBusy,value:e.useGcodeCoords?e.gcodePosition[0].toFixed(2):e.toolheadPosition[0].toFixed(2)},on:{change:function(t){return e.moveTo("X",t)}}})],1),t(n.Z,{staticClass:"pr-1 pl-1",attrs:{cols:"3"}},[t(Ze.Z,{staticClass:"v-input--width-small",attrs:{color:e.forceMove?"error":"primary",label:`Y [ ${e.livePosition[1].toFixed(2)} ]`,outlined:"","hide-details":"",dense:"",type:"number",disabled:!e.klippyReady||!e.yHomed&&!e.yForceMove,readonly:e.printerBusy,value:e.useGcodeCoords?e.gcodePosition[1].toFixed(2):e.toolheadPosition[1].toFixed(2)},on:{change:function(t){return e.moveTo("Y",t)}}})],1),t(n.Z,{staticClass:"pr-1 pl-1",attrs:{cols:"3"}},[t(Ze.Z,{staticClass:"v-input--width-small",attrs:{color:e.forceMove?"error":"primary",label:`Z [ ${e.livePosition[2].toFixed(2)} ]`,outlined:"","hide-details":"",dense:"",type:"number",disabled:!e.klippyReady||!e.zHomed&&!e.zForceMove,readonly:e.printerBusy,value:e.useGcodeCoords?e.gcodePosition[2].toFixed(2):e.toolheadPosition[2].toFixed(2)},on:{change:function(t){return e.moveTo("Z",t)}}})],1),t(n.Z,{staticClass:"pl-1",attrs:{cols:"3"}},[t(ma.Z,{staticClass:"d-block",attrs:{mandatory:"",dense:""},model:{value:e.positioning,callback:function(t){e.positioning=t},expression:"positioning"}},[t(k.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("app-btn",e._g(e._b({staticClass:"positioning-toggle-button",attrs:{disabled:!e.klippyReady||e.printerBusy,elevation:2}},"app-btn",a,!1),s),[t(g.Z,{attrs:{small:""}},[e._v(" $absolutePositioning ")])],1)]}}])},[t("span",[e._v(e._s(e.$t("app.tool.tooltip.absolute_positioning")))])]),t(k.Z,{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("app-btn",e._g(e._b({staticClass:"positioning-toggle-button",attrs:{disabled:!e.klippyReady||e.printerBusy,elevation:2}},"app-btn",a,!1),s),[t(g.Z,{attrs:{small:""}},[e._v(" $relativePositioning ")])],1)]}}])},[t("span",[e._v(e._s(e.$t("app.tool.tooltip.relative_positioning")))])])],1)],1)],1),t(o.Z,{directives:[{name:"show",rawName:"v-show",value:e.printerPrinting,expression:"printerPrinting"}],attrs:{justify:"space-between",align:"center","no-gutters":""}},[t(n.Z,{staticClass:"secondary--text text--lighten-1",attrs:{cols:"auto"}},[e._v(" "+e._s(e.$t("app.general.label.requested_speed"))+" ")]),t(n.Z,{staticClass:"focus--text",attrs:{cols:"auto"}},[e._v(" "+e._s(e.requestedSpeed)+" mm/s ")])],1)],1)},Ia=[];let Fa=class extends((0,d.Wr)(u.Z,pa.Z)){get gcodePosition(){return this.$store.state.printer.printer.gcode_move.gcode_position}get toolheadPosition(){return this.$store.state.printer.printer.toolhead.position}get livePosition(){return this.$store.state.printer.printer.motion_report.live_position}get useGcodeCoords(){return this.$store.state.config.uiSettings.general.useGcodeCoords}get xForceMove(){return this.forceMove&&!this.xHasMultipleSteppers}get yForceMove(){return this.forceMove&&!this.yHasMultipleSteppers}get zForceMove(){return this.forceMove&&!this.zHasMultipleSteppers}get requestedSpeed(){const e=this.$store.state.printer.printer.gcode_move.speed_factor||1;let t=this.$store.state.printer.printer.gcode_move.speed||0;return t=t*e/60,t.toFixed()}get usesAbsolutePositioning(){return this.$store.state.printer.printer.gcode_move.absolute_coordinates}get positioning(){return this.usesAbsolutePositioning?0:1}set positioning(e){this.sendGcode(`G9${e}`)}moveTo(e,t){const s={X:0,Y:1,Z:2},a=this.useGcodeCoords?this.gcodePosition[s[e]]:this.toolheadPosition[s[e]];if(parseInt(a)!==parseInt(t)){const s="z"===e.toLowerCase()?this.$store.state.config.uiSettings.general.defaultToolheadZSpeed:this.$store.state.config.uiSettings.general.defaultToolheadXYSpeed;if(this.forceMove){const a="z"===e.toLowerCase()?this.$store.getters["printer/getPrinterSettings"]("printer.max_z_accel"):this.$store.state.printer.printer.toolhead.max_accel;this.sendGcode(`FORCE_MOVE STEPPER=stepper_${e.toLowerCase()} DISTANCE=${t} VELOCITY=${s} ACCEL=${a}`)}else this.sendGcode(`G90\n        G1 ${e}${t} F${60*s}`)}}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Fa.prototype,"forceMove",void 0),Fa=(0,p.gn)([(0,d.wA)({})],Fa);const Ba=Fa,Na=Ba;var Ua=(0,L.Z)(Na,Oa,Ia,!1,null,"55a5d13a",null);const ja=Ua.exports;var Ha=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{align:"start",justify:"end"}},[t(n.Z,{staticClass:"text-right",attrs:{cols:"6"}},[t(ma.Z,{attrs:{mandatory:"",dense:""},model:{value:e.moveDistance,callback:function(t){e.moveDistance=t},expression:"moveDistance"}},e._l(e.zAdjustValues,(function(s,a){return t("app-btn",{key:a,staticClass:"px-1",attrs:{small:"",disabled:!e.klippyReady,"min-width":36,elevation:2,value:s}},[e._v(" "+e._s(s)+" ")])})),1),t("div",{staticClass:"mt-1",class:{"text--disabled":!e.klippyReady}},[t("span",{staticClass:"secondary--text"},[e._v(e._s(e.$t("app.general.label.z_offset"))+" ")]),t("span",[e._v(e._s(e.ZHomingOrigin)+"mm")])])],1),t(n.Z,{attrs:{cols:"6"}},[t(o.Z,{staticClass:"mr-n1",attrs:{justify:"space-between","no-gutters":""}},[t(n.Z,{staticClass:"pr-1",attrs:{cols:"4"}},[t("app-btn",{attrs:{loading:e.hasWait(e.$waits.onZAdjust),disabled:!e.klippyReady,small:"",block:""},on:{click:function(t){return e.sendZAdjustGcode("+")}}},[t(g.Z,{attrs:{small:""}},[e._v(" $zUp ")])],1)],1),t(n.Z,{staticClass:"pr-1",attrs:{cols:"4"}},[t("app-btn",{attrs:{loading:e.hasWait(e.$waits.onZAdjust),disabled:!e.klippyReady,small:"",block:""},on:{click:function(t){return e.sendZAdjustGcode("-")}}},[t(g.Z,{attrs:{small:""}},[e._v(" $zDown ")])],1)],1),t(n.Z,{staticClass:"pr-1",attrs:{cols:"4"}},[t("app-btn",{attrs:{disabled:!e.klippyReady||e.printerPrinting||0==e.ZHomingOrigin,small:"",block:""},on:{click:e.handleZApplyDialog}},[t(g.Z,{attrs:{small:""}},[e._v(" $save ")])],1)],1)],1)],1)],1)},Wa=[];let za=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.moveDistanceValue=null}get ZHomingOrigin(){const{homing_origin:e}=this.$store.state.printer.printer.gcode_move;return e&&e.length>=4?e[2].toFixed(3):null}get zAdjustValues(){return this.$store.state.config.uiSettings.general.zAdjustDistances}get moveDistance(){return this.moveDistanceValue||this.zAdjustValues[0]}set moveDistance(e){this.moveDistanceValue=e}sendZAdjustGcode(e){const t=this.$store.getters["printer/getHomedAxes"]("z"),s=`SET_GCODE_OFFSET Z_ADJUST=${e}${this.moveDistance} MOVE=${+t}`;this.sendGcode(s,this.$waits.onZAdjust)}get printerUsesProbeAsEndstop(){const e=this.$store.getters["printer/getPrinterSettings"]("stepper_z");return!e||"probe:z_virtual_endstop"===e.endstop_pin}async handleZApplyDialog(){const[e,t]=this.printerUsesProbeAsEndstop?["Z_OFFSET_APPLY_PROBE",this.$tc("app.general.simple_form.msg.apply_z_offset_probe")]:["Z_OFFSET_APPLY_ENDSTOP",this.$tc("app.general.simple_form.msg.apply_z_offset_endstop")],s=await this.$confirm(t,{title:this.$tc("app.general.label.apply_z_offset"),color:"card-heading",icon:"$error",buttonTrueText:this.$tc("app.general.btn.save_restart"),buttonFalseText:this.$tc("app.general.btn.cancel")});s&&(this.sendGcode(e,this.waits.onZApply),this.sendGcode("SAVE_CONFIG",this.waits.onSaveConfig))}};za=(0,p.gn)([(0,d.wA)({})],za);const qa=za,Va=qa;var Ga=(0,L.Z)(Va,Ha,Wa,!1,null,null,null);const Ya=Ga.exports;var Ka=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,[t(n.Z,{attrs:{cols:"12",sm:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.speed"),suffix:"%",value:e.speed,overridable:!0,"reset-value":100,disabled:!e.klippyReady||e.hasWait(e.waits.onSetSpeed),locked:!e.klippyReady||e.isMobile,min:1,max:200},on:{change:e.handleSetSpeed}})],1),t(n.Z,{attrs:{cols:"12",sm:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.flow"),suffix:"%",value:e.flow,overridable:!0,"reset-value":100,disabled:!e.klippyReady||e.hasWait(e.waits.onSetFlow),locked:!e.klippyReady||e.isMobile,min:1,max:200},on:{change:e.handleSetFlow}})],1)],1)},Xa=[];let Ja=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.waits=we.hw}get flow(){return Math.round(100*this.$store.state.printer.printer.gcode_move.extrude_factor)||100}handleSetFlow(e){this.sendGcode("M221 S"+e,this.waits.onSetFlow)}get speed(){return Math.round(100*this.$store.state.printer.printer.gcode_move.speed_factor)||100}handleSetSpeed(e){this.sendGcode("M220 S"+e,this.waits.onSetSpeed)}get isMobile(){return this.$vuetify.breakpoint.mobile}};Ja=(0,p.gn)([(0,d.wA)({})],Ja);const Qa=Ja,er=Qa;var tr=(0,L.Z)(er,Ka,Xa,!1,null,null,null);const sr=tr.exports;var ar=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,[t(n.Z,{attrs:{cols:"12",sm:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.pressure_advance"),suffix:"s",value:e.activeExtruder.pressure_advance||0,overridable:!0,"reset-value":e.activeExtruder.config_pressure_advance||0,disabled:!e.klippyReady||e.hasWait(e.waits.onSetPressureAdvance),locked:!e.klippyReady||e.isMobile,min:0,max:2,step:1e-4},on:{change:e.handleSetPressureAdvance}})],1),t(n.Z,{attrs:{cols:"12",sm:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.smooth_time"),suffix:"s",value:e.activeExtruder.smooth_time||0,overridable:!1,"reset-value":e.activeExtruder.config_smooth_time||0,disabled:!e.klippyReady||e.hasWait(e.waits.onSetPressureAdvance),locked:!e.klippyReady||e.isMobile,min:0,max:.2,step:.001},on:{change:e.handleSetSmoothTime}})],1)],1)},rr=[];let ir=class extends((0,d.Wr)(u.Z,pa.Z)){constructor(){super(...arguments),this.waits=we.hw}handleSetPressureAdvance(e){this.sendGcode("SET_PRESSURE_ADVANCE ADVANCE="+e,this.waits.onSetPressureAdvance)}handleSetSmoothTime(e){this.sendGcode("SET_PRESSURE_ADVANCE SMOOTH_TIME="+e,this.waits.onSetPressureAdvance)}get isMobile(){return this.$vuetify.breakpoint.mobile}};ir=(0,p.gn)([(0,d.wA)({})],ir);const nr=ir,or=nr;var lr=(0,L.Z)(or,ar,rr,!1,null,null,null);const cr=lr.exports;let pr=class extends((0,d.Wr)(u.Z)){get multipleExtruders(){return this.$store.getters["printer/getExtruders"].length>1}get showPressureAdvance(){const e=this.$store.getters["printer/getActiveExtruder"];return void 0!==(null===e||void 0===e?void 0:e.pressure_advance)}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],pr.prototype,"forceMove",void 0),pr=(0,p.gn)([(0,d.wA)({components:{ToolheadMoves:ba,ExtruderMoves:Za,ExtruderSelection:Ma,ToolheadPosition:ja,ZHeightAdjust:Ya,SpeedAndFlowAdjust:sr,PressureAdvanceAdjust:cr}})],pr);const dr=pr,ur=dr;var mr=(0,L.Z)(ur,da,ua,!1,null,"07ad9806",null);const hr=mr.exports;var gr=s(83370),fr=s(61009);let vr=class extends((0,d.Wr)(u.Z,pa.Z)){constructor(){super(...arguments),this.forceMove=!1,this.manualProbeDialogOpen=!1,this.bedScrewsAdjustDialogOpen=!1}get printerSettings(){return this.$store.getters["printer/getPrinterSettings"]()}get printerSupportsQgl(){return"quad_gantry_level"in this.printerSettings}get printerSupportsZtilt(){return"z_tilt"in this.printerSettings}get printerSupportsBedScrews(){return"bed_screws"in this.printerSettings}get printerSupportsBedScrewsCalculate(){return"screws_tilt_adjust"in this.printerSettings}get printerSupportsForceMove(){var e,t;return null!==(t=null===(e=this.printerSettings.force_move)||void 0===e?void 0:e.enable_force_move)&&void 0!==t&&t}get showManualProbeDialogAutomatically(){return this.$store.state.config.uiSettings.general.showManualProbeDialogAutomatically}get showBedScrewsAdjustDialogAutomatically(){return this.$store.state.config.uiSettings.general.showBedScrewsAdjustDialogAutomatically}onIsManualProbeActive(e){e&&this.showManualProbeDialogAutomatically&&this.klippyReady&&!this.printerPrinting&&(this.manualProbeDialogOpen=!0)}onIsBedScrewsAdjustActive(e){e&&this.showBedScrewsAdjustDialogAutomatically&&this.klippyReady&&!this.printerPrinting&&(this.bedScrewsAdjustDialogOpen=!0)}bedScrewsAdjust(){this.isBedScrewsAdjustActive?this.bedScrewsAdjustDialogOpen=!0:this.sendGcode("BED_SCREWS_ADJUST",this.waits.onBedScrewsAdjust)}async toggleForceMove(){if(!this.forceMove&&this.$store.state.config.uiSettings.general.forceMoveToggleWarning){const e=await this.$confirm(this.$tc("app.general.simple_form.msg.confirm_forcemove_toggle"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$warning"});if(!e)return}this.forceMove=!this.forceMove}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],vr.prototype,"menuCollapsed",void 0),(0,p.gn)([(0,d.RL)("isManualProbeActive")],vr.prototype,"onIsManualProbeActive",null),(0,p.gn)([(0,d.RL)("isBedScrewsAdjustActive")],vr.prototype,"onIsBedScrewsAdjustActive",null),vr=(0,p.gn)([(0,d.wA)({components:{Toolhead:hr,ManualProbeDialog:gr["default"],BedScrewsAdjustDialog:fr["default"]}})],vr);const _r=vr,yr=_r;var br=(0,L.Z)(yr,la,ca,!1,null,null,null);const xr=br.exports;var $r=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.temperature"),icon:"$fire",lazy:!1,draggable:!0,"layout-path":"dashboard.temperature-card"},scopedSlots:e._u([{key:"title",fn:function(){return[t(g.Z,{attrs:{left:""}},[e._v(" $fire ")]),t("span",{staticClass:"font-weight-light"},[e._v(e._s(e.$t("app.general.title.temperature")))]),t("app-inline-help",{attrs:{bottom:"",small:"",tooltip:e.$t("app.chart.tooltip.help")}})]},proxy:!0},{key:"menu",fn:function(){return[t("app-btn-collapse-group",{attrs:{collapsed:e.menuCollapsed}},[t("app-btn",{staticClass:"ml-1",attrs:{small:"",disabled:!e.klippyReady},on:{click:function(t){e.chartVisible=!e.chartVisible}}},[t(g.Z,{attrs:{left:""}},[e._v(" $chart ")]),e._v(" "+e._s(e.chartVisible?e.$t("app.chart.label.off"):e.$t("app.chart.label.on"))+" ")],1),t("temperature-presets-menu",{on:{applyOff:e.handleApplyOff,applyPreset:e.handleApplyPreset}})],1),t("app-btn-collapse-group",{attrs:{collapsed:!0,"menu-icon":"$cog"}},[t(We.Z,{staticClass:"mx-2 mt-2 mb-2",attrs:{label:e.$t("app.setting.label.show_rate_of_change"),color:"primary","hide-details":""},model:{value:e.showRateOfChange,callback:function(t){e.showRateOfChange=t},expression:"showRateOfChange"}}),t(We.Z,{staticClass:"mx-2 mt-2 mb-2",attrs:{label:e.$t("app.setting.label.show_relative_humidity"),color:"primary","hide-details":""},model:{value:e.showRelativeHumidity,callback:function(t){e.showRelativeHumidity=t},expression:"showRelativeHumidity"}}),t(We.Z,{staticClass:"mx-2 mt-2 mb-2",attrs:{label:e.$t("app.setting.label.show_barometric_pressure"),color:"primary","hide-details":""},model:{value:e.showBarometricPressure,callback:function(t){e.showBarometricPressure=t},expression:"showBarometricPressure"}})],1)]},proxy:!0}])},[t("temperature-targets",{on:{legendClick:e.legendToggleSelect,legendPowerClick:e.legendTogglePowerSelect}}),e.chartReady&&e.chartVisible?t("thermal-chart",{ref:"thermalchart",attrs:{height:e.isMobile?"180px":"260px"}}):e._e()],1)},wr=[],Sr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"chart",style:{height:e.height}},[t("v-chart",{ref:"chart",staticStyle:{overflow:"initial"},attrs:{option:e.options,"update-options":{notMerge:!0},"init-options":{renderer:"svg"},autoresize:""},on:{legendselectchanged:e.handleLegendSelectChange}})],1)},kr=[],Cr=s(18939);let Zr=class extends d.w3{constructor(){super(...arguments),this.loading=!1,this.series=[],this.initialSelected={}}handleLegendSelectChange(e){this.$store.dispatch("charts/saveSelectedLegends",e.selected);let t=this.isMobile?15:20;this.showPowerAxis(e.selected)&&(t=this.isMobile?25:45),this.chart&&!this.loading&&this.chart.setOption({grid:{right:t},yAxis:[{},{show:this.showPowerAxis(e.selected)}]})}get chartData(){return this.$store.getters["charts/getChartData"]}onDataChange(e){this.chart&&!this.loading&&this.chart.setOption({dataset:{source:e}})}mounted(){this.init(),this.loading=!1}beforeDestroy(){"undefined"!==typeof window&&this.chart&&this.chart.dispose()}init(){const e=Object.keys(this.chartData[0]),t=this.$store.getters["printer/getChartableSensors"];t.forEach((t=>{let s=t;t.includes(" ")&&(s=t.split(" ")[1]),this.series.push(this.createSeries(s,t)),e.includes(s+"Target")&&this.series.push(this.createSeries(s+"Target",t)),e.includes(s+"Power")&&this.series.push(this.createSeries(s+"Power",t)),e.includes(s+"Speed")&&this.series.push(this.createSeries(s+"Speed",t))}))}get options(){const e=this.$store.state.config.uiSettings.theme.isDark,t=this.isMobile,s=e?"rgba(255,255,255,0.65)":"rgba(0,0,0,0.45)",a=t?13:14,r={color:e?"#ffffff":"#000000",opacity:.05},i={color:e?"#ffffff":"#000000",opacity:.5};let n=this.isMobile?15:20;this.showPowerAxis(this.initialSelected)&&(n=this.isMobile?35:45);const o={top:20,left:this.isMobile?35:45,right:n,bottom:this.isMobile?52:38},l={backgroundColor:e?"rgba(15,15,15,0.75)":"rgba(255,255,255,0.75)",borderColor:e?"rgba(0,0,0,0.85)":"rgba(255,255,255,0.85)",textStyle:{color:s,fontSize:a}},c=this.$store.getters["config/getTheme"],p=[c.currentTheme.primary,c.currentTheme.secondary],d={grid:o,color:p,legend:{show:!1,selected:this.initialSelected},tooltip:{...l,trigger:"axis",confine:!1,axisPointer:{type:"line",lineStyle:i,label:{color:s,fontSize:a,backgroundColor:l.backgroundColor}},position:this.tooltipPosition,formatter:e=>{let t="";return e.reverse().forEach((e=>{e.seriesName.toLowerCase().endsWith("target")||e.seriesName.toLowerCase().endsWith("power")||e.seriesName.toLowerCase().endsWith("speed")||!e.seriesName||!(e.seriesName in e.value)||(t+=`\n                  <div>\n                    ${e.marker}\n                    <span style="font-size:${a}px;color:${s};font-weight:400;margin-left:2px">\n                      ${e.seriesName}:\n                    </span>\n                    <span style="float:right;margin-left:20px;font-size:${a}px;color:${s};font-weight:900">\n                      ${e.value[e.seriesName].toFixed(2)}<small>°C</small>`,e.seriesName+"Target"in e.value&&(t+=` / ${e.value[e.seriesName+"Target"].toFixed()}<small>°C</small>`),e.seriesName+"Power"in e.value&&(t+=` / ${(100*e.value[e.seriesName+"Power"]).toFixed()}<small>%</small>`),e.seriesName+"Speed"in e.value&&(t+=` / ${(100*e.value[e.seriesName+"Speed"]).toFixed()}<small>%</small>`),t+='</span>\n                  <div style="clear: both"></div>\n                </div>\n                <div style="clear: both"></div>')})),t}},xAxis:{type:"time",boundaryGap:!1,max:"dataMax",min:e=>{const t=this.$store.getters["charts/getChartRetention"];return e.max-1e3*t},axisTick:{show:!1},splitLine:{show:!0,lineStyle:r},axisLabel:{interval:0,margin:14,color:l.textStyle.color,fontSize:a,formatter:"{H}:{mm}",rotate:this.isMobile?45:0},axisPointer:{label:{show:!0,margin:9,formatter:this.xAxisPointerFormatter}}},yAxis:[{name:"Temperature °C",nameTextStyle:{fontSize:a,color:s,align:"left"},nameGap:8,show:!0,type:"value",position:"left",splitLine:{show:!0,lineStyle:r},minInterval:20,maxInterval:60,min:this.yAxisTempMin,max:this.yAxisTempMax,axisLabel:{interval:0,margin:8,color:s,fontSize:a,formatter:"{value}"},boundaryGap:[0,"100%"]},{name:"Power %",nameTextStyle:{fontSize:a,color:s,align:"right"},nameGap:8,show:this.showPowerAxis(this.initialSelected),type:"value",position:"right",splitLine:{show:!1,lineStyle:r},min:0,max:1,axisLabel:{interval:0,margin:8,color:s,fontSize:a,formatter:this.yAxisPowerFormatter},boundaryGap:[0,"100%"]}],dataZoom:[{type:"inside",zoomOnMouseWheel:"shift"}],series:this.series};return d}createSeries(e,t){const s=d.w3.$colorset.next((0,Cr.Z)(t),t),a={name:e,type:"line",yAxisIndex:0,showSymbol:!1,animation:!1,color:s,emphasis:{lineStyle:{width:1.5}},lineStyle:{color:s,type:"solid",width:1.5,opacity:1},areaStyle:{opacity:.05},encode:{x:"date",y:e}};e.toLowerCase().endsWith("target")&&(a.yAxisIndex=0,a.emphasis.lineStyle.width=1,a.lineStyle.width=1,a.lineStyle.type="dashed",a.lineStyle.opacity=.8,a.areaStyle.opacity=0),(e.toLowerCase().endsWith("power")||e.toLowerCase().endsWith("speed"))&&(a.yAxisIndex=1,a.emphasis.lineStyle.width=1,a.lineStyle.width=1,a.lineStyle.type="dotted",a.lineStyle.opacity=1,a.areaStyle.opacity=0);const r=this.$store.getters["charts/getSelectedLegends"];return void 0!==r[e]?this.initialSelected[e]=r[e]:this.initialSelected[e]=!(e.toLowerCase().endsWith("power")||e.toLowerCase().endsWith("speed")),a}showPowerAxis(e){const t=Object.keys(e).filter((e=>e.toLowerCase().endsWith("power")||e.toLowerCase().endsWith("speed"))).filter((t=>!0===e[t]));return t.length>0}legendToggleSelect(e){this.chart&&this.chart.dispatchAction({type:"legendToggleSelect",name:e})}tooltipPosition(e,t,s,a,r){const i={top:-10};return i[["left","right"][+(e[0]<r.viewSize[0]/2)]]=10,i}get isMobile(){return this.$vuetify.breakpoint.mobile}xAxisPointerFormatter(e){const t=this.$dayjs(e.value);return t.format("H:mm:ss")}yAxisPointerFormatter(e){return e.value.toFixed()+"°C"}yAxisPowerFormatter(e){return""+100*e}yAxisTempMin(e){let t=10*Math.floor(e.min/10);return t=t===e.min&&t-10>=0?t-10:t,t}yAxisTempMax(e){let t=10*Math.ceil(e.max/10);return t=t===e.max?t+10:t,t}};(0,p.gn)([(0,d.fI)({type:String,default:"100%"})],Zr.prototype,"height",void 0),(0,p.gn)([(0,d.Rl)("chart")],Zr.prototype,"chart",void 0),(0,p.gn)([(0,d.RL)("chartData")],Zr.prototype,"onDataChange",null),Zr=(0,p.gn)([(0,d.wA)({})],Zr);const Pr=Zr,Ar=Pr;var Rr=(0,L.Z)(Ar,Sr,kr,!1,null,"020f1d9c",null);const Er=Rr.exports;var Lr=s(9449),Dr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Lr.Z,{staticClass:"temperature-table"},[t("thead",[t("tr",[t("th",{attrs:{width:"1%"}}),t("th",{attrs:{width:e.showRateOfChange?"94%":"95%"}},[e._v(" "+e._s(e.$t("app.chart.label.item"))+" ")]),t("th",{attrs:{width:"1%"}},[e._v(" "+e._s(e.$t("app.chart.label.power"))+" ")]),e.showRateOfChange?t("th",{attrs:{width:"1%"}},[e._v(" "+e._s(e.$t("app.chart.label.rate_of_change"))+" ")]):e._e(),t("th",{attrs:{width:"1%"}},[e._v(" "+e._s(e.$t("app.chart.label.current"))+" ")]),t("th",{attrs:{width:"1%"}}),t("th",{attrs:{width:"1%"}},[e._v(" "+e._s(e.$t("app.chart.label.target"))+" ")])])]),t("tbody",[e._l(e.heaters,(function(s){return t("tr",{key:s.name},[t("td",[t(g.Z,{attrs:{small:"",color:s.color}},[e._v(" $fire ")])],1),t("td",{staticClass:"temp-name"},[t("span",{staticClass:"legend-item",class:{active:!(s.name in e.chartSelectedLegends)||e.chartSelectedLegends[s.name]},on:{click:function(t){return e.$emit("legendClick",s)}}},[e._v(" "+e._s(s.prettyName)+" ")])]),t("td",{staticClass:"temp-power"},[t("span",{staticClass:"legend-item",class:{active:e.chartSelectedLegends[s.name+"Power"]},on:{click:function(t){return e.$emit("legendPowerClick",s)}}},[s.power<=0&&s.target<=0?t("span",[e._v("off")]):e._e(),s.target>0?t("span",[e._v(" "+e._s(s.power?(100*s.power).toFixed():0)),t("small",[e._v("%")])]):e._e()])]),e.showRateOfChange?t("td",{staticClass:"rate-of-change"},[t("span",{staticClass:"legend-item",class:{active:e.chartSelectedLegends[s.name+"Power"]}},[t("span",[e._v(e._s(e.getRateOfChange(s))),t("small",[e._v("°C/s")])])])]):e._e(),t("td",{staticClass:"temp-actual"},[e._v(" "+e._s(s.temperature?s.temperature.toFixed(1):0)),t("small",[e._v("°C")])]),t("td",[e._v("/")]),t("td",[e.klippyReady?t("input-temperature",{attrs:{value:s.target,max:s.maxTemp,min:s.minTemp},on:{input:function(t){return e.setHeaterTargetTemp(s.name,t)}}}):e._e()],1)])})),e._l(e.fans,(function(s){return t("tr",{key:s.name},[t("td",[t(g.Z,{class:{spin:s.speed>0&&s.target>0},attrs:{small:"",color:s.color}},[e._v(" $fan ")])],1),t("td",{staticClass:"temp-name"},[t("span",{staticClass:"legend-item",class:{active:!(s.name in e.chartSelectedLegends)||e.chartSelectedLegends[s.name]},on:{click:function(t){return e.$emit("legendClick",s)}}},[e._v(" "+e._s(s.prettyName)+" ")])]),t("td",{staticClass:"temp-power"},[s.speed?t("span",{staticClass:"legend-item",class:{active:e.chartSelectedLegends[s.name+"Speed"]},on:{click:function(t){return e.$emit("legendPowerClick",s)}}},[s.speed>0&&(s.target>0||!s.target)?t("span",[e._v(" "+e._s((100*s.speed).toFixed(0))),t("small",[e._v("%")])]):e._e(),s.speed<=0&&s.target&&s.target>0?t("span",[e._v(" "+e._s(e.$t("app.printer.state.standby"))+" ")]):e._e(),s.speed<=0&&(s.target&&s.target<=0||!s.target)?t("span",[e._v("off")]):e._e()]):e._e()]),e.showRateOfChange?t("td",{staticClass:"rate-of-change"},[t("span",{staticClass:"legend-item",class:{active:e.chartSelectedLegends[s.name+"Power"]}},[t("span",[e._v(e._s(e.getRateOfChange(s))),t("small",[e._v("°C/s")])])])]):e._e(),t("td",{staticClass:"temp-actual"},[s.temperature?t("span",[e._v(" "+e._s(s.temperature.toFixed(1))),t("small",[e._v("°C")])]):e._e()]),t("td",[e._v("/")]),t("td",[e.klippyReady&&"temperature_fan"===s.type?t("input-temperature",{attrs:{value:s.target,max:s.maxTemp,min:s.minTemp},on:{input:function(t){return e.setFanTargetTemp(s.name,t)}}}):e._e()],1)])})),e._l(e.sensors,(function(s){return t("tr",{key:s.name},[t("td",[t(g.Z,{attrs:{small:"",color:s.color}},[e._v(" $thermometer ")])],1),t("td",{staticClass:"temp-name"},[t("span",{staticClass:"legend-item",class:{active:!(s.name in e.chartSelectedLegends)||e.chartSelectedLegends[s.name]},on:{click:function(t){return e.$emit("legendClick",s)}}},[e._v(" "+e._s(s.prettyName)+" ")])]),t("td",{staticClass:"temp-power"},[e._v("   ")]),e.showRateOfChange?t("td",{staticClass:"rate-of-change"},[t("span",{staticClass:"legend-item"},[e._v(" "+e._s(e.getRateOfChange(s))),t("small",[e._v("°C/s")])])]):e._e(),t("td",{staticClass:"temp-actual"},[t(k.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[t("span",e._g(e._b({},"span",r,!1),a),[e._v(e._s(s.temperature.toFixed(1))),t("small",[e._v("°C")]),s.humidity&&e.showRelativeHumidity?t("small",[t("br"),e._v(e._s(s.humidity.toFixed(1))+" %")]):e._e(),s.pressure&&e.showBarometricPressure?t("small",[t("br"),e._v(e._s(s.pressure.toFixed(1))+" hpa")]):e._e()])]}}],null,!0)},[s.measured_max_temp&&s.measured_min_temp?t("span",[t("span",{},[e._v(e._s(e.$t("app.general.label.high"))+": "+e._s(s.measured_max_temp.toFixed(1))+"°C")]),t("br"),t("span",{},[e._v(e._s(e.$t("app.general.label.low"))+": "+e._s(s.measured_min_temp.toFixed(1))+"°C")])]):e._e()])],1),t("td",[e._v(" ")]),t("td",[e._v(" ")])])}))],2)]),e.chartVisible?t(ps.Z):e._e()],1)},Tr=[],Mr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Me.Z,{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition","min-width":150},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a,value:r}){return[t("app-btn",e._g(e._b({staticClass:"ml-1",attrs:{disabled:!e.klippyReady,small:""}},"app-btn",a,!1),s),[t(g.Z,{staticClass:"mr-1",attrs:{small:""}},[e._v(" $fire ")]),e._v(" "+e._s(e.$t("app.general.btn.presets"))+" "),t(g.Z,{staticClass:"ml-1",class:{"rotate-180":r},attrs:{small:""}},[e._v(" $chevronDown ")])],1)]}}])},[t(Le.Z,{attrs:{dense:""}},[t(De.Z,{attrs:{link:"",dense:""},on:{click:function(t){return e.$emit("applyOff")}}},[t(Te.V9,[t(g.Z,{attrs:{small:"",left:"",color:"info"}},[e._v(" $snowflakeAlert ")]),e._v(" "+e._s(e.$t("app.general.btn.heaters_off"))+" ")],1)],1),e._l(e.presets,(function(s){return t(De.Z,{key:s.index,attrs:{link:"",dense:""},on:{click:function(t){return e.$emit("applyPreset",s)}}},[t(Te.V9,[t(g.Z,{attrs:{small:"",left:"",color:"error"}},[e._v(" $fire ")]),e._v(" "+e._s(s.name)+" ")],1)],1)}))],2)],1)},Or=[];let Ir=class extends((0,d.Wr)(u.Z)){get presets(){return this.$store.getters["config/getTempPresets"]}};Ir=(0,p.gn)([(0,d.wA)({})],Ir);const Fr=Ir,Br=Fr;var Nr=(0,L.Z)(Br,Mr,Or,!1,null,null,null);const Ur=Nr.exports;var jr=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(ds.Z,{on:{submit:function(e){e.preventDefault()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(z.Z,[t(Ze.Z,{staticClass:"v-input--width-x-small",attrs:{outlined:"",dense:"","single-line":"","hide-details":"auto",disabled:!e.klippyReady,loading:e.loading,rules:[e.rules.min,e.rules.max],suffix:"°C"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.emitChange.apply(null,arguments)},focus:function(e){return e.target.select()}},model:{value:e.inputValue,callback:function(t){e.inputValue=e._n(t)},expression:"inputValue"}})],1)],1)},Hr=[];let Wr=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.valid=!0,this.inputValue=0,this.rules={min:e=>e>=this.min||""===e||"0"===e||0===e||null===this.min||this.$t("app.general.simple_form.error.min_or_0",{min:this.min}),max:e=>e<=this.max||""===e||"0"===e||0===e||null===this.max||this.$t("app.general.simple_form.error.max",{max:this.max})}}onValueChange(e){this.inputValue=e}emitChange(){this.valid&&(this.inputValue||(this.inputValue=0),this.$emit("input",this.inputValue))}mounted(){this.inputValue=this.value}};(0,p.gn)([(0,d.fI)({type:Number,required:!0})],Wr.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Number,default:null})],Wr.prototype,"max",void 0),(0,p.gn)([(0,d.fI)({type:Number,default:null})],Wr.prototype,"min",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Wr.prototype,"loading",void 0),(0,p.gn)([(0,d.RL)("value")],Wr.prototype,"onValueChange",null),Wr=(0,p.gn)([(0,d.wA)({})],Wr);const zr=Wr,qr=zr;var Vr=(0,L.Z)(qr,jr,Hr,!1,null,null,null);const Gr=Vr.exports;let Yr=class extends((0,d.Wr)(u.Z)){get colors(){return this.$colorset.colorList}get extruder(){return this.$store.state.printer.printer.extruder}get heaters(){return this.$store.getters["printer/getHeaters"]}get fans(){return this.$store.getters["printer/getOutputs"](["temperature_fan"])}get sensors(){return this.$store.getters["printer/getSensors"]}get chartableSensors(){return this.$store.getters["printer/getChartableSensors"]}get chartSelectedLegends(){return this.$store.getters["charts/getSelectedLegends"]}get chartVisible(){return this.$store.state.config.uiSettings.general.chartVisible}get showRateOfChange(){return this.$store.state.config.uiSettings.general.showRateOfChange}get showRelativeHumidity(){return this.$store.state.config.uiSettings.general.showRelativeHumidity}get showBarometricPressure(){return this.$store.state.config.uiSettings.general.showBarometricPressure}setHeaterTargetTemp(e,t){this.sendGcode(`SET_HEATER_TEMPERATURE HEATER=${e} TARGET=${t}`)}setFanTargetTemp(e,t){this.sendGcode(`SET_TEMPERATURE_FAN_TARGET TEMPERATURE_FAN=${e} TARGET=${t}`)}getRateOfChange(e){const t=this.$store.getters["charts/getChartData"];let s=0;if(t.length>=2){const a=t[t.length-1],r=t[t.length-Math.min(t.length,5)];s=(a[e.name]-r[e.name])/(a.date-r.date)*1e3,Math.abs(s)<.05&&(s=0)}return`${s<0?"":"+"}${s.toFixed(1)}`}};Yr=(0,p.gn)([(0,d.wA)({components:{TemperaturePresetsMenu:Ur,InputTemperature:Gr}})],Yr);const Kr=Yr,Xr=Kr;var Jr=(0,L.Z)(Xr,Dr,Tr,!1,null,"72b18286",null);const Qr=Jr.exports;let ei=class extends((0,d.Wr)(u.Z)){get chartReady(){return this.$store.state.socket.acceptingNotifications&&this.$store.state.socket.ready&&this.$store.state.charts.ready&&this.klippyReady}legendToggleSelect(e){this.chartVisible&&("target"in e&&this.thermalChart.legendToggleSelect(e.name+"Target"),this.thermalChart.legendToggleSelect(e.name))}legendTogglePowerSelect(e){if(this.chartVisible){const t="speed"in e?e.name+"Speed":e.name+"Power";this.thermalChart.legendToggleSelect(t)}}get chartVisible(){return this.$store.state.config.uiSettings.general.chartVisible}set chartVisible(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.chartVisible",value:e,server:!0})}get showRateOfChange(){return this.$store.state.config.uiSettings.general.showRateOfChange}set showRateOfChange(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.showRateOfChange",value:e,server:!0})}get showRelativeHumidity(){return this.$store.state.config.uiSettings.general.showRelativeHumidity}set showRelativeHumidity(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.showRelativeHumidity",value:e,server:!0})}get showBarometricPressure(){return this.$store.state.config.uiSettings.general.showBarometricPressure}set showBarometricPressure(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.showBarometricPressure",value:e,server:!0})}get inLayout(){return this.$store.state.config.layoutMode}get isMobile(){return this.$vuetify.breakpoint.mobile}handleApplyPreset(e){if(e){if(e.values)for(const t in e.values){const s=e.values[t];"heater"===s.type&&s.active&&s.value>-1&&this.sendGcode(`SET_HEATER_TEMPERATURE HEATER=${t} TARGET=${s.value}`),"fan"===s.type&&s.active&&s.value>-1&&this.sendGcode(`SET_TEMPERATURE_FAN_TARGET TEMPERATURE_FAN=${t} TARGET=${s.value}`)}e.gcode&&this.sendGcode(e.gcode)}}async handleApplyOff(){if(["printing","busy","paused"].includes(this.$store.getters["printer/getPrinterState"])){const e=await this.$confirm(this.$tc("app.general.label.heaters_busy"),{title:this.$tc("app.general.simple_form.msg.confirm"),color:"card-heading",icon:"$error"});if(!e)return}this.sendGcode("TURN_OFF_HEATERS")}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],ei.prototype,"enabled",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],ei.prototype,"menuCollapsed",void 0),(0,p.gn)([(0,d.Rl)("thermalchart")],ei.prototype,"thermalChart",void 0),ei=(0,p.gn)([(0,d.wA)({components:{ThermalChart:Er,TemperatureTargets:Qr,TemperaturePresetsMenu:Ur}})],ei);const ti=ei,si=ti;var ai=(0,L.Z)(si,$r,wr,!1,null,null,null);const ri=ai.exports;var ii=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$tc("app.general.title.camera",2),icon:"$camera",lazy:!1,draggable:!0,"layout-path":"dashboard.camera-card"},on:{collapsed:function(t){e.collapsed=t}},scopedSlots:e._u([{key:"menu",fn:function(){return[t("camera-menu",{on:{select:e.handleCameraSelect}})]},proxy:!0}])},[e.cameras.length>1?t(o.Z,{staticClass:"ma-2",attrs:{justify:"space-around"}},[e._l(e.cameras,(function(s){return[e.collapsed?e._e():t(n.Z,{key:s.id,attrs:{cols:"12",sm:e.cols}},[t("camera-item",{attrs:{camera:s}})],1)]}))],2):e._e(),e.collapsed||1!==e.cameras.length?e._e():t("camera-item",{attrs:{camera:e.cameras[0]}})],1)},ni=[],oi=s(67423),li=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(oi.Z,e._g({staticClass:"camera-container",attrs:{elevation:0,rounded:""}},e.$listeners),["mjpegstreamer"===e.camera.service||"mjpegstreamer-adaptive"===e.camera.service?t("img",{ref:"camera_image",staticClass:"camera-image",attrs:{src:e.cameraUrl},on:{load:e.handleImgLoad}}):e._e(),"ipstream"===e.camera.service?t("video",{ref:"camera_image",staticClass:"camera-image",attrs:{src:e.cameraUrl,autoplay:""}}):e._e(),"iframe"===e.camera.service?t("iframe",{ref:"camera_image",staticClass:"camera-image",staticStyle:{border:"none",width:"100%"},style:{height:e.cameraHeight&&!e.camera.aspectRatio?e.fullscreen?"100vh":`${e.cameraHeight}px`:void 0,"aspect-ratio":e.camera.aspectRatio?e.camera.aspectRatio.replace(":","/"):void 0,"max-height":e.camera.aspectRatio?"unset":void 0},attrs:{src:e.cameraUrl}}):e._e(),e.camera.name?t("div",{staticClass:"camera-name"},[e._v(" "+e._s(e.camera.name)+" ")]):e._e(),"mjpegstreamer-adaptive"===e.camera.service&&e.time?t("div",{staticClass:"camera-frames"},[e._v(" fps: "+e._s(e.currentFPS)+" ")]):e._e(),!e.cameraFullScreenUrl||e.fullscreen&&"embed"!==e.fullscreenMode?e._e():t("div",{staticClass:"camera-fullscreen"},[t("a",{attrs:{href:e.cameraFullScreenUrl,target:e.fullscreen||"rawstream"===e.fullscreenMode?"_blank":""}},[t(g.Z,[e._v("$"+e._s(e.fullscreen||"rawstream"===e.fullscreenMode?"openInNew":"fullScreen"))])],1)])])},ci=[],pi=s(51813);let di=class extends d.w3{constructor(){super(...arguments),this.request_start_time=performance.now(),this.start_time=performance.now(),this.time=0,this.request_time=0,this.time_smoothing=.6,this.request_time_smoothing=.1,this.currentFPS="0",this.cameraUrl="",this.cameraFullScreenUrl="",this.cameraHeight=720,this.refresh=(new Date).getTime(),this.cancelCameraTransform=pi.ZT}cameraTransformStyle(e){const t=this.camera;let s="";if(0===t.rotation)s+=t&&t.flipX?" scaleX(-1)":"",s+=t&&t.flipY?" scaleY(-1)":"";else{let a=1;180!==t.rotation&&(a=e.clientHeight/e.clientWidth,a>1&&(a=e.clientWidth/e.clientHeight)),s+=t&&t.flipX?` scaleX(-${a})`:` scaleX(${a})`,s+=t&&t.flipY?` scaleY(-${a})`:` scaleY(${a})`,s+=` rotate(${t.rotation}deg)`}return s.trimLeft().length?{transform:s.trimLeft()}:{}}onCameraChange(){this.setUrl(),this.fullscreen||"embed"!==this.fullscreenMode||(this.cameraFullScreenUrl=`/#/camera/${this.camera.id}`)}created(){document.addEventListener("visibilitychange",this.setUrl,!1),this.cancelCameraTransform=this.createTransformAnimation()}beforeDestroy(){this.cancelCameraTransform(),this.cameraUrl=this.cameraImage.src="",this.cameraFullScreenUrl="",document.removeEventListener("visibilitychange",this.setUrl)}handleRefresh(){document.hidden?this.cameraUrl="":(this.refresh=(new Date).getTime(),this.currentFPS=Math.round(1e3/this.time).toLocaleString(void 0,{minimumIntegerDigits:2}),this.$nextTick((()=>{const e=new URL(document.URL),t=new URL(this.cameraUrl,e.origin);t.searchParams.set("cacheBust",this.refresh.toString()),this.request_start_time=performance.now(),this.cameraUrl=t.toString()})))}handleImgLoad(){if(this.camera&&"mjpegstreamer-adaptive"===this.camera.service){const e=!document.hasFocus()&&this.camera.targetFpsIdle||this.camera.targetFps||10,t=performance.now(),s=t-this.start_time;this.time=this.time*this.time_smoothing+s*(1-this.time_smoothing),this.start_time=t;const a=1e3/e,r=performance.now()-this.request_start_time;this.request_time=this.request_time*this.request_time_smoothing+r*(1-this.request_time_smoothing);const i=Math.max(0,a-this.request_time);this.$nextTick((()=>{setTimeout(this.handleRefresh,i)}))}}setUrl(){var e,t;if(document.hidden)this.cameraUrl="";else{const s=this.camera.service,a=this.camera.urlStream||this.camera.urlSnapshot||"",r=new URL(document.URL),i=new URL(a,r.origin);this.cameraHeight=this.camera.height||720,"mjpegstreamer"===s&&(i.searchParams.append("cacheBust",this.refresh.toString()),(null===(e=i.searchParams.get("action"))||void 0===e?void 0:e.startsWith("stream"))||i.searchParams.set("action","stream"),this.cameraUrl=i.toString(),this.cameraFullScreenUrl||(this.cameraFullScreenUrl=this.cameraUrl)),"mjpegstreamer-adaptive"===s&&(this.request_start_time=performance.now(),i.searchParams.append("cacheBust",this.refresh.toString()),(null===(t=i.searchParams.get("action"))||void 0===t?void 0:t.startsWith("snapshot"))||i.searchParams.set("action","snapshot"),this.cameraUrl=i.toString(),this.cameraFullScreenUrl||(i.searchParams.set("action","stream"),this.cameraFullScreenUrl=i.toString())),"ipstream"!==s&&"iframe"!==s||(this.cameraUrl=a,this.cameraFullScreenUrl||(this.cameraFullScreenUrl=a))}}createTransformAnimation(){let e=!0;const t=()=>{requestAnimationFrame((()=>{if(!e)return;const s=this.cameraImage;s&&Object.assign(s.style,this.cameraTransformStyle(s)),t()}))};return t(),()=>{e=!1}}get fullscreenMode(){return this.$store.state.config.uiSettings.general.cameraFullscreenAction}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],di.prototype,"camera",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,required:!1,default:!1})],di.prototype,"fullscreen",void 0),(0,p.gn)([(0,d.Rl)("camera_image")],di.prototype,"cameraImage",void 0),(0,p.gn)([(0,d.RL)("camera",{immediate:!0})],di.prototype,"onCameraChange",null),di=(0,p.gn)([(0,d.wA)({})],di);const ui=di,mi=ui;var hi=(0,L.Z)(mi,li,ci,!1,null,"69adde73",null);const gi=hi.exports;var fi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Me.Z,{attrs:{bottom:"",left:"","offset-y":"",transition:"slide-y-transition","min-width":150},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a,value:r}){return[t("app-btn",e._g(e._b({attrs:{small:""}},"app-btn",a,!1),s),[t(g.Z,{staticClass:"mr-1",attrs:{small:""}},[e._v(" $camera ")]),e._v(" "+e._s(e.activeCamera)+" "),t(g.Z,{staticClass:"ml-1",class:{"rotate-180":r},attrs:{small:""}},[e._v(" $chevronDown ")])],1)]}}])},[t(Le.Z,{attrs:{dense:""}},[t(De.Z,{attrs:{link:"",dense:""},on:{click:function(t){return e.$emit("select","all")}}},[t(Te.V9,[t(g.Z,{attrs:{small:"",left:"",color:"secondary"}},[e._v(" $camera ")]),e._v(" "+e._s(e.$t("app.general.btn.all"))+" ")],1)],1),e._l(e.cameras,(function(s){return t(De.Z,{key:s.id,attrs:{link:"",dense:""},on:{click:function(t){return e.$emit("select",s.id)}}},[t(Te.V9,[t(g.Z,{attrs:{small:"",left:"",color:"secondary"}},[e._v(" $camera ")]),e._v(" "+e._s(s.name)+" ")],1)],1)}))],2)],1)},vi=[];let _i=class extends((0,d.Wr)(u.Z)){get activeCamera(){let e=this.$store.getters["cameras/getActiveCamera"];const t=this.$store.getters["cameras/getCameraById"](e);return t||(e="all"),"all"===e?this.$t("app.general.btn.all"):t.name}get cameras(){return this.$store.getters["cameras/getEnabledCameras"]}};_i=(0,p.gn)([(0,d.wA)({})],_i);const yi=_i,bi=yi;var xi=(0,L.Z)(bi,fi,vi,!1,null,null,null);const $i=xi.exports;let wi=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.dialogState={open:!1,camera:null},this.collapsed=!1}get cols(){return 1===this.cameras.length?12:this.cameras.length<=2?6:this.cameras.length>2?4:void 0}get inLayout(){return this.$store.state.config.layoutMode}get cameras(){return this.$store.getters["cameras/getVisibleCameras"]}handleCameraSelect(e){this.$store.dispatch("cameras/updateActiveCamera",e)}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],wi.prototype,"enabled",void 0),wi=(0,p.gn)([(0,d.wA)({components:{CameraItem:gi,CameraMenu:$i}})],wi);const Si=wi,ki=Si;var Ci=(0,L.Z)(ki,ii,ni,!1,null,null,null);const Zi=Ci.exports;var Pi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.macros"),icon:"$fileCode",draggable:!0,"layout-path":"dashboard.macros-card"}},[t("macros")],1)},Ai=[],Ri=s(44127),Ei=s(80255),Li=s(22348),Di=s(20400),Ti=s(31214),Mi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Ti.Z,{attrs:{accordion:"",multiple:""},model:{value:e.expanded,callback:function(t){e.expanded=t},expression:"expanded"}},[e._l(e.macros,(function(s){return t(Ei.Z,{key:`category-${s.name}`},[t(Di.Z,{scopedSlots:e._u([{key:"actions",fn:function(){return[t(g.Z,{staticClass:"mr-2",attrs:{small:""}},[e._v(" $expand ")])]},proxy:!0}],null,!0)},[t("div",[e._v(" "+e._s(s.name)+" "),t(Ri.Z,{attrs:{small:""}},[e._v(" "+e._s(s.macros.length)+" ")]),t("app-btn",{staticClass:"ml-2",attrs:{icon:"",text:"",small:"",color:""},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleEditCategory(s.id)}}},[t(g.Z,{attrs:{small:""}},[e._v(" $cog ")])],1)],1)]),t(Li.Z,e._l(s.macros,(function(s){return t(k.Z,{key:`category-${s.name}`,attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[t("app-macro-btn",e._g(e._b({staticClass:"me-2 mb-2 float-left",attrs:{macro:s,loading:e.hasWait(`${e.waits.onMacro}${s.name}`),elevation:2,"enable-params":""},on:{click:function(t){return e.sendGcode(t,`${e.waits.onMacro}${s.name}`)}}},"app-macro-btn",r,!1),a),[e._v(" "+e._s(s.alias||s.name)+" ")])]}}],null,!0)},[t("span",[e._v(e._s(s.config.description))])])})),1)],1)})),e.uncategorizedMacros&&e.uncategorizedMacros.length>0?t(Ei.Z,[t(Di.Z,{scopedSlots:e._u([{key:"actions",fn:function(){return[t(g.Z,{staticClass:"mr-2",attrs:{small:""}},[e._v(" $expand ")])]},proxy:!0}],null,!1,659517286)},[t("div",[e._v(" "+e._s(e.$t("app.general.label.uncategorized"))+" "),t(Ri.Z,{staticClass:"ml-2",attrs:{small:""}},[e._v(" "+e._s(e.uncategorizedMacros.length)+" ")]),t("app-btn",{staticClass:"ml-2",attrs:{icon:"",text:"",small:"",color:""},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.handleEditCategory("0")}}},[t(g.Z,{attrs:{small:""}},[e._v(" $cog ")])],1)],1)]),t(Li.Z,e._l(e.uncategorizedMacros,(function(s){return t(k.Z,{key:`category-${s.name}`,attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[t("app-macro-btn",e._g(e._b({staticClass:"me-2 mb-2 float-left",attrs:{macro:s,loading:e.hasWait(`${e.waits.onMacro}${s.name}`),elevation:2,"enable-params":""},on:{click:function(t){return e.sendGcode(t,`${e.waits.onMacro}${s.name}`)}}},"app-macro-btn",r,!1),a),[e._v(" "+e._s(s.alias||s.name)+" ")])]}}],null,!0)},[t("span",[e._v(e._s(s.config.description))])])})),1)],1):e._e()],2)],1)},Oi=[];let Ii=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.waits=we.hw}get macros(){return this.$store.getters["macros/getVisibleMacros"]}get uncategorizedMacros(){const e=this.$store.getters["macros/getMacrosByCategory"]();return e.filter((e=>e.visible))}get expanded(){let e=this.$store.state.macros.expanded;return e=e.filter((e=>e<=this.macros.length)),e}set expanded(e){this.$store.dispatch("macros/saveExpanded",e)}handleEditCategory(){this.$router.push("/settings/#macros")}};Ii=(0,p.gn)([(0,d.wA)({})],Ii);const Fi=Ii,Bi=Fi;var Ni=(0,L.Z)(Bi,Mi,Oi,!1,null,null,null);const Ui=Ni.exports;let ji=class extends((0,d.Wr)(u.Z)){get inLayout(){return this.$store.state.config.layoutMode}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],ji.prototype,"enabled",void 0),ji=(0,p.gn)([(0,d.wA)({components:{Macros:Ui}})],ji);const Hi=ji,Wi=Hi;var zi=(0,L.Z)(Wi,Pi,Ai,!1,null,null,null);const qi=zi.exports;var Vi=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.console"),icon:"$console","card-classes":"d-flex flex-column","content-classes":"flex-grow-1 flow-shrink-0","menu-breakpoint":"none","menu-icon":"$cog",draggable:!e.fullScreen,collapsable:!e.fullScreen,"layout-path":"dashboard.console-card"},on:{collapsed:e.handleCollapseChange},scopedSlots:e._u([{key:"title",fn:function(){return[t(g.Z,{attrs:{left:""}},[e._v(" $console ")]),t("span",{staticClass:"font-weight-light"},[e._v(e._s(e.$t("app.general.title.console")))]),t("app-inline-help",{attrs:{bottom:"",small:"",tooltip:e.$t("app.console.placeholder.command")}})]},proxy:!0},{key:"menu",fn:function(){return[e.scrollingPaused?t("app-btn",{staticClass:"ml-1",attrs:{color:"",fab:"","x-small":"",text:""},on:{click:function(t){return e.console.scrollToLatest(!0)}}},[t(g.Z,[e._v(e._s(e.flipLayout?"$up":"$down"))])],1):e._e(),e.fullScreen?e._e():t("app-btn",{staticClass:"ml-1",attrs:{color:"",fab:"","x-small":"",text:""},on:{click:function(t){return e.$filters.routeTo(e.$router,"/console")}}},[t(g.Z,[e._v("$fullScreen")])],1),t("app-btn",{staticClass:"ml-1",attrs:{color:"",fab:"","x-small":"",text:""},on:{click:e.handleClear}},[t(g.Z,[e._v("$delete")])],1),t("app-btn-collapse-group",{attrs:{collapsed:!0,"menu-icon":"$cog"}},[t(We.Z,{staticClass:"mx-2 mt-2",attrs:{label:e.$t("app.console.label.hide_temp_waits"),color:"primary","hide-details":""},model:{value:e.hideTempWaits,callback:function(t){e.hideTempWaits=t},expression:"hideTempWaits"}}),t(We.Z,{staticClass:"mx-2 mb-2",attrs:{label:e.$t("app.console.label.auto_scroll"),color:"primary","hide-details":""},model:{value:e.autoScroll,callback:function(t){e.autoScroll=t},expression:"autoScroll"}}),t(We.Z,{staticClass:"mx-2 mb-2",attrs:{label:e.$t("app.console.label.flip_layout"),color:"primary","hide-details":""},model:{value:e.flipLayout,callback:function(t){e.flipLayout=t},expression:"flipLayout"}}),e._l(e.filters,(function(s,a){return[0===a?t(ps.Z,{key:a}):e._e(),t(We.Z,{key:s.id,staticClass:"mx-2 mt-2",attrs:{label:s.name,color:"primary","hide-details":""},model:{value:s.enabled,callback:function(t){e.$set(s,"enabled",t)},expression:"filter.enabled"}})]}))],2)]},proxy:!0}])},[t("console",{ref:"console",attrs:{"scrolling-paused":e.scrollingPaused,items:e.items,height:e.fullScreen?e.height-236:300},on:{"update:scrollingPaused":function(t){e.scrollingPaused=t},"update:scrolling-paused":function(t){e.scrollingPaused=t}}})],1)},Gi=[],Yi=s(46579);let Ki=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.height=0,this.scrollingPaused=!1}created(){window.addEventListener("resize",this.changeHeight),this.changeHeight()}destroyed(){window.removeEventListener("resize",this.changeHeight)}changeHeight(){this.height=window.innerHeight}get filters(){return this.$store.getters["console/getFilters"]}get hideTempWaits(){return this.$store.state.config.uiSettings.general.hideTempWaits}set hideTempWaits(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.hideTempWaits",value:e,server:!0})}get flipLayout(){return this.$store.state.config.uiSettings.general.flipConsoleLayout}set flipLayout(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.flipConsoleLayout",value:e,server:!0}),this.console.flipLayout=e}get items(){return this.$store.getters["console/getConsoleEntries"]}get inLayout(){return this.$store.state.config.layoutMode}get autoScroll(){return this.$store.state.console.autoScroll}set autoScroll(e){this.$store.dispatch("console/onUpdateAutoScroll",e),e&&this.console.scrollToLatest(!0)}inLayoutChange(e){e||this.console.scrollToLatest()}handleCollapseChange(e){e||this.console.scrollToLatest()}handleClear(){this.$store.dispatch("console/onClear")}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],Ki.prototype,"enabled",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Ki.prototype,"fullScreen",void 0),(0,p.gn)([(0,d.Rl)("console")],Ki.prototype,"console",void 0),(0,p.gn)([(0,d.RL)("inLayout")],Ki.prototype,"inLayoutChange",null),Ki=(0,p.gn)([(0,d.wA)({components:{Console:Yi.Z}})],Ki);const Xi=Ki,Ji=Xi;var Qi=(0,L.Z)(Ji,Vi,Gi,!1,null,null,null);const en=Qi.exports;var tn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.fans_outputs"),icon:"$motion",draggable:!0,"layout-path":"dashboard.outputs-card","menu-breakpoint":"lg"}},[t("outputs")],1)},sn=[],an=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(N.ZB,[t(o.Z,[t(n.Z,{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[e._l(e.all.col1,(function(s,a){return[t("OutputItem",{key:s.key,attrs:{item:s}}),a<e.all.col1.length-1||e.$vuetify.breakpoint.mdAndDown?t(ps.Z,{key:`divider-0${a}`,staticClass:"my-2"}):e._e()]}))],2),t(n.Z,{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[e._l(e.all.col2,(function(s,a){return[t("OutputItem",{key:s.key,attrs:{item:s}}),a<e.all.col2.length-1?t(ps.Z,{key:`divider-1${a}`,staticClass:"my-2"}):e._e()]}))],2)],1)],1)},rn=[],nn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",["output_pin"===e.item.type?t("output-pin",{key:e.item.key,attrs:{pin:e.item}}):e._e(),e.fanTypes.includes(e.item.type)?t("output-fan",{key:e.item.key,attrs:{fan:e.item}}):e._e(),e.ledTypes.includes(e.item.type)?t("output-led",{key:e.item.key,attrs:{led:e.item}}):e._e()],1)},on=[],ln=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.fan.controllable?t("app-slider",{attrs:{suffix:"%","input-xs":"",value:e.value,"reset-value":0,label:e.rpm?`${e.fan.prettyName} <small>${e.rpm}</small>`:e.fan.prettyName,rules:e.rules,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile},on:{change:e.handleChange}}):t(z.Z,{class:{"text--disabled":!e.klippyReady},attrs:{"align-center":"","justify-space-between":""}},[t("div",{staticClass:"text-body-1"},[e._v(" "+e._s(e.fan.prettyName)+" ")]),t("div",{staticClass:"ml-auto"},[e.rpm?t("small",{staticClass:"mr-2"},[e._v(e._s(e.rpm))]):e._e(),t("span",{staticClass:"focus--text",domProps:{innerHTML:e._s(e.prettyValue)}})])])],1)},cn=[];let pn=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.rules=[e=>{var t;const s=(null===(t=this.fan.config)||void 0===t?void 0:t.off_below)?100*this.fan.config.off_below:0;return!s||(e=+e,e>=s||0===e||this.$t("app.general.simple_form.error.min_or_0",{min:s}))}]}get prettyValue(){return 0===this.value?this.$t("app.general.label.off"):this.$t("app.general.label.on")}get value(){if(!this.fan.speed)return 0;const e=this.fan.speed/(this.fan.config.max_power||1);return Math.round(100*e)}handleChange(e){"fan"===this.fan.type&&(e=Math.ceil(2.55*e),this.sendGcode(`M106 S${e}`,we.hw.onSetFanSpeed)),"fan_generic"===this.fan.type&&(e/=100,this.sendGcode(`SET_FAN_SPEED FAN=${this.fan.name} SPEED=${e}`,we.hw.onSetFanSpeed))}get rpm(){return this.fan.rpm?this.fan.rpm.toFixed()+" rpm":void 0}get isMobile(){return this.$vuetify.breakpoint.mobile}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],pn.prototype,"fan",void 0),pn=(0,p.gn)([(0,d.wA)({})],pn);const dn=pn,un=dn;var mn=(0,L.Z)(un,ln,cn,!1,null,null,null);const hn=mn.exports;var gn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.pin&&e.pin.pwm?t("app-slider",{attrs:{"input-xs":"",label:e.pin.prettyName,min:0,max:e.pin.scale,step:.01,value:e.pin.value*e.pin.scale/1,"reset-value":e.pin.config.value||0,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile},on:{change:function(t){return e.setValue(e.pin,t)}}}):e._e(),e.pin&&!e.pin.pwm?t("app-switch",{attrs:{disabled:!e.klippyReady,label:e.pin.prettyName,value:e.pin.value>0},on:{input:function(t){return e.setValue(e.pin,t)}}}):e._e()],1)},fn=[];let vn=class extends((0,d.Wr)(u.Z)){setValue(e,t){e.pwm||(t=t?e.scale:0),this.sendGcode(`SET_PIN PIN=${e.name} VALUE=${t}`,we.hw.onSetOutputPin)}get isMobile(){return this.$vuetify.breakpoint.mobile}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],vn.prototype,"pin",void 0),vn=(0,p.gn)([(0,d.wA)({})],vn);const _n=vn,yn=_n;var bn=(0,L.Z)(yn,gn,fn,!1,null,null,null);const xn=bn.exports;var $n=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{"no-gutters":"","justify-space-between":""}},[t(n.Z,{staticClass:"text-body-1 py-0",attrs:{"align-self":"center",cols:"5"}},[e._v(" "+e._s(e.led.prettyName)+" ")]),t(n.Z,{staticClass:"ml-auto py-0 text-right"},[t("app-color-picker",{attrs:{primary:e.primaryColor,white:e.whiteColor,title:e.led.prettyName,"supported-channels":e.supportedChannels,dot:""},on:{change:e.handleColorChange}})],1)],1)},wn=[],Sn=s(15494);let kn=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.channelLookup={r:"RED",g:"GREEN",b:"BLUE",w:"WHITE"}}get supportedChannels(){const{type:e,config:t}=this.led;if("color_order"in t)return t.color_order[0];switch(e){case"dotstar":return"RGB";case"led":{const e=[];return"red_pin"in t&&e.push("R"),"green_pin"in t&&e.push("G"),"blue_pin"in t&&e.push("B"),"white_pin"in t&&e.push("W"),e.join("")}}return"RBGW"}get currentColor(){return this.convertFromNumberArray(this.led.color_data[0])}get primaryColor(){const e=new Sn.pD(this.currentColor);return e.hexString}get whiteColor(){if(!this.supportedChannels.includes("W"))return;const e=this.currentColor,t=new Sn.pD({r:e.w,g:e.w,b:e.w});return t.hexString}get isMobile(){return this.$vuetify.breakpoint.mobile}handleColorChange(e){const t=e.color.rgb,s={...this.currentColor,..."primary"===e.channel?t:{w:t.r}},a=this.supportedChannels.toLowerCase().split(""),r=a.map((e=>`${this.channelLookup[e]}=${Math.round(1e3*s[e]/255)/1e3}`)).join(" ");this.sendGcode(`SET_LED LED=${this.led.name} ${r}`)}convertFromNumberArray(e){const[t,s,a,r]=e.map((e=>255*e));return{r:t,g:s,b:a,w:r}}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],kn.prototype,"led",void 0),kn=(0,p.gn)([(0,d.wA)({})],kn);const Cn=kn,Zn=Cn;var Pn=(0,L.Z)(Zn,$n,wn,!1,null,null,null);const An=Pn.exports;let Rn=class extends d.w3{get fanTypes(){return["temperature_fan","controller_fan","heater_fan","fan_generic","fan"]}get ledTypes(){return["led","neopixel","dotstar"]}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],Rn.prototype,"item",void 0),Rn=(0,p.gn)([(0,d.wA)({components:{OutputFan:hn,OutputPin:xn,OutputLed:An}})],Rn);const En=Rn,Ln=En;var Dn=(0,L.Z)(Ln,nn,on,!1,null,null,null);const Tn=Dn.exports;let Mn=class extends((0,d.Wr)(u.Z)){get all(){const e=[...this.$store.getters["printer/getAllFans"],...this.$store.getters["printer/getPins"],...this.$store.getters["printer/getAllLeds"]];let t=[],s=[];if(e.length>1){const a=Math.ceil(e.length/2);t=e.splice(0,a),s=e}else t=e;return{col1:t,col2:s}}};Mn=(0,p.gn)([(0,d.wA)({components:{OutputItem:Tn}})],Mn);const On=Mn,In=On;var Fn=(0,L.Z)(In,an,rn,!1,null,null,null);const Bn=Fn.exports;let Nn=class extends((0,d.Wr)(u.Z)){get inLayout(){return this.$store.state.config.layoutMode}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],Nn.prototype,"enabled",void 0),Nn=(0,p.gn)([(0,d.wA)({components:{Outputs:Bn}})],Nn);const Un=Nn,jn=Un;var Hn=(0,L.Z)(jn,tn,sn,!1,null,null,null);const Wn=Hn.exports;var zn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.limits"),icon:"$limits",draggable:!0,"layout-path":"dashboard.printer-limits-card"}},[t("printer-limits")],1)},qn=[],Vn=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(N.ZB,{staticClass:"mb-0"},[t(o.Z,[t(n.Z,{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.velocity"),value:e.velocity.current,"reset-value":e.velocity.max,min:1,max:e.velocity.max,disabled:!e.klippyReady,overridable:!0,locked:!e.klippyReady||e.isMobile,suffix:"mm/s"},on:{change:function(t){return e.setVelocity(t)}}})],1),t(n.Z,{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.sqv"),value:e.scv.current,"reset-value":e.scv.max,min:0,max:e.scv.max,step:.1,disabled:!e.klippyReady,overridable:!0,locked:!e.klippyReady||e.isMobile,suffix:"mm/s"},on:{change:function(t){return e.setSCV(t)}}})],1)],1),t(o.Z,[t(n.Z,{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.acceleration"),value:e.accel.current,"reset-value":e.accel.max,min:1,max:e.accel.max,disabled:!e.klippyReady,overridable:!0,locked:!e.klippyReady||e.isMobile,suffix:"mm/s²"},on:{change:function(t){return e.setAcceleration(t)}}})],1),t(n.Z,{attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.accel_to_decel"),value:e.decel.current,"reset-value":e.decel.max,min:1,max:e.decel.max,disabled:!e.klippyReady,overridable:!0,locked:!e.klippyReady||e.isMobile,suffix:"mm/s²"},on:{change:function(t){return e.setDeceleration(t)}}})],1)],1)],1)],1)},Gn=[];let Yn=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.waits=we.hw}get velocity(){const e=this.$store.getters["printer/getPrinterSettings"]("printer.max_velocity");return{current:this.$store.state.printer.printer.toolhead.max_velocity,max:e}}get accel(){const e=this.$store.getters["printer/getPrinterSettings"]("printer.max_accel");return{current:this.$store.state.printer.printer.toolhead.max_accel,max:e}}get decel(){const e=this.$store.getters["printer/getPrinterSettings"]("printer.max_accel_to_decel")||this.accel.max/2;return{current:this.$store.state.printer.printer.toolhead.max_accel_to_decel,max:e}}get scv(){const e=this.$store.getters["printer/getPrinterSettings"]("printer.square_corner_velocity")||5;return{current:this.$store.state.printer.printer.toolhead.square_corner_velocity,max:e}}get isMobile(){return this.$vuetify.breakpoint.mobile}setVelocity(e){this.sendGcode(`SET_VELOCITY_LIMIT VELOCITY=${e}`,we.hw.onSetVelocity)}setAcceleration(e){this.sendGcode(`SET_VELOCITY_LIMIT ACCEL=${e}`,we.hw.onSetAcceleration)}setDeceleration(e){this.sendGcode(`SET_VELOCITY_LIMIT ACCEL_TO_DECEL=${e}`,we.hw.onSetDeceleration)}setSCV(e){this.sendGcode(`SET_VELOCITY_LIMIT SQUARE_CORNER_VELOCITY=${e}`,we.hw.onSetSCV)}};Yn=(0,p.gn)([(0,d.wA)({})],Yn);const Kn=Yn,Xn=Kn;var Jn=(0,L.Z)(Xn,Vn,Gn,!1,null,null,null);const Qn=Jn.exports;let eo=class extends((0,d.Wr)(u.Z)){get inLayout(){return this.$store.state.config.layoutMode}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],eo.prototype,"enabled",void 0),eo=(0,p.gn)([(0,d.wA)({components:{PrinterLimits:Qn}})],eo);const to=eo,so=to;var ao=(0,L.Z)(so,zn,qn,!1,null,null,null);const ro=ao.exports;var io=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.retract"),icon:"$retract",draggable:!0,"layout-path":"dashboard.retract-card"}},[t("retract")],1)},no=[],oo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(N.ZB,[t(o.Z,{staticClass:"my-0 mb-4"},[t(n.Z,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.retract_length"),suffix:"mm",value:e.retract_length,"reset-value":e.defaults.retract_length,min:0,max:e.retract_length_max,step:.01,overridable:!0,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile,loading:e.hasWait(e.$waits.onSetRetractLength)},on:{change:e.setRetractLength}})],1),t(n.Z,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.unretract_extra_length"),suffix:"mm",value:e.unretract_extra_length,"reset-value":e.defaults.unretract_extra_length,min:0,max:e.unretract_extra_length_max,step:.01,overridable:!0,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile,loading:e.hasWait(e.$waits.onSetRetractLength)},on:{change:e.setUnRetractExtraLength}})],1)],1),t(o.Z,{staticClass:"my-0 mb-4"},[t(n.Z,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.retract_speed"),suffix:"mm/s",value:e.retract_speed,"reset-value":e.defaults.retract_speed,min:0,step:1,max:e.retract_speed_max,overridable:!0,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile,loading:e.hasWait(e.$waits.onSetRetractSpeed)},on:{change:e.setRetractSpeed}})],1),t(n.Z,{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"6"}},[t("app-slider",{attrs:{label:e.$t("app.general.label.unretract_speed"),suffix:"mm/s",value:e.unretract_speed,"reset-value":e.defaults.unretract_speed,min:0,step:1,max:e.unretract_speed_max,overridable:!0,disabled:!e.klippyReady,locked:!e.klippyReady||e.isMobile,loading:e.hasWait(e.$waits.onSetUnretractSpeed)},on:{change:e.setUnretractSpeed}})],1)],1)],1)},lo=[];let co=class extends((0,d.Wr)(u.Z)){get retract_length(){return this.$store.state.printer.printer.firmware_retraction.retract_length}get retract_length_max(){return this.defaults.retract_length<=0?15:Math.round(2*this.defaults.retract_length*100)/100}get retract_speed(){return this.$store.state.printer.printer.firmware_retraction.retract_speed}get retract_speed_max(){return this.defaults.retract_speed<=0?100:Math.round(2*this.defaults.retract_speed)}get unretract_speed(){return this.$store.state.printer.printer.firmware_retraction.unretract_speed}get unretract_speed_max(){return this.defaults.unretract_speed<=0?100:Math.round(2*this.defaults.unretract_speed)}get unretract_extra_length(){return this.$store.state.printer.printer.firmware_retraction.unretract_extra_length}get unretract_extra_length_max(){return this.defaults.unretract_extra_length<=0?15:Math.round(2*this.defaults.unretract_extra_length*100)/100}get defaults(){return this.$store.getters["printer/getPrinterSettings"]("firmware_retraction")||{}}get isMobile(){return this.$vuetify.breakpoint.mobile}setRetractLength(e){this.sendGcode(`SET_RETRACTION RETRACT_LENGTH=${e}`,we.hw.onSetRetractLength)}setRetractSpeed(e){this.sendGcode(`SET_RETRACTION RETRACT_SPEED=${e}`,we.hw.onSetRetractSpeed)}setUnretractSpeed(e){this.sendGcode(`SET_RETRACTION UNRETRACT_SPEED=${e}`,we.hw.onSetUnretractSpeed)}setUnRetractExtraLength(e){this.sendGcode(`SET_RETRACTION UNRETRACT_EXTRA_LENGTH=${e}`,we.hw.onSetUnretractExtraLength)}};co=(0,p.gn)([(0,d.wA)({})],co);const po=co,uo=po;var mo=(0,L.Z)(uo,oo,lo,!1,null,null,null);const ho=mo.exports;let go=class extends((0,d.Wr)(u.Z)){get inLayout(){return this.$store.state.config.layoutMode}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],go.prototype,"enabled",void 0),go=(0,p.gn)([(0,d.wA)({components:{Retract:ho}})],go);const fo=go,vo=fo;var _o=(0,L.Z)(vo,io,no,!1,null,null,null);const yo=_o.exports;var bo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.bedmesh"),lazy:!1,icon:"$bedMesh",draggable:!e.fullScreen,collapsable:!e.fullScreen,"layout-path":"dashboard.bed-mesh-card"},scopedSlots:e._u([e.fullScreen?null:{key:"menu",fn:function(){return[t("app-btn",{attrs:{color:"",fab:"","x-small":"",text:""},on:{click:function(t){return e.$filters.routeTo(e.$router,"/tune")}}},[t(g.Z,[e._v("$fullScreen")])],1)]},proxy:!0}],null,!0)},[t(N.ZB,[e.mesh&&e.mesh[e.matrix]&&e.mesh[e.matrix].coordinates&&e.mesh[e.matrix].coordinates.length>0?t("e-charts-bed-mesh",{ref:"chart",attrs:{options:e.options,data:e.series,graphics:e.graphics,height:e.isMobile?"225px":"525px"}}):t("span",[e._v(e._s(e.$t("app.bedmesh.msg.not_loaded")))])],1)],1)},xo=[],$o=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"chart",style:{height:e.height}},[t("v-chart",{ref:"chart",attrs:{option:e.opts,"update-options":{notMerge:!1},"init-options":{renderer:"canvas"},autoresize:""}})],1)},wo=[],So=s(24612),ko=s(72744);let Co=class extends d.w3{get flatSurface(){return this.$store.state.mesh.flatSurface}onFlatSurfaceChange(e){const t=e?"legendSelect":"legendUnSelect";this.chart.dispatchAction({type:t,name:"mesh_matrix_flat"}),this.chart.dispatchAction({type:t,name:"probed_matrix_flat"})}beforeDestroy(){"undefined"!==typeof window&&this.chart.dispose()}get opts(){const e=this.$store.state.config.uiSettings.theme.isDark,t=this.isMobile?14:16;let s="rgba(10,10,10,0.90)";const a=.1;let r="rgba(255,255,255,0.25)",i="#ffffff";const n={itemWidth:this.isMobile?15:25,itemHeight:this.isMobile?140:280};e||(s="rgba(255,255,255,0.90)",r="rgba(0,0,0,0.45)",i="#000000");const o={nameTextStyle:{color:r},axisPointer:{lineStyle:{color:i,opacity:.65},label:{margin:16,color:r,fontSize:t}},axisTick:{lineStyle:{color:i,opacity:a}},axisLine:{lineStyle:{color:i,opacity:a,width:2}},axisLabel:{textStyle:{color:r,fontSize:t}},splitLine:{lineStyle:{color:i,opacity:a}}},l=(0,So.Z)(this.graphics,(e=>{switch(e.type){case"text":return{...e,style:{...e.style,fill:r,fontSize:t}};default:return}})),c={legend:{show:!1},darkMode:e,tooltip:{backgroundColor:s,borderColor:s,textStyle:{color:r,fontSize:18},formatter:this.tooltipFormatter},visualMap:{type:"continuous",textStyle:{color:r,fontSize:t},realtime:!0,calculable:!0,show:!0,top:0,right:"auto",bottom:"auto",left:0,dimension:2,precision:4,inRange:{color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]},...n},xAxis3D:{type:"value",...o},yAxis3D:{type:"value",...o},zAxis3D:{type:"value",min:-.5,max:.5,...o},grid3D:{viewControl:{rotateSensitivity:1.8,zoomSensitivity:2,rotateMouseButton:"left",panMouseButton:"right"}},graphic:l,series:[...this.data]};return(0,ko.Z)(c,this.options),c}get isMobile(){return this.$vuetify.breakpoint.mobile}tooltipFormatter(e){let t="";return e.value&&Array.isArray(e.value)&&(t+=`\n        <div>\n          <span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:${e.color};"></span>\n          <span style="font-size:16px;color:#666;font-weight:400;margin-left:2px">\n            ${e.seriesName}\n          </span>\n          <div style="clear: both"></div>\n          <span style="font-size:16px;color:#666;font-weight:400;margin-left:2px">\n            x: ${e.value[0].toFixed(4)}\n          </span>\n          <div style="clear: both"></div>\n          <span style="font-size:16px;color:#666;font-weight:400;margin-left:2px">\n            y: ${e.value[1].toFixed(4)}\n          </span>\n          <div style="clear: both"></div>\n          <span style="font-size:16px;color:#666;font-weight:400;margin-left:2px">\n            z: ${e.value[2].toFixed(4)}\n          </span>\n          <div style="clear: both"></div>\n        </div>\n        `),t}};(0,p.gn)([(0,d.fI)({type:Array,required:!0,default:{}})],Co.prototype,"data",void 0),(0,p.gn)([(0,d.fI)({type:Array,required:!1,default:()=>[]})],Co.prototype,"graphics",void 0),(0,p.gn)([(0,d.fI)({type:Object,default:{}})],Co.prototype,"options",void 0),(0,p.gn)([(0,d.fI)({type:String,default:"100%"})],Co.prototype,"height",void 0),(0,p.gn)([(0,d.Rl)("chart")],Co.prototype,"chart",void 0),(0,p.gn)([(0,d.RL)("flatSurface")],Co.prototype,"onFlatSurfaceChange",null),Co=(0,p.gn)([(0,d.wA)({})],Co);const Zo=Co,Po=Zo;var Ao=(0,L.Z)(Po,$o,wo,!1,null,"8b3174f2",null);const Ro=Ao.exports;let Eo=class extends((0,d.Wr)(u.Z,pa.Z)){get options(){const e=this.scale/2,t=this.boxScale/2;let s=-Math.abs(e-this.mesh[this.matrix].min),a=e+this.mesh[this.matrix].max;0===this.scale&&(s=this.mesh[this.matrix].min,a=this.mesh[this.matrix].max);const r=-Math.abs(this.mesh[this.matrix].mid-t),i=this.mesh[this.matrix].mid+t,n=this.series.reduce(((e,t)=>Object.assign(e,{[t.name]:!t.name.endsWith("_flat")||this.flatSurface&&t.name.startsWith(this.matrix)})),Object.assign({})),o={legend:{show:!1,selected:n},visualMap:{min:s,max:a,dimension:2,seriesIndex:0},zAxis3D:{min:r,max:i}};return o}get series(){const e=this.matrix,t=this.wireframe,s=[{type:"surface",name:e,shading:"color",wireframe:{show:t},data:this.mesh[e].coordinates},this.createFlatSeries("probed_matrix_flat"),this.createFlatSeries("mesh_matrix_flat")];return s}get graphics(){const e=this.mesh[this.matrix].variance;return[{type:"text",right:10,top:0,z:100,silent:!0,style:{text:`Variance: ${e.toFixed(4)}`}}]}createFlatSeries(e){const t=this.wireframe;return{type:"surface",name:e,itemStyle:{color:[.5,.5,.5,.25]},wireframe:{show:t,lineStyle:{opacity:.25,width:1,color:"#ffffff"}},data:this.mesh[e].coordinates}}get matrix(){return this.$store.state.mesh.matrix}get scale(){return this.$store.state.mesh.scale}get boxScale(){return this.$store.state.mesh.boxScale}get wireframe(){return this.$store.state.mesh.wireframe}get flatSurface(){return this.$store.state.mesh.flatSurface}get mesh(){return this.$store.getters["mesh/getCurrentMeshData"]}get isMobile(){return this.$vuetify.breakpoint.mobile}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Eo.prototype,"fullScreen",void 0),Eo=(0,p.gn)([(0,d.wA)({components:{EChartsBedMesh:Ro}})],Eo);const Lo=Eo,Do=Lo;var To=(0,L.Z)(Do,bo,xo,!1,null,null,null);const Mo=To.exports;var Oo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$tc("app.general.title.gcode_preview"),icon:"$cubeScan","layout-path":"dashboard.gcode-preview-card",draggable:!0},scopedSlots:e._u([{key:"menu",fn:function(){return[t("app-btn-collapse-group",{attrs:{collapsed:e.menuCollapsed}},[t("app-btn",{staticClass:"ml-1",attrs:{disabled:!e.printerFile||e.printerFileLoaded,small:""},on:{click:e.loadCurrent}},[e._v(" "+e._s(e.$t("app.gcode.btn.load_current_file"))+" ")])],1),t("app-btn",{staticClass:"ml-1",attrs:{color:"",fab:"","x-small":"",text:"",disabled:!e.fileLoaded},on:{click:function(t){e.autoZoom=!e.autoZoom}}},[t(g.Z,[e._v(e._s(e.autoZoom?"$magnifyMinus":"$magnifyPlus"))])],1),t("app-btn",{attrs:{color:"",fab:"","x-small":"",text:"",disabled:!e.klippyReady||!(e.printerPrinting||e.printerPaused)||!e.parts.length},on:{click:function(t){e.excludeObjectDialog=!0}}},[t(g.Z,[e._v("$cancelled")])],1),t("app-btn-collapse-group",{attrs:{collapsed:!0,"menu-icon":"$cog"}},[t("GcodePreviewControls",{attrs:{disabled:!e.fileLoaded}})],1)]},proxy:!0}])},[e.file?t(N.ZB,[e._v(" "+e._s(e.file.name)+" ")]):e._e(),e.file?t(ps.Z):e._e(),t(N.ZB,[e.showParserProgressDialog?t("GcodePreviewParserProgressDialog",{attrs:{value:e.showParserProgressDialog,progress:e.parserProgress,file:e.file},on:{cancel:e.abortParser}}):e._e(),e.excludeObjectDialog?t("ExcludeObjectsDialog",{attrs:{value:e.excludeObjectDialog},on:{close:function(t){e.excludeObjectDialog=!1},cancelObject:function(t){return e.cancelObject(t)}}}):e._e(),t(o.Z,[t(n.Z,{attrs:{cols:"12",md:"8"}},[t(o.Z,[t(n.Z,[t("app-slider",{attrs:{label:e.$t("app.gcode.label.layer"),value:e.currentLayer+1,min:e.fileLoaded?1:0,max:e.layerCount,disabled:!e.fileLoaded,locked:e.isMobile,"input-md":""},on:{input:function(t){return e.setCurrentLayer(t-1)}}})],1)],1),t(o.Z,[t(n.Z,[t("app-slider",{attrs:{label:e.$t("app.general.label.progress"),value:e.moveProgress-e.currentLayerMoveRange.min,min:0,max:e.currentLayerMoveRange.max-e.currentLayerMoveRange.min,disabled:!e.fileLoaded,"value-suffix":"moves",locked:e.isMobile,"input-md":""},on:{input:function(t){return e.setMoveProgress(t+e.currentLayerMoveRange.min)}}})],1)],1)],1),t(n.Z,{attrs:{cols:"12",md:"4"}},[t(o.Z,[t(n.Z,[t(be.Z,{staticClass:"px-2 py-1 text-center stat-square justify-center",attrs:{outlined:""}},[t("div",{},[e._v(" "+e._s(e.$t("app.gcode.label.layers"))+" ")]),t("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.layerCount)+" ")]),t("div",{},[e._v(" "+e._s(e.$t("app.gcode.label.current_layer_height"))+" ")]),t("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.currentLayerHeight)+" ")])])],1)],1),t(o.Z,[t(n.Z,[t("app-btn",{attrs:{disabled:!e.fileLoaded,block:""},on:{click:e.resetFile}},[e._v(" "+e._s(e.$t("app.general.btn.reset_file"))+" ")])],1)],1)],1)],1),t(o.Z,[t(n.Z,[t("gcode-preview",{ref:"preview",attrs:{width:"100%",height:"100%",layer:e.currentLayer,progress:e.moveProgress,disabled:!e.fileLoaded},on:{cancelObject:function(t){return e.cancelObject(t)}}})],1)],1)],1)],1)},Io=[],Fo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{class:{container:!0,dark:e.themeIsDark},on:{focus:function(t){e.focused=!0},blur:function(t){e.focused=!1}}},[t("svg",{ref:"svg",attrs:{viewBox:e.svgViewBox,height:e.height,width:e.width,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[t("defs",[t("pattern",{attrs:{id:"backgroundPattern",patternUnits:"userSpaceOnUse",width:"10",height:"10"}},[t("rect",{attrs:{width:"10",height:"10","stroke-width":".1",stroke:e.themeIsDark?"black":"white",fill:e.themeIsDark?"#555":"lightgrey"}})]),t("svg",{attrs:{id:"retraction",width:e.retractionIconSize,height:e.retractionIconSize,viewBox:"0 0 10 10"}},[e.flipY?t("path",{attrs:{d:"M 0,0 L 5,10 L 10,0 Z",fill:"red","fill-opacity":"0.9","shape-rendering":e.shapeRendering}}):t("path",{attrs:{d:"M 10,10 L 5,0 L 0,10 Z",fill:"red","fill-opacity":"0.9","shape-rendering":e.shapeRendering}})]),t("svg",{attrs:{id:"extrusionStart",width:e.retractionIconSize,height:e.retractionIconSize,viewBox:"0 0 10 10"}},[e.flipY?t("path",{attrs:{d:"M 10,10 L 5,0 L 0,10 Z",fill:"green","fill-opacity":"0.9","shape-rendering":e.shapeRendering}}):t("path",{attrs:{d:"M 0,0 L 5,10 L 10,0 Z",fill:"green","fill-opacity":"0.9","shape-rendering":e.shapeRendering}})])]),t("g",{attrs:{transform:e.flipTransform}},[t("clipPath",{attrs:{id:"clipCircle"}},[t("circle",{attrs:{r:e.bedSize.x.max,cx:"0",cy:"0"}})]),e.drawBackground?t("g",{attrs:{id:"background"}},[e.isDelta?t("rect",{attrs:{height:e.bedSize.y.max-e.bedSize.y.min,width:e.bedSize.x.max-e.bedSize.x.min,fill:"url(#backgroundPattern)","clip-path":"url(#clipCircle)",x:e.bedSize.x.min,y:e.bedSize.y.min}}):t("rect",{attrs:{height:e.bedSize.y.max-e.bedSize.y.min,width:e.bedSize.x.max-e.bedSize.x.min,fill:"url(#backgroundPattern)",x:e.bedSize.x.min,y:e.bedSize.y.min}})]):e._e(),e.getViewerOption("showPreviousLayer")?t("g",{staticClass:"layer",attrs:{id:"previousLayer"}},[t("path",{attrs:{stroke:"lightgrey","stroke-width":e.extrusionLineWidth,"stroke-opacity":"0.6",d:e.svgPathPrevious.extrusions,"shape-rendering":e.shapeRendering}})]):e._e(),e.getViewerOption("showCurrentLayer")?t("g",{staticClass:"layer",attrs:{id:"activeLayer"}},[t("path",{attrs:{stroke:"lightgrey","stroke-width":e.extrusionLineWidth,"stroke-opacity":"0.6",d:e.svgPathActive.extrusions,"shape-rendering":e.shapeRendering}})]):e._e(),t("g",{staticClass:"layer",attrs:{id:"currentLayer"}},[e.getViewerOption("showExtrusions")?t("path",{attrs:{d:e.svgPathCurrent.extrusions,stroke:e.themeIsDark?"white":"black","stroke-width":e.extrusionLineWidth,"shape-rendering":e.shapeRendering}}):e._e(),e.getViewerOption("showMoves")?t("path",{attrs:{d:e.svgPathCurrent.moves,stroke:"gray","stroke-width":e.moveLineWidth,"shape-rendering":e.shapeRendering}}):e._e(),t("circle",{attrs:{id:"toolhead",fill:"green",r:".6",cx:e.svgPathCurrent.toolhead.x,cy:e.svgPathCurrent.toolhead.y}}),e.getViewerOption("showRetractions")&&e.svgPathCurrent.retractions.length>0?t("g",{attrs:{id:"retractions"}},e._l(e.svgPathCurrent.retractions,(function({x:s,y:a},r){return t("use",{key:`retraction-${r+1}`,attrs:{"xlink:href":"#retraction",x:s-e.retractionIconSize/2,y:e.flipY?a:a-e.retractionIconSize}})})),0):e._e(),e.getViewerOption("showRetractions")&&e.svgPathCurrent.retractions.length>0?t("g",{attrs:{id:"extrusionStarts"}},e._l(e.svgPathCurrent.extrusionStarts,(function({x:s,y:a},r){return t("use",{key:`extrusion-start-${r+1}`,attrs:{"xlink:href":"#extrusionStart",x:s-e.retractionIconSize/2,y:e.flipY?a:a-e.retractionIconSize}})})),0):e._e()]),e.getViewerOption("showNextLayer")?t("g",{staticClass:"layer",attrs:{id:"nextLayer"}},[t("path",{attrs:{stroke:"lightgrey","stroke-opacity":"0.6",d:e.svgPathNext.extrusions,"stroke-width":e.extrusionLineWidth}})]):e._e(),e.showExcludeObjects?t("exclude-objects",{on:{cancel:function(t){return e.$emit("cancelObject",t)}}}):e._e()],1)])])},Bo=[],No=s(34874),Uo=s.n(No),jo=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("g",{staticClass:"layer",attrs:{id:"parts"}},[e._l(e.parts,(function(s){return t("path",{key:`${s}bounds`,class:e.isPartExcluded(s)?"partOutline partExcluded":"partOutline",attrs:{d:e.partSVG(s)}})})),e._l(e.parts,(function(s){return t("svg",{key:`${s}icon`,staticClass:"partIcon",attrs:{width:"7",height:"7",viewBox:"0 0 24 24",x:e.partPos(s).x-3.5,y:e.partPos(s).y-3.5}},[t("path",{class:e.iconClasses(s),attrs:{d:e.iconCancelled}}),e.isPartExcluded(s)?e._e():t("path",{staticClass:"hitarea",class:e.iconClasses(s),attrs:{d:e.iconCircle},on:{click:function(t){return e.$emit("cancel",s)},touchstart:function(t){e.touchedElement=s},touchend:function(t){return e.handleTouchEnd(s)},touchcancel:function(t){e.touchedElement=void 0},touchmove:function(t){e.touchedElement=void 0}}})])}))],2)},Ho=[];let Wo=class extends((0,d.Wr)(u.Z)){handleTouchEnd(e){this.touchedElement===e&&this.$emit("cancel",e),this.touchedElement=void 0}get parts(){const e=this.$store.getters["parts/getParts"];return Object.keys(e)}iconClasses(e){return this.isPartExcluded(e)?"partExcluded":this.isPartCurrent(e)?"partCurrent":"partIncluded"}partSVG(e){return this.$store.getters["parts/getPartSVG"](e)}get iconCancelled(){return we.PJ.cancelled}get iconCircle(){return we.PJ.circle}partPos(e){return this.$store.getters["parts/getPartPos"](e)}isPartCurrent(e){return this.$store.getters["parts/getIsPartCurrent"](e)}isPartExcluded(e){return this.$store.getters["parts/getIsPartExcluded"](e)}};Wo=(0,p.gn)([(0,d.wA)({})],Wo);const zo=Wo,qo=zo;var Vo=(0,L.Z)(qo,jo,Ho,!1,null,"93a19264",null);const Go=Vo.exports;let Yo=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.focused=!1,this.panning=!1}get isDelta(){const e=this.$store.getters["printer/getPrinterSettings"]("printer.kinematics");return"delta"===e||"rotary_delta"===e}get printerRadius(){var e;return null!==(e=this.$store.getters["printer/getPrinterSettings"]("printer.print_radius"))&&void 0!==e?e:100}get themeIsDark(){return this.$store.state.config.uiSettings.theme.isDark}get filePosition(){return this.$store.state.printer.printer.virtual_sdcard.file_position}get isMobile(){return this.$vuetify.breakpoint.mobile}get extrusionLineWidth(){return this.getUiSetting("extrusionLineWidth")}get moveLineWidth(){return this.getUiSetting("moveLineWidth")}get retractionIconSize(){return this.getUiSetting("retractionIconSize")}get drawBackground(){return this.getUiSetting("drawBackground")}get showAnimations(){return this.getUiSetting("showAnimations")}get autoZoom(){return this.getUiSetting("autoZoom")}get shapeRendering(){return this.panning?"optimizeSpeed":"geometricPrecision"}get showExcludeObjects(){if(!this.printerPrinting&&!this.printerPaused)return!1;const e=this.$store.getters["gcodePreview/getFile"];if(!e)return!0;const t=this.$store.state.printer.printer.current_file;return!!t.filename&&e.path+"/"+e.filename===t.path+"/"+t.filename}get flipX(){return this.$store.state.config.uiSettings.gcodePreview.flip.horizontal}get flipY(){return this.$store.state.config.uiSettings.gcodePreview.flip.vertical}get flipTransform(){const{x:e,y:t}=this.viewBox,s=[this.flipX?-1:1,this.flipY?-1:1];if(this.isDelta)return`scale(${s.join()}) translate(0,0)`;const a=[this.flipX?-(e.max+e.min):0,this.flipY?-(t.max+t.min):0];return`scale(${s.join()}) translate(${a.join()})`}get bedSize(){var e,t,s,a;const{stepper_x:r,stepper_y:i}=this.$store.getters["printer/getPrinterSettings"]();if(this.isDelta){const e=this.printerRadius;return{x:{min:-e,max:e},y:{min:-e,max:e}}}return{x:{min:null!==(e=null===r||void 0===r?void 0:r.position_min)&&void 0!==e?e:0,max:null!==(t=null===r||void 0===r?void 0:r.position_max)&&void 0!==t?t:100},y:{min:null!==(s=null===i||void 0===i?void 0:i.position_min)&&void 0!==s?s:0,max:null!==(a=null===i||void 0===i?void 0:i.position_max)&&void 0!==a?a:100}}}get viewBox(){const e=this.$store.getters["gcodePreview/getBounds"],{stepper_x:t,stepper_y:s}=this.$store.getters["printer/getPrinterSettings"]();if(this.isDelta){const e=this.printerRadius;return{x:{min:-e,max:2*e},y:{min:-e,max:2*e}}}if(void 0===t||void 0===s||this.autoZoom){const t=this.autoZoom?.05*Math.min(e.x.max-e.x.min,e.y.max-e.y.min):0;return{x:{min:e.x.min-t,max:e.x.max+t},y:{min:e.y.min-t,max:e.y.max+t}}}return{x:{min:Math.min(t.position_min,e.x.min),max:Math.max(t.position_max,e.x.max)},y:{min:Math.min(s.position_min,e.y.min),max:Math.max(s.position_max,e.y.max)}}}get svgViewBox(){const{x:e,y:t}=this.viewBox;return this.isDelta?`${e.min} ${t.min} ${e.max} ${t.max}`:`${e.min} ${t.min} ${e.max-e.min} ${t.max-t.min}`}get defaultLayerPaths(){return{extrusions:"",moves:"",retractions:[],extrusionStarts:[],toolhead:{x:0,y:0}}}get svgPathCurrent(){var e,t;if(this.disabled)return this.defaultLayerPaths;const s=this.$store.getters["gcodePreview/getLayers"][this.layer];if(this.getViewerOption("followProgress")){const t=this.$store.getters["gcodePreview/getMoveIndexByFilePosition"](this.filePosition);return this.$store.getters["gcodePreview/getPaths"](null!==(e=null===s||void 0===s?void 0:s.move)&&void 0!==e?e:0,t)}return this.$store.getters["gcodePreview/getPaths"](null!==(t=null===s||void 0===s?void 0:s.move)&&void 0!==t?t:0,this.progress)}get svgPathActive(){return this.disabled?this.defaultLayerPaths:this.$store.getters["gcodePreview/getLayerPaths"](this.layer)}get svgPathPrevious(){return this.disabled||this.layer<=0?this.defaultLayerPaths:this.$store.getters["gcodePreview/getLayerPaths"](this.layer-1)}get svgPathNext(){const e=this.$store.getters["gcodePreview/getLayers"];return this.disabled||this.layer>=e.length?this.defaultLayerPaths:this.$store.getters["gcodePreview/getLayerPaths"](this.layer+1)}onIsMobileChanged(){this.panzoom&&(this.isMobile?this.panzoom.pause():this.panzoom.resume())}onFocusedChanged(){this.isMobile&&this.panzoom&&(this.focused?this.panzoom.resume():this.panzoom.pause())}mounted(){this.panzoom=Uo()(this.svg,{maxZoom:20,minZoom:.95,bounds:!0,boundsPadding:.6,smoothScroll:this.showAnimations,beforeWheel:()=>!this.focused}),this.panzoom.on("panstart",(()=>{this.panning=!0})),this.panzoom.on("panend",(()=>{this.panning=!1}))}beforeDestroy(){var e;null===(e=this.panzoom)||void 0===e||e.dispose()}reset(){var e,t;null===(e=this.panzoom)||void 0===e||e.moveTo(0,0),null===(t=this.panzoom)||void 0===t||t.zoomAbs(0,0,1)}getViewerOption(e){return this.$store.getters["gcodePreview/getViewerOption"](e)}getUiSetting(e){return this.$store.state.config.uiSettings.gcodePreview[e]}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],Yo.prototype,"disabled",void 0),(0,p.gn)([(0,d.fI)({type:String})],Yo.prototype,"width",void 0),(0,p.gn)([(0,d.fI)({type:String})],Yo.prototype,"height",void 0),(0,p.gn)([(0,d.fI)({type:Number,default:1/0})],Yo.prototype,"progress",void 0),(0,p.gn)([(0,d.fI)({type:Number,default:0})],Yo.prototype,"layer",void 0),(0,p.gn)([(0,d.Rl)("svg")],Yo.prototype,"svg",void 0),(0,p.gn)([(0,d.RL)("isMobile")],Yo.prototype,"onIsMobileChanged",null),(0,p.gn)([(0,d.RL)("focused")],Yo.prototype,"onFocusedChanged",null),Yo=(0,p.gn)([(0,d.wA)({components:{ExcludeObjects:Go}})],Yo);const Ko=Yo,Xo=Ko;var Jo=(0,L.Z)(Xo,Fo,Bo,!1,null,"bd286738",null);const Qo=Jo.exports;var el=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"px-2 mt-n2 mb-2"},[t("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled||!e.canFollowProgress,name:"followProgress",label:e.$t("app.gcode.label.follow_progress")}}),t("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showCurrentLayer",label:e.$t("app.gcode.label.show_current_layer")}}),t("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showNextLayer",label:e.$t("app.gcode.label.show_next_layer")}}),t("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showPreviousLayer",label:e.$t("app.gcode.label.show_previous_layer")}}),t("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showMoves",label:e.$t("app.gcode.label.show_moves")}}),t("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showExtrusions",label:e.$t("app.gcode.label.show_extrusions")}}),t("gcode-preview-control-checkbox",{attrs:{disabled:e.disabled,name:"showRetractions",label:e.$t("app.gcode.label.show_retractions")}})],1)},tl=[],sl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(We.Z,{attrs:{disabled:e.disabled,label:e.label,"hide-details":""},model:{value:e.property,callback:function(t){e.property=t},expression:"property"}})},al=[];let rl=class extends((0,d.Wr)(u.Z)){get property(){return this.$store.getters["gcodePreview/getViewerOption"](this.name)}set property(e){this.$store.commit("gcodePreview/setViewerState",{[this.name]:e})}};(0,p.gn)([(0,d.fI)({type:String,required:!0})],rl.prototype,"name",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],rl.prototype,"label",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],rl.prototype,"disabled",void 0),rl=(0,p.gn)([(0,d.wA)({})],rl);const il=rl,nl=il;var ol=(0,L.Z)(nl,sl,al,!1,null,null,null);const ll=ol.exports;let cl=class extends((0,d.Wr)(u.Z,P.Z)){get canFollowProgress(){const e=this.$store.getters["gcodePreview/getFile"],t=this.$store.state.printer.printer.current_file;return e&&t&&e.path+"/"+e.filename===t.path+"/"+t.filename}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],cl.prototype,"disabled",void 0),cl=(0,p.gn)([(0,d.wA)({components:{GcodePreviewControlCheckbox:ll}})],cl);const pl=cl,dl=pl;var ul=(0,L.Z)(dl,el,tl,!1,null,null,null);const ml=ul.exports;var hl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":"500",persistent:""}},[e.file?t(be.Z,[t(N.EB,{staticClass:"card-heading py-2 px-5"},[t(g.Z,{attrs:{left:""}},[e._v(" $cubeScan ")]),t("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$t("app.gcode.label.parsing_file"))+" ")])],1),t(N.ZB,{staticClass:"py-3 px-5"},[t("div",{staticClass:"mb-2"},[e._v(" "+e._s(e.file.filename)+" ")]),t(j.Z,{staticClass:"mb-2",attrs:{value:e.percent,color:"primary"}}),t("table",[t("tr",[t("td",{staticClass:"pr-2"},[e._v(" "+e._s(e.$t("app.gcode.label.parsed"))+": ")]),t("td",[e._v(" "+e._s(e.percent)+"% ("+e._s(e.$filters.getReadableFileSizeString(e.progress))+" / "+e._s(e.$filters.getReadableFileSizeString(e.file.size))+") ")])])])],1),t(ps.Z),t(N.h7,{staticClass:"py-2 px-5"},[t(Ce.Z),t("app-btn",{attrs:{color:"error",text:""},on:{click:function(t){e.$emit("cancel"),e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")])],1)],1):e._e()],1)},gl=[];let fl=class extends((0,d.Wr)(u.Z)){get percent(){return Math.floor(this.progress/this.file.size*100)}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],fl.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Number})],fl.prototype,"progress",void 0),(0,p.gn)([(0,d.fI)({type:Object})],fl.prototype,"file",void 0),fl=(0,p.gn)([(0,d.wA)({})],fl);const vl=fl,_l=vl;var yl=(0,L.Z)(_l,hl,gl,!1,null,null,null);const bl=yl.exports;var xl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":"500",persistent:""}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2 px-5"},[t(g.Z,{attrs:{left:""}},[e._v(" $cancelled ")]),t("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$t("app.gcode.label.exclude_object"))+" ")])],1),t(N.ZB,{staticClass:"py-3 px-5"},[t(Lr.Z,[t("tbody",e._l(e.parts,(function(s){return t("tr",{key:s.name},[t("td",{staticClass:"partName"},[e._v(" "+e._s(s.name)+" ")]),t("td",{staticClass:"actions"},[t("app-btn",{attrs:{"x-small":"",fab:"",disabled:e.isPartExcluded(s.name)},on:{click:function(t){return e.$emit("cancelObject",s.name)}}},[t(g.Z,{attrs:{color:"error"}},[e._v(" $cancelled ")])],1)],1)])})),0)])],1),t(ps.Z),t(N.h7,{staticClass:"py-2 px-5"},[t(Ce.Z),t("app-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" "+e._s(e.$t("app.general.btn.close"))+" ")])],1)],1)],1)},$l=[];let wl=class extends((0,d.Wr)(u.Z)){get parts(){return this.$store.getters["parts/getParts"]}isPartExcluded(e){return this.$store.getters["parts/getIsPartExcluded"](e)}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],wl.prototype,"value",void 0),wl=(0,p.gn)([(0,d.wA)({})],wl);const Sl=wl,kl=Sl;var Cl=(0,L.Z)(kl,xl,$l,!1,null,"34a2d8db",null);const Zl=Cl.exports;let Pl=class extends((0,d.Wr)(u.Z,P.Z)){constructor(){super(...arguments),this.currentLayer=0,this.moveProgress=0,this.excludeObjectDialog=!1}onLayerCountChanged(){this.currentLayer=0}onFollowProgressChanged(){this.followProgress&&(this.currentLayer=this.fileProgressLayerNr,this.syncMoveProgress())}onCurrentLayerChanged(){this.followProgress&&this.currentLayer!==this.fileProgressLayerNr&&(this.followProgress=!1),this.followProgress||(this.moveProgress=this.currentLayerMoveRange.max)}onFilePositionChanged(){if(this.followProgress){this.syncMoveProgress();const e=this.$store.getters["gcodePreview/getMoves"],{min:t,max:s}=this.currentLayerMoveRange;(this.filePosition<e[t].filePosition||this.filePosition>e[s].filePosition)&&(this.currentLayer=this.fileProgressLayerNr)}}onMoveProgressChanged(){if(this.followProgress){const e=this.$store.getters["gcodePreview/getMoveIndexByFilePosition"](this.filePosition);e!==this.moveProgress&&this.syncMoveProgress()}}onPrintFileChanged(){this.autoLoadOnPrintStart&&this.printerFile&&["paused","printing"].includes(this.printerState)&&this.loadCurrent()}onFileLoaded(){this.fileLoaded&&this.$store.state.config.uiSettings.gcodePreview.autoFollowOnFileLoad&&this.printerFileLoaded&&this.$store.commit("gcodePreview/setViewerState",{followProgress:!0},{root:!0})}get file(){return this.$store.getters["gcodePreview/getFile"]}get fileLoaded(){return this.$store.getters["gcodePreview/getMoves"].length>0}get isMobile(){return this.$vuetify.breakpoint.mobile}get parserProgress(){return this.$store.getters["gcodePreview/getParserProgress"]}get showParserProgressDialog(){return void 0!==this.file&&this.parserProgress!==this.file.size}get filePosition(){return this.$store.state.printer.printer.virtual_sdcard.file_position}get fileProgressLayerNr(){return this.$store.getters["gcodePreview/getLayerNrByFilePosition"](this.filePosition)}get layerCount(){return this.$store.getters["gcodePreview/getLayers"].length}get currentLayerHeight(){var e,t;return null!==(t=null===(e=this.$store.getters["gcodePreview/getLayers"][this.currentLayer])||void 0===e?void 0:e.z)&&void 0!==t?t:0}get followProgress(){return this.$store.getters["gcodePreview/getViewerOption"]("followProgress")}set followProgress(e){this.$store.commit("gcodePreview/setViewerState",{followProgress:e})}get currentLayerMoveRange(){var e,t;const s=this.$store.getters["gcodePreview/getMoves"];if(0===s.length)return{min:0,max:0};const a=this.$store.getters["gcodePreview/getLayers"];return{min:a[this.currentLayer].move,max:null!==(t=null===(e=a[this.currentLayer+1])||void 0===e?void 0:e.move)&&void 0!==t?t:s.length-1}}setCurrentLayer(e){e>=0&&(this.currentLayer=e)}setMoveProgress(e){e>=0&&(this.moveProgress=e)}syncMoveProgress(){this.moveProgress=this.$store.getters["gcodePreview/getMoveIndexByFilePosition"](this.filePosition)}abortParser(){this.$store.dispatch("gcodePreview/terminateParserWorker")}resetFile(){this.$store.dispatch("gcodePreview/reset")}async loadCurrent(){const e=this.printerFile;this.getGcode(e).then((e=>null===e||void 0===e?void 0:e.data)).then((t=>{this.$store.dispatch("gcodePreview/loadGcode",{file:e,gcode:t})})).catch((e=>e)).finally((()=>{this.$store.dispatch("files/removeFileDownload")}))}get printerFile(){const e=this.$store.state.printer.printer.current_file;if(e.filename)return e}get printerFileLoaded(){const e=this.$store.getters["gcodePreview/getFile"],t=this.printerFile;return!(!e||!t||e.path+"/"+e.filename!==t.path+"/"+t.filename)||(this.$store.commit("gcodePreview/setViewerState",{followProgress:!1}),!1)}get autoLoadOnPrintStart(){return this.$store.state.config.uiSettings.gcodePreview.autoLoadOnPrintStart}async cancelObject(e){const t=e.toUpperCase().replace(/\s/g,"_"),s=await this.$confirm(this.$tc("app.general.simple_form.msg.confirm_exclude_object"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"});s&&this.sendGcode(`EXCLUDE_OBJECT NAME=${t}`)}get parts(){return Object.values(this.$store.getters["parts/getParts"])}get autoZoom(){return this.$store.state.config.uiSettings.gcodePreview.autoZoom}set autoZoom(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.autoZoom",value:e,server:!0}),this.preview.reset()}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],Pl.prototype,"enabled",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Pl.prototype,"menuCollapsed",void 0),(0,p.gn)([(0,d.Rl)("preview")],Pl.prototype,"preview",void 0),(0,p.gn)([(0,d.RL)("layerCount")],Pl.prototype,"onLayerCountChanged",null),(0,p.gn)([(0,d.RL)("followProgress")],Pl.prototype,"onFollowProgressChanged",null),(0,p.gn)([(0,d.RL)("currentLayer")],Pl.prototype,"onCurrentLayerChanged",null),(0,p.gn)([(0,d.RL)("filePosition")],Pl.prototype,"onFilePositionChanged",null),(0,p.gn)([(0,d.RL)("moveProgress")],Pl.prototype,"onMoveProgressChanged",null),(0,p.gn)([(0,d.RL)("printerFile")],Pl.prototype,"onPrintFileChanged",null),(0,p.gn)([(0,d.RL)("fileLoaded")],Pl.prototype,"onFileLoaded",null),Pl=(0,p.gn)([(0,d.wA)({components:{AppBtnCollapseGroup:et["default"],GcodePreviewParserProgressDialog:bl,GcodePreview:Qo,GcodePreviewControls:ml,ExcludeObjectsDialog:Zl}})],Pl);const Al=Pl,Rl=Al;var El=(0,L.Z)(Rl,Oo,Io,!1,null,null,null);const Ll=El.exports;let Dl=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.drag=!1,this.menuCollapsed=!1,this.containers=[]}mounted(){this.onLayoutChange(),window.addEventListener("resize",this.updateMenuCollapsed),this.updateMenuCollapsed()}unmounted(){window.removeEventListener("resize",this.updateMenuCollapsed)}get columnCount(){return this.inLayout?4:this.containers.reduce(((e,t)=>+this.hasCards(t)+e),0)}onColumnCount(e){this.$store.commit("config/setContainerColumnCount",e)}get columnSpan(){return 12/this.columnCount}get hasCameras(){return this.$store.getters["cameras/getEnabledCameras"].length}get firmwareRetractionEnabled(){return"firmware_retraction"in this.$store.getters["printer/getPrinterSettings"]()}get supportsBedMesh(){return this.$store.getters["mesh/getSupportsBedMesh"]}get macros(){return this.$store.getters["macros/getVisibleMacros"]}get uncategorizedMacros(){const e=this.$store.getters["macros/getMacrosByCategory"]();return e.filter((e=>e.visible))}get inLayout(){return this.$store.state.config.layoutMode}get layout(){const e=this.$store.getters["layout/getSpecificLayoutName"];return this.$store.getters["layout/getLayout"](e)}onLayoutChange(){const e=[];for(let t=1;t<=4;t++){const s=this.layout[`container${t}`];(null===s||void 0===s?void 0:s.length)>0&&e.push(s)}while(e.length<4)e.push([]);this.containers=e.slice(0,4),this.updateMenuCollapsed()}get dragOptions(){return{animation:200,handle:".handle",group:"dashboard",disabled:!this.inLayout,ghostClass:"ghost"}}updateMenuCollapsed(){this.menuCollapsed=this.$el.clientWidth/this.columnCount<560}handleStopDrag(){this.drag=!1,this.$store.dispatch("layout/onLayoutChange",{name:this.$store.getters["layout/getSpecificLayoutName"],value:{container1:this.containers[0],container2:this.containers[1],container3:this.containers[2],container4:this.containers[3]}})}hasCards(e){return e.some((e=>e.enabled&&!this.filtered(e)))}filtered(e){return!this.inLayout&&("camera-card"===e.id&&!this.hasCameras||("macros-card"===e.id&&this.macros.length<=0&&this.uncategorizedMacros.length<=0||("printer-status-card"===e.id&&!this.klippyReady||("retract-card"===e.id&&!this.firmwareRetractionEnabled||("bed-mesh-card"===e.id&&!this.supportsBedMesh||!e.enabled)))))}};(0,p.gn)([(0,d.RL)("columnCount")],Dl.prototype,"onColumnCount",null),(0,p.gn)([(0,d.RL)("layout")],Dl.prototype,"onLayoutChange",null),Dl=(0,p.gn)([(0,d.wA)({components:{draggable:h(),PrinterStatusCard:ve,JobsCard:oa,ToolheadCard:xr,MacrosCard:qi,TemperatureCard:ri,CameraCard:Zi,PrinterLimitsCard:ro,RetractCard:yo,ConsoleCard:en,OutputsCard:Wn,BedMeshCard:Mo,GcodePreviewCard:Ll}})],Dl);const Tl=Dl,Ml=Tl;var Ol=(0,L.Z)(Ml,l,c,!1,null,"dd991ac2",null);const Il=Ol.exports;var Fl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[t(n.Z,{attrs:{cols:"12"}},[t("console-card",{attrs:{"full-screen":""}})],1)],1)},Bl=[];let Nl=class extends((0,d.Wr)(u.Z)){};Nl=(0,p.gn)([(0,d.wA)({components:{ConsoleCard:en}})],Nl);const Ul=Nl,jl=Ul;var Hl=(0,L.Z)(jl,Fl,Bl,!1,null,null,null);const Wl=Hl.exports;var zl=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[t(n.Z,{attrs:{cols:"12"}},[t("collapsable-card",{attrs:{title:e.$t("app.general.title.jobs"),"card-key":"JobsPage",icon:"$files",draggable:!1}},[t("file-system",{attrs:{roots:"gcodes",name:"jobs","bulk-actions":"","max-height":816}})],1)],1)],1)},ql=[];let Vl=class extends((0,d.Wr)(u.Z)){};Vl=(0,p.gn)([(0,d.wA)({components:{FileSystem:sa}})],Vl);const Gl=Vl,Yl=Gl;var Kl=(0,L.Z)(Yl,zl,ql,!1,null,null,null);const Xl=Kl.exports;var Jl=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.klippyReady?t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[e.supportsBedMesh?t(n.Z,{attrs:{cols:"12",md:"8"}},[t("bed-mesh-card",{attrs:{"full-screen":!0}})],1):e._e(),t(n.Z,{attrs:{cols:"12",md:"4"}},[e.supportsBedMesh?t("bed-mesh-controls",{staticClass:"mb-2 mb-sm-4"}):e._e(),t("end-stops-card",{staticClass:"mb-2 mb-sm-4"}),e.supportsRunoutSensors?t("runout-sensors-card"):e._e()],1)],1):e._e()},Ql=[],ec=s(78419),tc=s(56379),sc=s(69670),ac=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.bedmesh_controls"),lazy:!1,icon:"$bedMesh"},scopedSlots:e._u([{key:"menu",fn:function(){return[t("app-btn-collapse-group",[e.isManualProbeActive?t("app-btn",{staticClass:"ml-1",attrs:{elevation:2,disabled:!e.klippyReady||e.printerPrinting,small:""},on:{click:function(t){e.manualProbeDialogOpen=!0}}},[e._v(" "+e._s(e.$t("app.tool.tooltip.manual_probe"))+" ")]):e._e()],1)]},proxy:!0}])},[e.meshes.length>0?t(Lr.Z,{staticClass:"no-hover"},[t("thead",[t("tr",[t("th",[e._v(e._s(e.$t("app.general.label.name")))]),t("th",[e._v(" ")]),t("th",[e._v(e._s(e.$t("app.general.label.variance")))]),t("th",[e._v(" ")])])]),t("tbody",e._l(e.meshes,(function(s){return t("tr",{key:s.profile_name},[t("td",{},[e._v(" "+e._s(s.profile_name)+" ")]),t("td",[s.active?t(Ri.Z,{attrs:{small:"",block:""}},[e._v(" "+e._s(e.$t("app.bedmesh.label.active"))+" ")]):e._e()],1),t("td",{staticClass:"focus--text"},[s.active&&e.mesh.variance?t("span",[e._v(" "+e._s(e.mesh.variance.toFixed(4))+" ")]):e._e()]),t("td",{staticClass:"text-right",attrs:{nowrap:""}},[s.active||e.printerPrinting||e.printerBusy?e._e():t(k.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[s.active||e.printerPrinting||e.printerBusy?e._e():t("app-btn",e._g(e._b({attrs:{"x-small":"",color:"",fab:"",text:""},on:{click:function(t){return e.loadProfile(s.profile_name)}}},"app-btn",r,!1),a),[t(g.Z,[e._v("$open")])],1)]}}],null,!0)},[t("span",[e._v(e._s(e.$t("app.bedmesh.tooltip.load")))])]),t(k.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:a,attrs:r}){return[t("app-btn",e._g(e._b({staticClass:"ml-2",attrs:{disabled:e.printerPrinting||e.printerBusy,color:"",fab:"",text:"","x-small":""},on:{click:function(t){return e.removeProfile(s.profile_name)}}},"app-btn",r,!1),a),[t(g.Z,{attrs:{color:""}},[e._v(" $close ")])],1)]}}],null,!0)},[t("span",[e._v(e._s(e.$t("app.bedmesh.tooltip.delete")))])])],1)])})),0)]):e._e(),t(ps.Z),t(N.ZB,[0===e.meshes.length?t("div",{staticClass:"mb-4"},[e._v(" "+e._s(e.$t("app.bedmesh.msg.not_found"))+" ")]):e._e(),t(o.Z,[t(n.Z,{attrs:{cols:"6"}},[t("app-btn",{staticClass:"mb-2",attrs:{disabled:!e.meshLoaded||e.printerPrinting||e.printerBusy,small:"",block:""},on:{click:function(t){return e.clearMesh()}}},[e._v(" "+e._s(e.$t("app.general.btn.clear_profile"))+" ")]),t(k.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("app-btn",e._g(e._b({staticClass:"mb-2",attrs:{small:"",block:"",loading:e.hasWait(e.$waits.onMeshCalibrate),disabled:e.printerPrinting||e.printerBusy},on:{click:function(t){return e.calibrate()}}},"app-btn",a,!1),s),[e._v(" "+e._s(e.$t("app.general.btn.calibrate"))+" ")])]}}])},[t("span",[e._v(e._s(e.$t("app.bedmesh.tooltip.calibrate")))])]),t(k.Z,{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("app-btn",e._g(e._b({attrs:{block:"",small:"",color:"primary",disabled:!e.meshLoaded||e.printerPrinting||e.printerBusy},on:{click:function(t){return e.handleOpenSaveDialog()}}},"app-btn",a,!1),s),[e._v(" "+e._s(e.$t("app.general.btn.save_as"))+" ")])]}}])},[t("span",[e._v(e._s(e.$t("app.bedmesh.tooltip.save")))])])],1),t(n.Z,{attrs:{cols:"6"}},[t("app-btn",{staticClass:"mb-2",attrs:{block:"",small:"",loading:e.hasWait(e.$waits.onHomeAll),disabled:e.printerPrinting||e.printerBusy,color:e.allHomed?void 0:"primary"},on:{click:function(t){return e.sendGcode("G28",e.$waits.onHomeAll)}}},[t(g.Z,{staticClass:"mr-1",attrs:{small:""}},[e._v(" $home ")]),e._v(" "+e._s(e.$t("app.general.btn.all"))+" ")],1),!e.printerPrinting&&e.printerSupportsQgl?t("app-btn",{staticClass:"mb-2",attrs:{elevation:2,loading:e.hasWait(e.$waits.onQGL),disabled:e.printerPrinting||e.printerBusy,block:"",small:""},on:{click:function(t){return e.sendGcode("QUAD_GANTRY_LEVEL",e.$waits.onQGL)}}},[e._v(" "+e._s(e.$t("app.general.btn.quad_gantry_level"))+" ")]):e._e()],1)],1),t(o.Z,[t(n.Z,{attrs:{cols:"12",md:"6"}},[t(tc.Z,{staticClass:"mt-0 mb-2",attrs:{disabled:!e.meshLoaded,column:"","hide-details":""},model:{value:e.matrix,callback:function(t){e.matrix=t},expression:"matrix"}},[t(ec.Z,{attrs:{label:e.$t("app.bedmesh.label.probed_matrix"),color:"primary",value:"probed_matrix"}}),t(ec.Z,{attrs:{label:e.$t("app.bedmesh.label.mesh_matrix"),color:"primary",value:"mesh_matrix"}})],1)],1),t(n.Z,{attrs:{cols:"12",md:"6"}},[t(We.Z,{staticClass:"mt-0",attrs:{disabled:!e.meshLoaded,label:e.$t("app.bedmesh.label.wireframe"),"hide-details":""},model:{value:e.wireframe,callback:function(t){e.wireframe=t},expression:"wireframe"}}),t(We.Z,{staticClass:"mt-1",attrs:{disabled:!e.meshLoaded,label:e.$t("app.bedmesh.label.flat_surface"),"hide-details":""},model:{value:e.flatSurface,callback:function(t){e.flatSurface=t},expression:"flatSurface"}})],1)],1),t(o.Z,[t(n.Z,[t(sc.Z,{attrs:{label:e.$t("app.bedmesh.label.scale"),disabled:!e.meshLoaded,"tick-labels":e.mapScaleLabels,min:0,max:.2,step:"0.1",ticks:"always","tick-size":"4"},model:{value:e.mapScale,callback:function(t){e.mapScale=t},expression:"mapScale"}}),t(sc.Z,{attrs:{label:e.$t("app.bedmesh.label.box_scale"),disabled:!e.meshLoaded,"tick-labels":e.boxScaleLabels,min:1,max:2,step:"0.5",ticks:"always","tick-size":"4"},model:{value:e.boxScale,callback:function(t){e.boxScale=t},expression:"boxScale"}})],1)],1)],1),e.saveDialogState.open?t("save-mesh-dialog",{attrs:{"existing-name":e.saveDialogState.existingName},on:{save:e.handleMeshSave},model:{value:e.saveDialogState.open,callback:function(t){e.$set(e.saveDialogState,"open",t)},expression:"saveDialogState.open"}}):e._e(),e.manualProbeDialogOpen?t("manual-probe-dialog",{model:{value:e.manualProbeDialogOpen,callback:function(t){e.manualProbeDialogOpen=t},expression:"manualProbeDialogOpen"}}):e._e()],1)},rc=[],ic=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{title:e.$t("app.general.label.save_as"),value:e.value,"max-width":450},on:{input:function(t){return e.$emit("input",t)}}},[t(ds.Z,{ref:"saveMeshForm",on:{submit:function(t){return t.preventDefault(),e.handleSubmit()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.general.label.save_as")))])]),t(N.ZB,{staticClass:"mt-4"},[t(Ze.Z,{staticClass:"mb-4",attrs:{autofocus:"",filled:"",required:"",rules:e.rules,"hide-details":"auto",label:e.$t("app.bedmesh.label.profile_name")},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t(We.Z,{staticClass:"mb-4",attrs:{label:e.$t("app.bedmesh.label.remove_profile",{name:e.existingName}),"hide-details":"auto",disabled:e.name===e.existingName},model:{value:e.removeDefault,callback:function(t){e.removeDefault=t},expression:"removeDefault"}}),t("p",[e._v(" "+e._s(e.$t("app.bedmesh.msg.hint",{name:e.existingName}))+" ")])],1),t(ps.Z),t(N.h7,[t(Ce.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),t("app-btn",{attrs:{color:"primary",elevation:2,type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.save"))+" ")])],1)],1)],1)],1)},nc=[];let oc=class extends((0,d.Wr)(u.Z,pa.Z)){constructor(){super(...arguments),this.valid=!0,this.name="default",this.removeDefault=!1,this.rules=[e=>!!e||this.$t("app.general.simple_form.error.required")]}mounted(){this.name="default",this.removeDefault=!1}handleSubmit(){this.valid&&(this.$emit("save",{name:this.name,removeDefault:this.removeDefault}),this.$emit("input",!1))}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],oc.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:String})],oc.prototype,"existingName",void 0),oc=(0,p.gn)([(0,d.wA)({})],oc);const lc=oc,cc=lc;var pc=(0,L.Z)(cc,ic,nc,!1,null,null,null);const dc=pc.exports;let uc=class extends((0,d.Wr)(u.Z,pa.Z)){constructor(){super(...arguments),this.manualProbeDialogOpen=!1,this.mapScaleLabels=["min","0.1","0.2"],this.boxScaleLabels=["1.0","1.5","2.0"],this.saveDialogState={open:!1,existingName:"default"}}get matrix(){return this.$store.state.mesh.matrix}set matrix(e){this.$store.dispatch("mesh/onMatrix",e)}get mapScale(){return this.$store.state.mesh.scale}set mapScale(e){this.$store.dispatch("mesh/onScale",e)}get boxScale(){return this.$store.state.mesh.boxScale}set boxScale(e){this.$store.dispatch("mesh/onBoxScale",e)}get wireframe(){return this.$store.state.mesh.wireframe}set wireframe(e){this.$store.dispatch("mesh/onWireframe",e)}get flatSurface(){return this.$store.state.mesh.flatSurface}set flatSurface(e){this.$store.dispatch("mesh/onFlatSurface",e)}get meshes(){return this.$store.getters["mesh/getBedMeshes"]}get mesh(){return this.$store.getters["mesh/getCurrentMeshData"][this.matrix]}get currentMesh(){return this.$store.state.printer.printer.bed_mesh}get meshLoaded(){return"profile_name"in this.currentMesh&&this.currentMesh.profile_name.length>0}get hasDefault(){return this.meshes.findIndex((e=>"default"===e.profile_name))>-1}get printerSupportsQgl(){const e=this.$store.getters["printer/getPrinterSettings"]();return"quad_gantry_level"in e}calibrate(){this.sendGcode("BED_MESH_CALIBRATE",this.$waits.onMeshCalibrate)}clearMesh(){this.sendGcode("BED_MESH_CLEAR")}loadProfile(e){this.sendGcode(`BED_MESH_PROFILE LOAD="${e}"`)}removeProfile(e){this.sendGcode(`BED_MESH_PROFILE REMOVE="${e}"`),this.sendGcode("SAVE_CONFIG",this.$waits.onSaveConfig)}handleMeshSave(e){e.name!==this.currentMesh.profile_name&&this.sendGcode(`BED_MESH_PROFILE SAVE="${e.name}"`),e.removeDefault&&this.sendGcode(`BED_MESH_PROFILE REMOVE="${this.currentMesh.profile_name}"`),this.sendGcode("SAVE_CONFIG",this.$waits.onSaveConfig)}handleOpenSaveDialog(){this.saveDialogState={open:!0,existingName:this.currentMesh.profile_name}}get showManualProbeDialogAutomatically(){return this.$store.state.config.uiSettings.general.showManualProbeDialogAutomatically}onIsManualProbeActive(e){e&&this.showManualProbeDialogAutomatically&&this.klippyReady&&!this.printerPrinting&&(this.manualProbeDialogOpen=!0)}};(0,p.gn)([(0,d.RL)("isManualProbeActive")],uc.prototype,"onIsManualProbeActive",null),uc=(0,p.gn)([(0,d.wA)({components:{SaveMeshDialog:dc,ManualProbeDialog:gr["default"]}})],uc);const mc=uc,hc=mc;var gc=(0,L.Z)(hc,ac,rc,!1,null,"ba5808f4",null);const fc=gc.exports;var vc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.endstops"),"sub-title":e.$t("app.endstop.msg.subtitle"),icon:"$expandHorizontal"},scopedSlots:e._u([{key:"collapse-button",fn:function(){return[t("app-btn",{staticClass:"ml-1",attrs:{loading:e.hasWait(e.$waits.onQueryEndstops)||e.hasWait(e.$waits.onQueryProbe),color:"",fab:"","x-small":"",text:""},on:{click:e.queryEndstops}},[t(g.Z,[e._v("$refresh")])],1)]},proxy:!0}])},[e.hasEndstops?t(Lr.Z,[t("tbody",e._l(e.endstopsAndProbes,(function(s){return t("tr",{key:s.name},[t("td",[t("span",{staticClass:"focus--text"},[e._v(e._s(s.name))])]),t("td",[t(Ri.Z,{attrs:{color:"open"===s.state?"secondary":"warning",small:"",label:""}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" "+e._s("open"===s.state?"$blankCircle":"$markedCircle")+" ")]),e._v(" "+e._s(e.$t("app.endstop.label."+s.state.toLowerCase()))+" ")],1)],1)])})),0)]):e._e()],1)},_c=[];let yc=class extends((0,d.Wr)(u.Z)){get endstops(){return this.$store.getters["printer/getEndstops"]}get probe(){return this.$store.getters["printer/getProbe"]}get endstopsAndProbes(){const e=[...this.endstops];return this.hasProbe&&e.push({name:"Probe",state:this.probe.last_query?"triggered":"open"}),e}get hasEndstops(){return this.endstops.length>0}get hasProbe(){return void 0!==this.probe}queryEndstops(){$.r.printerQueryEndstops(),this.hasProbe&&this.sendGcode("QUERY_PROBE",this.$waits.onQueryProbe)}destroyed(){this.$store.commit("printer/setClearEndStops")}};yc=(0,p.gn)([(0,d.wA)({components:{}})],yc);const bc=yc,xc=bc;var $c=(0,L.Z)(xc,vc,_c,!1,null,null,null);const wc=$c.exports;var Sc=s(29884),kc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.runout_sensors"),icon:"$printer3dNozzleAlert"}},[t(N.ZB,e._l(e.sensors,(function(s){return t(z.Z,{key:s.name,staticClass:"py-1",attrs:{"align-center":"","justify-start":""}},[t("span",{staticClass:"text-subtitle-1"},[e._v(e._s(s.name))]),t(g.Z,{staticClass:"ml-3",attrs:{color:s.filament_detected?"success":"warning",left:""}},[e._v(" "+e._s(s.filament_detected?"$checkedCircle":"$alertCircle")+" ")]),t(Sc.Z,{staticClass:"ml-2",attrs:{color:"success","input-value":s.enabled},on:{change:function(t){return e.changeSensor(s,t)}}})],1)})),1)],1)},Cc=[];let Zc=class extends((0,d.Wr)(u.Z)){get sensors(){return this.$store.getters["printer/getRunoutSensors"]}changeSensor(e,t){const s=t?1:0;this.sendGcode(`SET_FILAMENT_SENSOR SENSOR=${e.name} ENABLE=${s}`)}};Zc=(0,p.gn)([(0,d.wA)({})],Zc);const Pc=Zc,Ac=Pc;var Rc=(0,L.Z)(Ac,kc,Cc,!1,null,null,null);const Ec=Rc.exports;let Lc=class extends((0,d.Wr)(u.Z)){get supportsBedMesh(){return this.$store.getters["mesh/getSupportsBedMesh"]}get supportsRunoutSensors(){return this.$store.getters["printer/getRunoutSensors"].length}get supportsEndstops(){const e=this.$store.getters["printer/getEndstops"];return Object.keys(e).length>0}};Lc=(0,p.gn)([(0,d.wA)({components:{BedMeshCard:Mo,BedMeshControls:fc,EndStopsCard:wc,RunoutSensorsCard:Ec}})],Lc);const Dc=Lc,Tc=Dc;var Mc=(0,L.Z)(Tc,Jl,Ql,!1,null,null,null);const Oc=Mc.exports;var Ic=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(o.Z,[t(n.Z,{attrs:{cols:"12"}},[t("collapsable-card",{attrs:{title:e.$t("app.general.title.diagnostics"),icon:"$chart"},scopedSlots:e._u([{key:"menu",fn:function(){return[t("app-btn-collapse-group",[t("app-btn",{attrs:{small:""},on:{click:e.handleAddCard}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.general.title.add_chart"))+" ")],1)],1)]},proxy:!0}])})],1)],1),t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[e._l(e.containers,(function(s,a){return[e.inLayout||e.hasCards(s)?t(n.Z,{key:`container${a}`,class:{drag:e.inLayout},attrs:{cols:"12",md:"6",lg:e.columnSpan}},[t("draggable",e._b({staticClass:"list-group",on:{start:function(t){t.stopPropagation(),e.drag=!0},end:function(t){return t.stopPropagation(),e.updateLayout.apply(null,arguments)}},model:{value:e.containers[a],callback:function(t){e.$set(e.containers,a,t)},expression:"containers[containerIndex]"}},"draggable",e.dragOptions,!1),[t("transition-group",{attrs:{type:"transition",name:e.drag?null:"flip-list"}},[e._l(s,(function(s){return[s.enabled||e.inLayout?t("diagnostics-card",{key:s.id,staticClass:"mb-2 mb-sm-4",attrs:{config:s},on:{edit:e.handleEditCard}}):e._e()]}))],2)],1)],1):e._e()]}))],2),e.dialogState.active?t("diagnostics-card-config-dialog",{attrs:{config:e.dialogState.card},on:{save:e.handleSaveCard,delete:e.handleDeleteCard},model:{value:e.dialogState.active,callback:function(t){e.$set(e.dialogState,"active",t)},expression:"dialogState.active"}}):e._e()],1)},Fc=[],Bc=s(57632),Nc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.config.title,icon:`$${e.config.icon}`,draggable:!0,"layout-path":`diagnostics.${e.config.id}`},scopedSlots:e._u([{key:"menu",fn:function(){return[t("app-btn-collapse-group",[t("app-btn",{attrs:{small:""},on:{click:function(t){return e.$emit("edit",e.config)}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $edit ")]),e._v(" "+e._s(e.$t("app.general.title.edit_chart"))+" ")],1)],1)]},proxy:!0}])},[t("app-chart",{staticClass:"mt-2",attrs:{data:e.chartData,height:`${e.config.height}px`,options:e.options}})],1)},Uc=[],jc=s(98815),Hc=s(37354);let Wc=class extends d.w3{get chartData(){return this.$store.state.charts.diagnostics||[]}get isMobile(){return this.$vuetify.breakpoint.mobile}get options(){const e=this.$store.state.config.uiSettings.theme.isDark,t=this.isMobile,s=e?"rgba(255,255,255,0.65)":"rgba(0,0,0,0.45)",a=t?13:14,r={color:e?"#ffffff":"#000000",opacity:.05},i={color:e?"#ffffff":"#000000",opacity:.5};let n=this.isMobile?15:20;this.config.axes.length>1&&(n=this.isMobile?35:45);const o={top:20,left:this.isMobile?35:45,right:n,bottom:this.isMobile?52:38},l={backgroundColor:e?"rgba(15,15,15,0.75)":"rgba(255,255,255,0.75)",borderColor:e?"rgba(0,0,0,0.85)":"rgba(255,255,255,0.85)",textStyle:{color:s,fontSize:a}},c=this.$store.getters["config/getTheme"],p=[c.currentTheme.primary,c.currentTheme.secondary],d=this.series,u={grid:o,color:p,legend:{show:!1,selected:!0},tooltip:{...l,trigger:"axis",confine:!1,axisPointer:{type:"line",lineStyle:i,label:{color:s,fontSize:a,backgroundColor:l.backgroundColor}},formatter:e=>{let t="";return e.forEach((e=>{const r=d[e.seriesIndex];if(!r.displayLegend)return;let i=e.data[r.encode.y];"number"===typeof i?i=Math.round(1e3*i)/1e3:i||(i="-"),t+=`\n                <div>\n                  ${e.marker}\n                  <span style="font-size:${a}px;color:${s};font-weight:400;margin-left:2px">\n                    ${this.sanitize(e.seriesName)}:\n                  </span>\n                  <span style="float:right;margin-left:20px;font-size:${a}px;color:${s};font-weight:900">\n                    ${this.sanitize(i)} ${this.sanitize(r.unit)}\n                  </span>\n                  <div style="clear: both"></div>\n                </div>\n                <div style="clear: both"></div>`})),t}},xAxis:{type:"time",boundaryGap:!1,max:"dataMax",min:e=>{const t=this.$store.getters["charts/getChartRetention"];return e.max-1e3*t},axisTick:{show:!1},splitLine:{show:!0,lineStyle:r},axisLabel:{interval:0,margin:14,color:l.textStyle.color,fontSize:a,formatter:"{H}:{mm}",rotate:this.isMobile?45:0},axisPointer:{label:{show:!0,margin:9,formatter:this.xAxisPointerFormatter}}},yAxis:this.config.axes.map(((e,t)=>({name:e.enabled&&e.showLegend?e.unit:void 0,nameTextStyle:{fontSize:a,color:s,align:["left","right"][t]},nameGap:8,show:!0,type:"value",position:["left","right"][t],splitLine:{show:!0,lineStyle:r},min:[void 0,""].includes(e.min)?void 0:e.min,max:[void 0,""].includes(e.max)?void 0:e.max,axisLabel:e.showLegend?{color:s,fontSize:a,formatter:"{value}"}:void 0}))),dataZoom:[{type:"inside",zoomOnMouseWheel:"shift"}],series:d};return u}sanitize(e){return e.toString().replace(/[^a-z0-9]/gi,(e=>`&#${e.charCodeAt(0)};`))}get series(){var e;const t=[];for(const[s,a]of Object.entries(this.config.axes))if(a.enabled)for(const r of a.metrics)t.push({name:r.name,unit:a.unit,displayLegend:r.style.displayLegend,type:"line",yAxisIndex:Number(s),showSymbol:!1,animation:!1,color:r.style.lineColor,emphasis:{lineStyle:{width:1.5}},lineStyle:{color:r.style.lineColor,type:r.style.lineStyle,width:1.5,opacity:1},areaStyle:{opacity:r.style.fillOpacity/100,color:null!==(e=r.style.fillColor)&&void 0!==e?e:r.style.lineColor},encode:{x:"date",y:r.collector}});return t}xAxisPointerFormatter(e){const t=this.$dayjs(e.value);return t.format("H:mm:ss")}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],Wc.prototype,"config",void 0),Wc=(0,p.gn)([(0,d.wA)({components:{AppChart:Hc["default"],CollapsableCard:jc["default"]}})],Wc);const zc=Wc,qc=zc;var Vc=(0,L.Z)(qc,Nc,Uc,!1,null,null,null);const Gc=Vc.exports;var Yc=s(80535),Kc=s(5157),Xc=s(58754),Jc=s(48491),Qc=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":800},on:{input:function(t){return e.$emit("input",t)}}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(""!==e.config.id?e.$t("app.general.title.edit_chart"):e.$t("app.general.title.add_chart")))])]),t(ps.Z),t(Yc.Z,{attrs:{"non-linear":"",flat:""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[t(Xc.Rp,[e._l(e.steps,(function(s,a){return[t(Jc.Z,{key:`step-${a}`,attrs:{step:a+1,editable:""}},[e._v(" "+e._s(s.name)+" ")]),a<e.steps.length-1?t(ps.Z,{key:a}):e._e()]}))],2),t(Xc.gd,e._l(e.steps,(function(s,a){return t(Kc.Z,{key:`${a}-content`,staticClass:"pa-0",attrs:{step:a+1}},[e.currentStep===a+1?t(s.component,{tag:"component",attrs:{config:e.config}}):e._e()],1)})),1)],1),t(ps.Z),t(N.h7,{staticClass:"pt-4"},[""!==e.config.id?t("app-btn",{attrs:{color:"error",text:""},on:{click:e.handleDelete}},[e._v(" "+e._s(e.$t("app.general.btn.remove"))+" ")]):e._e(),t(Ce.Z),t("app-btn",{attrs:{color:"warning",text:""},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),t("app-btn",{attrs:{color:"primary"},on:{click:e.handleSave}},[e._v(" "+e._s(""!==e.config.id?e.$t("app.general.btn.save"):e.$t("app.general.btn.add"))+" ")])],1)],1)],1)},ep=[],tp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("app-setting",{attrs:{title:e.$t("app.setting.label.title")}},[t(Ze.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:[e.rules.required]},model:{value:e.config.title,callback:function(t){e.$set(e.config,"title",t)},expression:"config.title"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.icon")}},[t(Pa.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.icons,value:e.config.icon},scopedSlots:e._u([{key:"item",fn:function({item:s}){return[t(g.Z,{attrs:{dense:"",color:"primary"}},[e._v(" $"+e._s(s.text)+" ")]),t("span",{staticClass:"ml-2"},[e._v(e._s(s.text))])]}},{key:"selection",fn:function({item:s}){return[t(g.Z,{attrs:{color:"primary"}},[e._v(" $"+e._s(s.text)+" ")]),t("span",{staticClass:"ml-2"},[e._v(e._s(s.text))])]}}])})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.height")}},[t(Ze.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",suffix:"px",rules:[e.rules.required,e.rules.min]},model:{value:e.config.height,callback:function(t){e.$set(e.config,"height",t)},expression:"config.height"}})],1)],1)},sp=[],ap=s(27228);let rp=class extends d.w3{constructor(){super(...arguments),this.rules={required:e=>void 0!==e&&""!==e||this.$t("app.general.simple_form.error.required"),min:e=>e>=1||this.$t("app.general.simple_form.error.min",{min:1})}}get icons(){const e=Object.keys(we.PJ);return e.sort().map((e=>({text:e,value:e})))}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],rp.prototype,"config",void 0),rp=(0,p.gn)([(0,d.wA)({components:{AppSetting:ap["default"]}})],rp);const ip=rp,np=ip;var op=(0,L.Z)(np,tp,sp,!1,null,null,null);const lp=op.exports;var cp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Yc.Z,{attrs:{"non-linear":"",flat:""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[t(Xc.Rp,[e._l(e.steps,(function(s,a){return[t(Jc.Z,{key:`step-${a}`,attrs:{step:a+1,editable:""}},[e._v(" "+e._s(s)+" ")]),a<e.steps.length-1?t(ps.Z,{key:a}):e._e()]}))],2),e._l(e.steps,(function(s,a){return t(Kc.Z,{key:`${a}-content`,staticClass:"pt-4",attrs:{step:a+1}},[e.currentStep===a+1?[t("app-setting",{attrs:{title:e.$t("app.setting.label.enable")}},[t(Sc.Z,{attrs:{"hide-details":""},model:{value:e.config.axes[a].enabled,callback:function(t){e.$set(e.config.axes[a],"enabled",t)},expression:"config.axes[i].enabled"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.show_legend")}},[t(Sc.Z,{attrs:{"hide-details":""},model:{value:e.config.axes[a].showLegend,callback:function(t){e.$set(e.config.axes[a],"showLegend",t)},expression:"config.axes[i].showLegend"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.unit")}},[t(Ze.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:[e.rules.required]},model:{value:e.config.axes[a].unit,callback:function(t){e.$set(e.config.axes[a],"unit",t)},expression:"config.axes[i].unit"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.min")}},[t(Ze.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",hint:e.$t("app.setting.label.optional"),rules:[e.rules.validNum],suffix:e.config.axes[a].unit},model:{value:e.config.axes[a].min,callback:function(t){e.$set(e.config.axes[a],"min",t)},expression:"config.axes[i].min"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.max")}},[t(Ze.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",hint:e.$t("app.setting.label.optional"),rules:[e.rules.validNum],suffix:e.config.axes[a].unit},model:{value:e.config.axes[a].max,callback:function(t){e.$set(e.config.axes[a],"max",t)},expression:"config.axes[i].max"}})],1)]:e._e()],2)}))],2)},pp=[];let dp=class extends d.w3{constructor(){super(...arguments),this.currentStep=1,this.steps=[this.$t("app.setting.label.left_y"),this.$t("app.setting.label.right_y")],this.rules={required:e=>void 0!==e&&""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>[void 0,""].includes(e)||!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number")}}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],dp.prototype,"config",void 0),dp=(0,p.gn)([(0,d.wA)({components:{AppSetting:ap["default"]}})],dp);const up=dp,mp=up;var hp=(0,L.Z)(mp,cp,pp,!1,null,"1b8d914a",null);const gp=hp.exports;var fp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(Yc.Z,{attrs:{"non-linear":"",flat:""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[t(Xc.Rp,[e._l(e.steps,(function(s,a){return[t(Jc.Z,{key:`step-${a}`,attrs:{step:a+1,editable:""}},[e._v(" "+e._s(s)+" "),t("small",[e._v(e._s(e.config.axes[a].unit))])]),a<e.steps.length-1?t(ps.Z,{key:a}):e._e()]}))],2),e._l(e.steps,(function(s,a){return t(Kc.Z,{key:`${a}-content`,staticClass:"pt-4",attrs:{step:a+1}},[e.currentStep===a+1?[t(Ti.Z,{attrs:{accordion:"",flat:""}},e._l(e.config.axes[a].metrics,(function(s,r){return t(Ei.Z,{key:`${r}-metric-${a}-axis`},[t(Di.Z,[e._v(" "+e._s(s.name)+" "),t(ps.Z,{staticClass:"ml-4"}),t(n.Z,{staticClass:"d-flex justify-center",attrs:{cols:"1"}},[t("app-btn",{attrs:{small:"",icon:"",color:""},on:{click:function(t){return t.stopPropagation(),e.removeMetric(a,r)}}},[t(g.Z,{attrs:{dense:""}},[e._v(" $delete ")])],1)],1)],1),t(Li.Z,[t("app-setting",{attrs:{title:e.$t("app.setting.label.name")}},[t(Ze.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:[e.rules.required]},model:{value:s.name,callback:function(t){e.$set(s,"name",t)},expression:"metric.name"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.line_color")}},[t("app-color-picker",{attrs:{primary:s.style.lineColor,title:s.name,dot:""},on:{change:function(t){return e.handleColorChange("lineColor",s,t)}}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.line_style")}},[t(Pa.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.lineStyles},model:{value:s.style.lineStyle,callback:function(t){e.$set(s.style,"lineStyle",t)},expression:"metric.style.lineStyle"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.fill_color")}},[t("app-color-picker",{attrs:{primary:s.style.fillColor??s.style.lineColor,title:s.name,dot:""},on:{change:function(t){return e.handleColorChange("fillColor",s,t)}}})],1),t(ps.Z),t("app-slider",{staticClass:"px-4 py-3",attrs:{label:e.$t("app.setting.label.fill_opacity"),min:0,max:100,suffix:"%"},model:{value:s.style.fillOpacity,callback:function(t){e.$set(s.style,"fillOpacity",t)},expression:"metric.style.fillOpacity"}}),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.show_legend")}},[t(Sc.Z,{attrs:{"hide-details":""},model:{value:s.style.displayLegend,callback:function(t){e.$set(s.style,"displayLegend",t)},expression:"metric.style.displayLegend"}})],1),t(ps.Z),t("metrics-collector-config",{staticClass:"mt-3",attrs:{metric:s,unit:e.config.axes[a].unit}})],1)],1)})),1),t(ps.Z,{staticClass:"mt-4"}),t(o.Z,{staticClass:"pa-2 mt-2"},[t(Ce.Z),t("app-btn",{attrs:{small:""},on:{click:function(t){return e.addMetric(a)}}},[t(g.Z,{attrs:{small:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_metric"))+" ")],1)],1)]:e._e()],2)}))],2)},vp=[],_p=s(92648),yp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(be.Z,{attrs:{outlined:""}},[t(_p.Z,{ref:"textarea",staticClass:"px-4",attrs:{label:e.$t("app.setting.label.collector"),spellcheck:"false","auto-grow":"","hide-details":"auto"},scopedSlots:e._u([{key:"append",fn:function(){return[t("app-btn",{attrs:{icon:"",small:"",color:"secondary",title:e.$t("app.general.tooltip.browse_metrics")},on:{click:function(t){e.browserOpen=!0}}},[t(g.Z,[e._v(" $magnify ")])],1),t("app-btn",{attrs:{icon:"",small:"",color:"primary",title:e.$t("app.general.tooltip.run_collector")},on:{click:e.runCollector}},[t(g.Z,[e._v(" $play ")])],1)]},proxy:!0}]),model:{value:e.metric.collector,callback:function(t){e.$set(e.metric,"collector",t)},expression:"metric.collector"}}),t("app-setting",{attrs:{title:e.$t("app.setting.label.last_result")}},[t(Ze.Z,{ref:"result",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",disabled:"",suffix:e.unit,value:e.result}})],1),e.browserOpen?t(It.Z,{attrs:{value:e.browserOpen,"max-width":1200,scrollable:""},on:{input:function(t){e.browserOpen=!1}}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.general.title.metrics_explorer")))]),t(Ce.Z),t("app-btn",{attrs:{color:"",icon:""},on:{click:function(t){e.browserOpen=!1}}},[t(g.Z,[e._v("$close")])],1)],1),t(ps.Z),t(N.ZB,[t("state-explorer",{on:{input:e.handleExplorerClick}})],1)],1)],1):e._e()],1)},bp=[],xp=(s(21703),s(64246)),$p=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("json-viewer",{staticClass:"py-4",class:e.$vuetify.theme.isDark?"jv-dark":"",attrs:{value:e.state,"expand-depth":2,sort:""},on:{keyclick:e.handleClick}})},wp=[],Sp=s(90699),kp=s.n(Sp);let Cp=class extends((0,d.Wr)(u.Z)){get state(){return{printer:this.$store.state.printer.printer}}handleClick(e){const t=e.replace("$.","").replace(/\.(\w*[^\w\S.]+\w*)/g,((e,t)=>isNaN(t)?`['${t}']`:`[${t}]`));this.$emit("input",t)}};Cp=(0,p.gn)([(0,d.wA)({components:{JsonViewer:kp()}})],Cp);const Zp=Cp,Pp=Zp;var Ap=(0,L.Z)(Pp,$p,wp,!1,null,null,null);const Rp=Ap.exports;let Ep=class extends d.w3{constructor(){super(...arguments),this.result="-",this.browserOpen=!1}runCollector(){var e;let t;try{if(t=(0,xp.Z)(`\n        const printer = ${JSON.stringify(this.$store.state.printer.printer)}\n        return JSON.stringify(eval(${JSON.stringify(this.metric.collector)}))\n      `),"string"!==typeof t)throw new Error("Metrics collector returned invalid data");t=JSON.parse(t)}catch(s){t=null!==(e=null===s||void 0===s?void 0:s.message)&&void 0!==e?e:"Unknown Error"}"number"===typeof t&&(t=Math.round(1e3*t)/1e3),this.result=t}handleExplorerClick(e){this.browserOpen=!1;const t=this.textArea.$el.querySelector("textarea"),s=t.selectionStart,a=t.selectionEnd;this.metric.collector=this.metric.collector.substring(0,s)+e+this.metric.collector.substring(a)}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],Ep.prototype,"metric",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],Ep.prototype,"unit",void 0),(0,p.gn)([(0,d.Rl)("textarea")],Ep.prototype,"textArea",void 0),Ep=(0,p.gn)([(0,d.wA)({components:{StateExplorer:Rp,AppSetting:ap["default"]}})],Ep);const Lp=Ep,Dp=Lp;var Tp=(0,L.Z)(Dp,yp,bp,!1,null,null,null);const Mp=Tp.exports;var Op=s(36212);let Ip=class extends d.w3{constructor(){super(...arguments),this.currentStep=1,this.steps=[this.$t("app.setting.label.left_y"),this.$t("app.setting.label.right_y")],this.lineStyles=[{text:this.$t("app.setting.label.solid"),value:"solid"},{text:this.$t("app.setting.label.dotted"),value:"dotted"},{text:this.$t("app.setting.label.dashed"),value:"dashed"}],this.rules={required:e=>void 0!==e&&""!==e||this.$t("app.general.simple_form.error.required")}}handleColorChange(e,t,s){t.style[e]=s.color.hexString}addMetric(e){const t=(0,Op.W2)().layouts.diagnostics.container1[0],s=t.axes[0].metrics[0];this.config.axes[e].metrics.push(s)}removeMetric(e,t){this.config.axes[e].metrics.splice(t,1)}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],Ip.prototype,"config",void 0),Ip=(0,p.gn)([(0,d.wA)({components:{AppSetting:ap["default"],MetricsCollectorConfig:Mp}})],Ip);const Fp=Ip,Bp=Fp;var Np=(0,L.Z)(Bp,fp,vp,!1,null,"6537fb2c",null);const Up=Np.exports;let jp=class extends d.w3{constructor(){super(...arguments),this.currentStep=1,this.steps=[{name:this.$t("app.setting.label.card"),component:lp},{name:this.$t("app.setting.label.axes"),component:gp},{name:this.$t("app.setting.label.metrics"),component:Up}]}handleSave(){this.$emit("save",this.config),this.$emit("input",!1)}handleDelete(){this.$emit("delete",this.config.id),this.$emit("input",!1)}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],jp.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Object,required:!0})],jp.prototype,"config",void 0),jp=(0,p.gn)([(0,d.wA)({})],jp);const Hp=jp,Wp=Hp;var zp=(0,L.Z)(Wp,Qc,ep,!1,null,"7e4b9aa6",null);const qp=zp.exports;let Vp=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.dialogState={active:!1,card:null},this.drag=!1,this.containers=[]}mounted(){this.onLayoutChange()}handleAddCard(){const e=JSON.parse(JSON.stringify((0,Op.W2)().layouts.diagnostics.container1[0]));e.id="",this.dialogState.card=e,this.dialogState.active=!0}handleEditCard(e){this.dialogState.card=JSON.parse(JSON.stringify(e)),this.dialogState.active=!0}handleDeleteCard(e){for(const t of Object.values(this.layout)){const s=t.findIndex((t=>t.id===e));if(s>-1){t.splice(s,1);break}}this.updateLayout()}handleSaveCard(e){if(""===e.id)e.id=(0,Bc.Z)(),this.layout.container1.push(e);else for(const t of Object.values(this.layout)){const s=t.findIndex((t=>t.id===e.id));if(s>-1){t[s]=e;break}}this.updateLayout()}get columnCount(){return this.inLayout?4:this.containers.reduce(((e,t)=>+this.hasCards(t)+e),0)}get columnSpan(){return 12/this.columnCount}get inLayout(){return this.$store.state.config.layoutMode}get layout(){return this.$store.getters["layout/getLayout"]("diagnostics")}onLayoutChange(){const e=Object.values(this.layout);while(e.length<4)e.push([]);this.containers=e.slice(0,4)}get dragOptions(){return{animation:200,handle:".handle",group:"diagnostics",disabled:!this.inLayout,ghostClass:"ghost"}}updateLayout(){this.drag=!1,this.$store.dispatch("layout/onLayoutChange",{name:"diagnostics",value:{container1:this.containers[0],container2:this.containers[1],container3:this.containers[2],container4:this.containers[3]}})}hasCards(e){return e.some((e=>e.enabled))}};(0,p.gn)([(0,d.RL)("layout",{deep:!0})],Vp.prototype,"onLayoutChange",null),Vp=(0,p.gn)([(0,d.wA)({components:{draggable:h(),CollapsableCard:jc["default"],DiagnosticsCard:Gc,DiagnosticsCardConfigDialog:qp}})],Vp);const Gp=Vp,Yp=Gp;var Kp=(0,L.Z)(Yp,Ic,Fc,!1,null,"062d3ce0",null);const Xp=Kp.exports;var Jp=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[t(n.Z,{attrs:{cols:"12"}},[t("printer-stats-card",{staticClass:"mb-2 mb-sm-4"}),t("printer-history-card")],1)],1)},Qp=[],ed=s(16441),td=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.stats"),icon:"$chart"},scopedSlots:e._u([{key:"menu",fn:function(){return[t("app-btn-collapse-group",{attrs:{collapsed:e.menuCollapsed}},[t("app-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:e.handleResetStats}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $delete ")]),t("span",[e._v(e._s(e.$t("app.general.btn.reset_stats")))])],1)],1)]},proxy:!0}])},[t(N.ZB,[e.supportsHistoryComponent?t(o.Z,[t(n.Z,{attrs:{cols:"3"}},[t(be.Z,{staticClass:"px-2 py-1 text-center stat-square",attrs:{outlined:""}},[t("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_jobs"))+" ")]),t("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.rollup.total_jobs)+" ")]),t("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.longest_job"))+" ")]),t("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.formatCounterTime(e.rollup.longest_job))+" ")])])],1),t(n.Z,{attrs:{cols:"3"}},[t(be.Z,{staticClass:"px-2 py-1 text-center stat-square",attrs:{outlined:""}},[t("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_time"))+" ")]),t("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.formatCounterTime(e.rollup.total_time))+" ")]),t("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_time_avg"))+" ")]),t("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.formatCounterTime(e.rollup.total_avg))+" ")])])],1),t(n.Z,{attrs:{cols:"3"}},[t(be.Z,{staticClass:"px-2 py-1 text-center stat-square",attrs:{outlined:""}},[t("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_print_time"))+" ")]),t("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.formatCounterTime(e.rollup.total_print_time))+" ")]),t("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_print_time_avg"))+" ")]),t("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.formatCounterTime(e.rollup.print_avg))+" ")])])],1),t(n.Z,{attrs:{cols:"3"}},[t(be.Z,{staticClass:"px-2 py-1 text-center stat-square",attrs:{outlined:""}},[t("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_filament"))+" ")]),t("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.getReadableLengthString(e.rollup.total_filament_used))+" ")]),t("div",{staticClass:"secondary--text"},[e._v(" "+e._s(e.$t("app.general.label.total_filament_avg"))+" ")]),t("div",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.getReadableLengthString(e.rollup.filament_avg))+" ")])])],1)],1):e._e()],1)],1)},sd=[],ad=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",{staticClass:"file-system"},[t(Pe.Z,{attrs:{dense:""}},[t(Ce.Z),t("div",{staticClass:"mr-1",staticStyle:{"max-width":"160px"}},[t(Ze.Z,{attrs:{outlined:"",dense:"","single-line":"","hide-details":"","append-icon":"$magnify"},on:{keyup:function(t){return e.$emit("update:search",e.search)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),e.headers?t("app-column-picker",{attrs:{"key-name":"history",headers:e.headers}}):e._e()],1),t(re.Z,{attrs:{items:e.history,headers:e.visibleHeaders,"items-per-page":15,"item-class":e.getRowClasses,"single-expand":!0,search:e.search,expanded:e.expanded,"mobile-breakpoint":"0","item-key":"job_id","sort-by":"start_time","sort-desc":""},scopedSlots:e._u([{key:"expanded-item",fn:function({headers:s,item:a}){return[t("td",{staticClass:"pa-4",attrs:{colspan:s.length}},[t("div",{staticClass:"chip-group"},[e._l(Object.keys(a.metadata),(function(s,r){return["thumbnails"!==s?t(Ri.Z,{key:r,attrs:{small:""}},[e._v(" "+e._s(s)+": "+e._s(a.metadata[s])+" ")]):e._e()]}))],2)])]}},{key:"item.data-table-icons",fn:function({item:s}){return[s.exists?e._e():t(g.Z,{staticClass:"mr-2",attrs:{color:"secondary"}},[e._v(" $fileCancel ")]),s.exists&&!s.metadata.thumbnails?t(g.Z,{staticClass:"mr-2"},[e._v(" $fileDocument ")]):e._e(),s.exists&&s.metadata.thumbnails&&s.metadata.thumbnails.length?t("img",{staticClass:"mr-2 file-icon-thumb",attrs:{src:e.getThumbUrl(s.metadata.thumbnails,e.getFilePaths(s.filename).path,!1,s.metadata.modified),width:24}}):e._e()]}},{key:"item.filename",fn:function({item:s}){return[t("span",{},[e._v(" "+e._s(e.getFilePaths(s.filename).filename)+" ")])]}},{key:"item.status",fn:function({item:e}){return[t("job-history-item-status",{attrs:{job:e}})]}},{key:"item.start_time",fn:function({item:s}){return[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.formatDateTime(s.start_time,e.$store.state.config.uiSettings.general.dateformat+" YYYY - "+e.$store.state.config.uiSettings.general.timeformat))+" ")])]}},{key:"item.end_time",fn:function({item:s}){return["in_progress"!==s.status?t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.formatDateTime(s.end_time,e.$store.state.config.uiSettings.general.dateformat+" YYYY - "+e.$store.state.config.uiSettings.general.timeformat))+" ")]):t("span",[e._v("--")])]}},{key:"item.print_duration",fn:function({item:s}){return[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.formatCounterTime(s.print_duration))+" ")])]}},{key:"item.total_duration",fn:function({item:s}){return[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.formatCounterTime(s.total_duration))+" ")])]}},{key:"item.filament_used",fn:function({item:s}){return[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.getReadableLengthString(s.filament_used))+" ")])]}},{key:"item.metadata.size",fn:function({item:s}){return[t("span",{staticClass:"text-no-wrap"},[e._v(" "+e._s(e.$filters.getReadableFileSizeString(s.metadata.size))+" ")])]}},{key:"item.actions",fn:function({item:s}){return[t("div",{staticClass:"text-no-wrap"},[t(ke.Z,{attrs:{icon:"",small:""},on:{click:function(t){return e.handleRemoveJob(s)}}},[t(g.Z,{attrs:{small:"",color:""}},[e._v(" $delete ")])],1),t(ke.Z,{staticClass:"v-data-table__expand-icon",class:{"v-data-table__expand-icon--active":e.isExpanded(s)},attrs:{color:"",icon:"",small:""},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.toggleRowExpand(s)}}},[t(g.Z,[e._v("$chevronDown")])],1)],1)]}}],null,!0)})],1)},rd=[];let id=class extends((0,d.Wr)(P.Z)){constructor(){super(...arguments),this.expanded=[],this.search=""}get headers(){const e=[{text:"",value:"data-table-icons",sortable:!1,width:"24px"},{text:this.$tc("app.general.table.header.name"),value:"filename"},{text:this.$tc("app.general.table.header.status"),value:"status",configurable:!0},{text:this.$tc("app.general.table.header.start_time"),value:"start_time",configurable:!0},{text:this.$tc("app.general.table.header.end_time"),value:"end_time",configurable:!0},{text:this.$tc("app.general.table.header.print_duration"),value:"print_duration",configurable:!0},{text:this.$tc("app.general.table.header.total_duration"),value:"total_duration",configurable:!0},{text:this.$tc("app.general.table.header.filament_used"),value:"filament_used",configurable:!0},{text:this.$t("app.general.table.header.size"),value:"metadata.size",width:"1%",configurable:!0},{text:this.$tc("app.general.table.header.actions"),value:"actions",sortable:!1,align:"end"}],t="history";return this.$store.getters["config/getMergedTableHeaders"](e,t)}get visibleHeaders(){return this.headers.filter((e=>e.visible||void 0===e.visible))}get history(){return this.$store.getters["history/getHistory"]}getRowClasses(e){return e.exists?"":"v-data-table__inactive"}getFilePaths(e){return(0,oe.Z)(e,"gcodes")}getFilename(e){return e.split("/").pop()||""}handleRemoveJob(e){$.r.serverHistoryDeleteJob(e.job_id)}isExpanded(e){if(this.expanded.length<=0)return!1;const t=this.expanded[0];return e.job_id===t.job_id}toggleRowExpand(e){this.isExpanded(e)?this.expanded=[]:this.expanded=[e]}};id=(0,p.gn)([(0,d.wA)({components:{JobHistoryItemStatus:T}})],id);const nd=id,od=nd;var ld=(0,L.Z)(od,ad,rd,!1,null,null,null);const cd=ld.exports;let pd=class extends d.w3{get rollup(){return this.$store.getters["history/getRollUp"]}get fileSystemUsedPercent(){const e=this.fileSystemUsage.total,t=this.fileSystemUsage.used;return Math.floor(t/e*100).toFixed()}get fileSystemUsage(){return this.$store.getters["files/getUsage"]}get appInfo(){return{fluidd:this.$store.state.version.fluidd,moonraker:this.$store.state.version.components.moonraker||{},klipper:this.$store.state.version.components.klipper||{}}}get supportsHistoryComponent(){return this.$store.getters["server/componentSupport"]("history")}handleResetStats(){this.$confirm(this.$tc("app.history.msg.confirm_stats"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{e&&$.r.serverHistoryResetTotals()}))}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],pd.prototype,"menuCollapsed",void 0),pd=(0,p.gn)([(0,d.wA)({components:{JobHistory:cd}})],pd);const dd=pd,ud=dd;var md=(0,L.Z)(ud,td,sd,!1,null,"096546c2",null);const hd=md.exports;var gd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.history"),icon:"$history"},scopedSlots:e._u([{key:"menu",fn:function(){return[t("app-btn-collapse-group",{attrs:{collapsed:e.menuCollapsed}},[t("app-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:e.handleLoadAll}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $download ")]),t("span",[e._v(e._s(e.$t("app.general.btn.load_all")))])],1),t("app-btn",{staticClass:"ma-1",attrs:{small:""},on:{click:e.handleRemoveAll}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $delete ")]),t("span",[e._v(e._s(e.$t("app.general.btn.remove_all")))])],1)],1)]},proxy:!0}])},[t("job-history")],1)},fd=[];let vd=class extends d.w3{handleRemoveAll(){this.$confirm(this.$tc("app.history.msg.confirm_jobs"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((e=>{e&&$.r.serverHistoryDeleteJob("all")}))}handleLoadAll(){$.r.serverHistoryList({limit:0})}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],vd.prototype,"menuCollapsed",void 0),vd=(0,p.gn)([(0,d.wA)({components:{JobHistory:cd}})],vd);const _d=vd,yd=_d;var bd=(0,L.Z)(yd,gd,fd,!1,null,null,null);const xd=bd.exports;let $d=class extends((0,d.Wr)(u.Z)){get breakpoint(){return this.$vuetify.breakpoint.mdAndDown?12:6}get supportsHistory(){return this.$store.getters["server/componentSupport"]("history")}};$d=(0,p.gn)([(0,d.wA)({components:{FileSystem:sa,SystemControl:ed["default"],PrinterStatsCard:hd,PrinterHistoryCard:xd}})],$d);const wd=$d,Sd=wd;var kd=(0,L.Z)(Sd,Jp,Qp,!1,null,null,null);const Cd=kd.exports;var Zd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[t(n.Z,{attrs:{cols:"12",md:"8"}},[t("collapsable-card",{attrs:{title:e.$t("app.general.title.timelapse"),icon:"$video",draggable:!1}},[t("file-system",{attrs:{roots:"timelapse",name:"timelapse","bulk-actions":"","max-height":816}})],1)],1),t(n.Z,{attrs:{cols:"12",md:"4"}},[t("timelapse-status-card",{on:{openRenderDialog:e.openRenderDialog}}),t("timelapse-settings-card",{on:{openRenderDialog:e.openRenderDialog}})],1),e.renderDialogOpen?t("timelapse-render-settings-dialog",{attrs:{renderable:e.renderDialogRenderable},model:{value:e.renderDialogOpen,callback:function(t){e.renderDialogOpen=t},expression:"renderDialogOpen"}}):e._e()],1)},Pd=[],Ad=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{staticClass:"mb-2 sb-sm-4",attrs:{title:e.$t("app.timelapse.title.timelapse_status"),icon:"$info",draggable:!1}},[t(N.ZB,[t(o.Z,[e.frameCount?t("div",{staticStyle:{position:"relative"}},[t("img",{staticClass:"mx-auto thumbnail",style:{filter:e.isRendering?`saturate(${e.renderStatus.progress}%)`:"none"},attrs:{src:e.previewUrl}}),e.isRendering?t(U.Z,{staticClass:"render-progress",attrs:{color:"primary",size:"64",value:e.renderStatus.progress}}):e._e()],1):t("camera-item",{attrs:{camera:e.camera}})],1),t(o.Z,[t(n.Z,{attrs:{cols:"12"}},[t(z.Z,{attrs:{"justify-center":""}},[t("app-slider",{attrs:{"full-width":"",label:e.$tc("app.timelapse.label.frame"),min:1,max:e.frameCount,suffix:`/ ${e.frameCount}`,"reset-value":e.frameCount,disabled:!e.frameCount||e.isRendering},model:{value:e.selectedFrame,callback:function(t){e.selectedFrame=t},expression:"selectedFrame"}})],1)],1)],1)],1),t(ps.Z),t(N.h7,[t(Ce.Z),t("app-btn",{attrs:{color:"primary",text:"",disabled:!e.frameCount||e.savingFrames},on:{click:function(t){return e.saveFrames()}}},[e._v(" "+e._s(e.$t("app.timelapse.btn.save_frames"))+" ")]),t("app-btn",{attrs:{color:"primary",disabled:!e.frameCount||e.isRendering},on:{click:function(t){return e.$emit("openRenderDialog",!0)}}},[e._v(" "+e._s(e.$t("app.timelapse.btn.render"))+" ")])],1)],1)},Rd=[],Ed=s(93468),Ld=s(38062);let Dd=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.selectedFrameNumber=0}saveFrames(){$.r.machineTimelapseSaveFrames(this.waits.onTimelapseSaveFrame)}get savingFrames(){return this.hasWait(this.waits.onTimelapseSaveFrame)}get selectedFrame(){return this.selectedFrameNumber||this.frameCount||0}set selectedFrame(e){this.selectedFrameNumber=e===this.frameCount?0:e}get previewUrl(){var e,t,s;const a=new URL(null!==(e=this.apiUrl)&&void 0!==e?e:document.location.origin);if(this.lastFrame&&(null===(t=this.lastFrame)||void 0===t?void 0:t.file)){{let e=null===(s=this.lastFrame)||void 0===s?void 0:s.file;if(this.selectedFrame){const[t]=null===e||void 0===e?void 0:e.split(".").slice(-1);e=`frame${this.selectedFrame.toString().padStart(6,"0")}.${t}`}a.pathname=`/server/files/timelapse_frames/${e}`}return a.toString()}}get isRendering(){return this.renderStatus&&"success"!==this.renderStatus.status}get frameCount(){var e;return null===(e=this.lastFrame)||void 0===e?void 0:e.uniqueCount}get camera(){var e;return null!==(e=this.$store.getters["cameras/getCameraById"](this.settings.camera))&&void 0!==e?e:{url:"/webcam/?action=snapshot",type:"mjpegstreamer-adaptive"}}get settings(){return this.$store.getters["timelapse/getSettings"]}get lastFrame(){return this.$store.getters["timelapse/getLastFrame"]}get renderStatus(){return this.$store.getters["timelapse/getRenderStatus"]}get apiUrl(){return this.$store.state.config.apiUrl}};Dd=(0,p.gn)([(0,d.wA)({components:{CameraItem:gi,AppBtn:Ld["default"],AppSetting:ap["default"],AppSlider:Ed["default"],CollapsableCard:jc["default"],FileSystem:sa}})],Dd);const Td=Dd,Md=Td;var Od=(0,L.Z)(Md,Ad,Rd,!1,null,"16e129b1",null);const Id=Od.exports;var Fd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.timelapse.title.timelapse_settings"),icon:"$cog",draggable:!1}},[t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.enable"),"sub-title":e.subtitleIfBlocked(e.enabledBlocked),"r-cols":2}},[t(Sc.Z,{attrs:{"hide-details":"",disabled:e.enabledBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.enabled,callback:function(t){e.enabled=t},expression:"enabled"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.auto_render"),"sub-title":e.subtitleIfBlocked(e.autoRenderBlocked),"r-cols":2}},[t(Sc.Z,{attrs:{"hide-details":"",disabled:e.autoRenderBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.autoRender,callback:function(t){e.autoRender=t},expression:"autoRender"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$tc("app.timelapse.title.render_settings")}},[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:function(t){return e.$emit("openRenderDialog",!1)}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $pencil ")]),e._v(" "+e._s(e.$t("app.general.btn.edit"))+" ")],1)],1)],1)},Bd=[];let Nd=class extends((0,d.Wr)(u.Z)){get enabledBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("enabled")}get enabled(){var e;return null===(e=this.settings)||void 0===e?void 0:e.enabled}set enabled(e){$.r.machineTimelapseSetSettings({enabled:e})}get autoRenderBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("autorender")}get autoRender(){var e;return null===(e=this.settings)||void 0===e?void 0:e.autorender}set autoRender(e){$.r.machineTimelapseSetSettings({autorender:e})}get frameCount(){var e;return null===(e=this.$store.getters["timelapse/getLastFrame"])||void 0===e?void 0:e.count}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.general.tooltip.managed_by_moonraker"):""}};Nd=(0,p.gn)([(0,d.wA)({components:{AppSetting:ap["default"]}})],Nd);const Ud=Nd,jd=Ud;var Hd=(0,L.Z)(jd,Fd,Bd,!1,null,null,null);const Wd=Hd.exports;var zd=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":640},on:{input:function(t){return e.$emit("input",t)}}},[e.value?t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.timelapse.title.render_settings")))]),t(Ce.Z),t("app-btn",{attrs:{color:"",icon:""},on:{click:function(t){return e.$emit("input",!1)}}},[t(g.Z,[e._v("$close")])],1)],1),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.variable_fps"),"sub-title":e.subtitleIfBlocked(e.variableFpsBlocked)}},[t(Sc.Z,{attrs:{"hide-details":"",disabled:e.variableFpsBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.variableFps,callback:function(t){e.variableFps=t},expression:"variableFps"}})],1),t(ps.Z),e.variableFps?t("div",[t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.targetlength"),"sub-title":e.subtitleIfBlocked(e.targetLengthBlocked)}},[t(Ze.Z,{ref:"targetLengthElement",attrs:{value:e.targetLength,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.targetLengthBlocked,"hide-details":!e.targetLengthElement||e.targetLengthElement.valid,filled:"",dense:"","single-line":"",suffix:"s"},on:{change:e.setTargetLength}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.variable_fps_min"),"sub-title":e.subtitleIfBlocked(e.minFpsBlocked)}},[t(Ze.Z,{ref:"minFpsElement",attrs:{value:e.minFps,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.minFpsBlocked,"hide-details":!e.minFpsElement||e.minFpsElement.valid,filled:"",dense:"","single-line":"",suffix:"fps"},on:{change:e.setMinFps}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.variable_fps_max"),"sub-title":e.subtitleIfBlocked(e.maxFpsBlocked)}},[t(Ze.Z,{ref:"maxFpsElement",attrs:{value:e.maxFps,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.maxFpsBlocked,"hide-details":!e.maxFpsElement||e.maxFpsElement.valid,filled:"",dense:"","single-line":"",suffix:"fps"},on:{change:e.setMaxFps}})],1)],1):t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.output_framerate"),"sub-title":e.subtitleIfBlocked(e.outputFramerateBlocked)}},[t(Ze.Z,{ref:"outputFramerateElement",attrs:{value:e.outputFramerate,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.outputFramerateBlocked,"hide-details":!e.outputFramerateElement||e.outputFramerateElement.valid,filled:"",dense:"","single-line":"",suffix:"fps"},on:{change:e.setOutputFramerate}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.saveframes"),"sub-title":e.subtitleIfBlocked(e.saveFramesBlocked)}},[t(Sc.Z,{attrs:{"hide-details":"",disabled:e.saveFramesBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.saveFrames,callback:function(t){e.saveFrames=t},expression:"saveFrames"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.duplicatelastframe"),"sub-title":e.subtitleIfBlocked(e.duplicateFramesBlocked)}},[t(Ze.Z,{ref:"duplicateFramesElement",attrs:{value:e.duplicateFrames,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.duplicateFramesBlocked,"hide-details":!e.duplicateFramesElement||e.duplicateFramesElement.valid,filled:"",dense:"","single-line":"",suffix:e.$tc("app.timelapse.label.frame",e.duplicateFrames)},on:{change:e.setDuplicateFrames}})],1),t(ps.Z),t("app-slider",{staticClass:"px-4 pt-3",staticStyle:{overflow:"hidden"},attrs:{value:e.crf,label:e.$tc("app.timelapse.setting.crf"),min:0,max:51,"reset-value":e.defaultCRF,disabled:e.crfBlocked},on:{change:e.setCRF}}),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.previewimage"),"sub-title":e.subtitleIfBlocked(e.previewImageBlocked)}},[t(Sc.Z,{attrs:{"hide-details":"",disabled:e.previewImageBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.previewImage,callback:function(t){e.previewImage=t},expression:"previewImage"}})],1),e.renderable?t(ps.Z):e._e(),e.renderable?t(N.h7,{staticClass:"pt-4"},[t(Ce.Z),t(k.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t("app-btn",e._g(e._b({attrs:{color:"primary"},on:{click:e.renderTimelapse}},"app-btn",a,!1),s),[t(g.Z,[e._v("$play")]),e._v(" "+e._s(e.$t("app.timelapse.btn.render"))+" ")],1)]}}],null,!1,2581426424)},[t("span",[e._v(e._s(e.$t("app.timelapse.label.length",{length:e.lengthEstimate})))])])],1):e._e()],1):e._e()],1)},qd=[],Vd=s(70019);let Gd=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>e>=0||this.$t("app.general.simple_form.error.min",{min:0})}}get lengthEstimate(){const e=this.frameCount+this.duplicateLastFrameCount;let t;t=this.settings.variable_fps?Math.min(this.settings.variable_fps_max,Math.max(this.settings.variable_fps_min,e/this.settings.targetlength)):this.settings.output_framerate;const s=(e||0)/t,a=Math.floor(s/60);return`${a?a+"m":""} ${Math.floor(s%60)}s`.trim()}get outputFramerateBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("output_framerate")}get outputFramerate(){var e;return null===(e=this.settings)||void 0===e?void 0:e.output_framerate}setOutputFramerate(e){var t;(null===(t=this.outputFramerateElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({output_framerate:e})}get variableFpsBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("variable_fps")}get variableFps(){var e;return null===(e=this.settings)||void 0===e?void 0:e.variable_fps}set variableFps(e){$.r.machineTimelapseSetSettings({variable_fps:e})}get targetLengthBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("targetlength")}get targetLength(){var e;return null===(e=this.settings)||void 0===e?void 0:e.targetlength}setTargetLength(e){var t;(null===(t=this.targetLengthElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({targetlength:e})}get minFpsBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("variable_fps_min")}get minFps(){var e;return null===(e=this.settings)||void 0===e?void 0:e.variable_fps_min}setMinFps(e){var t;(null===(t=this.minFpsElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({variable_fps_min:e})}get maxFpsBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("variable_fps_max")}get maxFps(){var e;return null===(e=this.settings)||void 0===e?void 0:e.variable_fps_max}setMaxFps(e){var t;(null===(t=this.maxFpsElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({variable_fps_max:e})}get duplicateFramesBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("duplicatelastframe")}get duplicateFrames(){var e;return null===(e=this.settings)||void 0===e?void 0:e.duplicatelastframe}setDuplicateFrames(e){var t;(null===(t=this.duplicateFramesElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({duplicatelastframe:e})}get saveFramesBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("saveframes")}get saveFrames(){var e;return null===(e=this.settings)||void 0===e?void 0:e.saveframes}set saveFrames(e){$.r.machineTimelapseSetSettings({saveframes:e})}get previewImageBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("previewimage")}get previewImage(){var e;return null===(e=this.settings)||void 0===e?void 0:e.previewimage}set previewImage(e){$.r.machineTimelapseSetSettings({previewimage:e})}renderTimelapse(){$.r.machineTimelapseRender(),this.$emit("input",!1)}get frameCount(){var e,t;return null!==(t=null===(e=this.lastFrame)||void 0===e?void 0:e.count)&&void 0!==t?t:0}get duplicateLastFrameCount(){var e,t;return null!==(t=null===(e=this.settings)||void 0===e?void 0:e.duplicatelastframe)&&void 0!==t?t:0}get crfBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("constant_rate_factor")}get crf(){var e;return null===(e=this.settings)||void 0===e?void 0:e.constant_rate_factor}setCRF(e){$.r.machineTimelapseSetSettings({constant_rate_factor:e})}get defaultCRF(){return Vd.Ao.constant_rate_factor}get settings(){return this.$store.getters["timelapse/getSettings"]}get lastFrame(){return this.$store.getters["timelapse/getLastFrame"]}subtitleIfBlocked(e){return e?this.$tc("app.general.tooltip.managed_by_moonraker"):""}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],Gd.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],Gd.prototype,"renderable",void 0),(0,p.gn)([(0,d.Rl)("outputFramerateElement")],Gd.prototype,"outputFramerateElement",void 0),(0,p.gn)([(0,d.Rl)("targetLengthElement")],Gd.prototype,"targetLengthElement",void 0),(0,p.gn)([(0,d.Rl)("minFpsElement")],Gd.prototype,"minFpsElement",void 0),(0,p.gn)([(0,d.Rl)("maxFpsElement")],Gd.prototype,"maxFpsElement",void 0),(0,p.gn)([(0,d.Rl)("duplicateFramesElement")],Gd.prototype,"duplicateFramesElement",void 0),Gd=(0,p.gn)([(0,d.wA)({components:{AppSetting:ap["default"]}})],Gd);const Yd=Gd,Kd=Yd;var Xd=(0,L.Z)(Kd,zd,qd,!1,null,null,null);const Jd=Xd.exports;let Qd=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.renderDialogOpen=!1,this.renderDialogRenderable=!1}openRenderDialog(e=!1){this.renderDialogRenderable=e,this.renderDialogOpen=!0}};Qd=(0,p.gn)([(0,d.wA)({components:{TimelapseRenderSettingsDialog:Jd,CollapsableCard:jc["default"],FileSystem:sa,TimelapseStatusCard:Id,TimelapseSettingsCard:Wd}})],Qd);const eu=Qd,tu=eu;var su=(0,L.Z)(tu,Zd,Pd,!1,null,null,null);const au=su.exports;var ru=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[t(n.Z,{attrs:{cols:"12",md:"6"}},[t("collapsable-card",{attrs:{title:e.$t("app.general.title.config_files"),icon:"$codeJson",draggable:!1}},[t("file-system",{attrs:{roots:["config"],"max-height":816,name:"configure"}})],1)],1),t(n.Z,{attrs:{cols:"12",md:"6"}},[t("collapsable-card",{attrs:{title:e.$t("app.general.title.other_files"),icon:"$files",draggable:!1}},[t("file-system",{attrs:{roots:["logs","docs","config_examples"],"max-height":816,name:"configure"}})],1)],1)],1)},iu=[],nu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.general.title.system_overview"),icon:"$desktopTower"}},[t(o.Z,{attrs:{"no-gutters":""}},[t(n.Z,[t(Lr.Z,{attrs:{dense:""}},[t("tbody",[t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.hostname")))]),t("td",[e._v(e._s(e.printerInfo.hostname))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.model")))]),t("td",[e._v(e._s(e.cpuInfo.model))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.cpu_desc")))]),t("td",[e._v(e._s(e.cpuInfo.cpu_desc))])]),e.cpuInfo.total_memory?t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.total_memory")))]),t("td",[e._v(e._s(e.$filters.getReadableFileSizeString(1e3*e.cpuInfo.total_memory)))])]):e._e(),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.hardware_desc")))]),t("td",[e._v(e._s(e.cpuInfo.hardware_desc))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.processor_desc")))]),t("td",[e._v(e._s(e.cpuInfo.bits)+" "+e._s(e.cpuInfo.processor)+" with "+e._s(e.cpuInfo.cpu_count)+" cores")])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.distribution_name")))]),t("td",[e._v(e._s(e.distribution.name))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.distribution_codename")))]),t("td",[e._v(e._s(e.distribution.codename))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.distribution_like")))]),t("td",[e._v(e._s(e.distribution.like))])])])])],1),t(n.Z,[t(N.ZB,[t("system-control")],1)],1)],1)],1)},ou=[];let lu=class extends d.w3{get cpuInfo(){const e=this.$store.getters["server/getSystemInfo"];return(null===e||void 0===e?void 0:e.cpu_info)||{}}get sdInfo(){const e=this.$store.getters["server/getSystemInfo"];return(null===e||void 0===e?void 0:e.sd_info)||{}}get distribution(){const e=this.$store.getters["server/getSystemInfo"];return(null===e||void 0===e?void 0:e.distribution)||{}}get services(){const e=this.$store.getters["server/getSystemInfo"];return(null===e||void 0===e?void 0:e.available_services)||[]}get printerInfo(){return this.$store.state.printer.printer.info}get fileSystemUsedPercent(){const e=this.fileSystemUsage.total,t=this.fileSystemUsage.used;return Math.floor(t/e*100).toFixed()}get fileSystemUsage(){return this.$store.getters["files/getUsage"]}};lu=(0,p.gn)([(0,d.wA)({})],lu);const cu=lu,pu=cu;var du=(0,L.Z)(pu,nu,ou,!1,null,null,null);const uu=du.exports;var mu=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.system_info.label.system_utilization"),icon:"$chart"}},[t(N.ZB,[t(o.Z,[t("system-load-chart"),t("klipper-load-chart"),t("moonraker-load-chart"),t("system-memory-chart"),e._l(e.mcus,(function(e,s){return[t("mcu-load-chart",{key:s,attrs:{mcu:e.name}})]}))],2)],1)],1)},hu=[],gu=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.ready?t(n.Z,{staticClass:"chart-wrapper",attrs:{cols:"4"}},[t("app-chart",{attrs:{data:e.chartData,options:e.options,height:"120px"}}),t("div",{staticClass:"chart-label-wrapper"},[t("div",{staticClass:"chart-label"},[t("span",[e._v(e._s(e.$t("app.system_info.label.system_load")))]),e.chartData.length?t("span",[e._v(e._s(e.chartData[e.chartData.length-1].load)+" / "+e._s(e.cores))]):e._e()])])],1):e._e()},fu=[];let vu=class extends d.w3{constructor(){super(...arguments),this.ready=!1}get chartData(){return this.$store.state.charts.klipper||[]}get cores(){var e,t;return(null===(t=null===(e=this.$store.state.server.system_info)||void 0===e?void 0:e.cpu_info)||void 0===t?void 0:t.cpu_count)||1}get options(){const e={...this.$store.getters["charts/getBaseChartOptions"](),series:this.series};return e.yAxis.max=e=>e.max<=this.cores?this.cores:e.max,e}get series(){return this.$store.getters["charts/getBaseSeries"]({name:"load",encode:{x:"date",y:"load"}})}onChartData(e){e&&e.length>0&&(this.ready=!0)}};(0,p.gn)([(0,d.RL)("chartData",{immediate:!0})],vu.prototype,"onChartData",null),vu=(0,p.gn)([(0,d.wA)({})],vu);const _u=vu,yu=_u;var bu=(0,L.Z)(yu,gu,fu,!1,null,null,null);const xu=bu.exports;var $u=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.ready?t(n.Z,{staticClass:"chart-wrapper",attrs:{cols:"4"}},[t("app-chart",{attrs:{data:e.chartData,options:e.options,height:"120px"}}),t("div",{staticClass:"chart-label-wrapper"},[t("div",{staticClass:"chart-label"},[t("span",[e._v(e._s(e.$t("app.system_info.label.system_memory")))]),e.chartData.length?t("span",[e._v(e._s(e.chartData[e.chartData.length-1].memused)+"%")]):e._e()])])],1):e._e()},wu=[];let Su=class extends d.w3{constructor(){super(...arguments),this.ready=!1}get chartData(){return this.$store.state.charts.memory||[]}get options(){const e={...this.$store.getters["charts/getBaseChartOptions"]({memused:"%"}),series:this.series};return e}get series(){return this.$store.getters["charts/getBaseSeries"]({name:"memory used",encode:{x:"date",y:"memused"}})}onChartData(e){e&&e.length>0&&(this.ready=!0)}};(0,p.gn)([(0,d.RL)("chartData",{immediate:!0})],Su.prototype,"onChartData",null),Su=(0,p.gn)([(0,d.wA)({})],Su);const ku=Su,Cu=ku;var Zu=(0,L.Z)(Cu,$u,wu,!1,null,null,null);const Pu=Zu.exports;var Au=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.ready?t(n.Z,{staticClass:"chart-wrapper",attrs:{cols:"4"}},[t("app-chart",{attrs:{data:e.chartData,options:e.options,height:"120px"}}),t("div",{staticClass:"chart-label-wrapper"},[t("div",{staticClass:"chart-label"},[t("span",[e._v(e._s(e.$t("app.system_info.label.klipper_load")))]),e.chartData.length?t("span",[e._v(e._s(e.chartData[e.chartData.length-1].cputime_change)+"%")]):e._e()])])],1):e._e()},Ru=[];let Eu=class extends d.w3{constructor(){super(...arguments),this.ready=!1}get chartData(){return this.$store.state.charts.klipper||[]}get options(){const e={...this.$store.getters["charts/getBaseChartOptions"]({cputime_change:"%"}),series:this.series};return e}get series(){return this.$store.getters["charts/getBaseSeries"]({name:"load",encode:{x:"date",y:"cputime_change"}})}onChartData(e){e&&e.length>0&&(this.ready=!0)}};(0,p.gn)([(0,d.RL)("chartData",{immediate:!0})],Eu.prototype,"onChartData",null),Eu=(0,p.gn)([(0,d.wA)({})],Eu);const Lu=Eu,Du=Lu;var Tu=(0,L.Z)(Du,Au,Ru,!1,null,null,null);const Mu=Tu.exports;var Ou=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.ready?t(n.Z,{staticClass:"chart-wrapper",attrs:{cols:"4"}},[t("app-chart",{attrs:{data:e.chartData,options:e.options,height:"120px"}}),t("div",{staticClass:"chart-label-wrapper"},[t("div",{staticClass:"chart-label"},[t("span",[e._v(e._s(e.$t("app.system_info.label.moonraker_load")))]),e.chartData.length?t("span",[e._v(e._s(e.chartData[e.chartData.length-1].load)+"%")]):e._e()])])],1):e._e()},Iu=[];let Fu=class extends d.w3{constructor(){super(...arguments),this.ready=!1}get chartData(){return this.$store.state.charts.moonraker||[]}get options(){const e={...this.$store.getters["charts/getBaseChartOptions"]({load:"%"}),series:this.series};return e}get series(){return this.$store.getters["charts/getBaseSeries"]({name:"load",encode:{x:"date",y:"load"}})}onChartData(e){e&&e.length>0&&(this.ready=!0)}};(0,p.gn)([(0,d.RL)("chartData",{immediate:!0})],Fu.prototype,"onChartData",null),Fu=(0,p.gn)([(0,d.wA)({})],Fu);const Bu=Fu,Nu=Bu;var Uu=(0,L.Z)(Nu,Ou,Iu,!1,null,null,null);const ju=Uu.exports;var Hu=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.ready?t(n.Z,{staticClass:"chart-wrapper",attrs:{cols:"4"}},[t("app-chart",{attrs:{data:e.chartData||[],options:e.options,height:"120px"}}),t("div",{staticClass:"chart-label-wrapper"},[t("div",{staticClass:"chart-label"},[t("span",[e._v(e._s(e.$t("app.system_info.label.mcu_load",{mcu:e.mcu.toUpperCase()})))]),e.chartData.length?t("span",[e._v(e._s(e.chartData[e.chartData.length-1].load)+"%")]):e._e()]),t("div",{staticClass:"chart-label"},[t("span",[e._v(e._s(e.$t("app.system_info.label.mcu_awake",{mcu:e.mcu.toUpperCase()})))]),e.chartData.length?t("span",[e._v(e._s(e.chartData[e.chartData.length-1].awake)+"s")]):e._e()])])],1):e._e()},Wu=[];let zu=class extends d.w3{constructor(){super(...arguments),this.ready=!1}get chartData(){return this.$store.state.charts[this.mcu]||[]}get options(){const e={...this.$store.getters["charts/getBaseChartOptions"]({load:"%",awake:"s",bw:"b"}),series:this.series};return e.yAxis.max=e=>e.max<=10?15:e.max<=20?25:e.max<=30?35:e.max<=40?45:e.max<=50||e.max<=50?55:e.max<=60?65:e.max<=70?75:e.max<=80?85:e.max,e}get series(){const e=this.$store.getters["charts/getBaseSeries"]({name:"load",encode:{x:"date",y:"load"}}),t=this.$store.getters["charts/getBaseSeries"]({name:"awake time",encode:{x:"date",y:"awake"}});return[e,t]}onChartData(e){e&&e.length>0&&(this.ready=!0)}};(0,p.gn)([(0,d.fI)({type:String,required:!0})],zu.prototype,"mcu",void 0),(0,p.gn)([(0,d.RL)("chartData",{immediate:!0})],zu.prototype,"onChartData",null),zu=(0,p.gn)([(0,d.wA)({})],zu);const qu=zu,Vu=qu;var Gu=(0,L.Z)(Vu,Hu,Wu,!1,null,null,null);const Yu=Gu.exports;let Ku=class extends d.w3{get procStats(){return this.$store.getters["server/getProcessStats"]}get systemStats(){return this.$store.getters["printer/getSystemStats"]}get mcus(){return this.$store.getters["printer/getMcus"]}};Ku=(0,p.gn)([(0,d.wA)({components:{SystemLoadChart:xu,SystemMemoryChart:Pu,KlipperLoadChart:Mu,MoonrakerLoadChart:ju,McuLoadChart:Yu}})],Ku);const Xu=Ku,Ju=Xu;var Qu=(0,L.Z)(Ju,mu,hu,!1,null,null,null);const em=Qu.exports;var tm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.file_system.label.diskinfo"),icon:"$harddisk"}},[t(N.ZB,[t(z.Z,{attrs:{"justify-space-between":""}},[t("div",{},[e._v(" "+e._s(e.$t("app.file_system.label.disk_usage"))+" ")])]),t(j.Z,{staticClass:"my-1",attrs:{size:90,height:10,value:e.fileSystemUsedPercent,color:"primary"}}),t(z.Z,{attrs:{"justify-space-between":""}},[t("div",{},[t("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.getReadableFileSizeString(e.fileSystemUsage.used))+" ")]),t("span",{staticClass:"secondary--text"},[e._v(e._s(e.$t("app.general.label.used")))])]),t("div",{},[t("span",{staticClass:"focus--text"},[e._v(" "+e._s(e.$filters.getReadableFileSizeString(e.fileSystemUsage.free))+" ")]),t("span",{staticClass:"secondary--text"},[e._v(e._s(e.$t("app.general.label.free")))])])])],1),t(Lr.Z,{attrs:{dense:""}},[t("tbody",[t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.manufacturer")))]),t("td",[e._v(e._s(e.sdInfo.manufacturer))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.manufactured")))]),t("td",[e._v(e._s(e.sdInfo.manufacturer_date))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.product_name")))]),t("td",[e._v(e._s(e.sdInfo.product_name)+" "+e._s(e.sdInfo.product_revision))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.capacity")))]),t("td",[e._v(e._s(e.sdInfo.capacity))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.serial_number")))]),t("td",[e._v(e._s(e.sdInfo.serial_number))])])])])],1)},sm=[];let am=class extends d.w3{get sdInfo(){const e=this.$store.getters["server/getSystemInfo"];return(null===e||void 0===e?void 0:e.sd_info)||{}}get fileSystemUsedPercent(){const e=this.fileSystemUsage.total,t=this.fileSystemUsage.used;return Math.floor(t/e*100).toFixed()}get fileSystemUsage(){return this.$store.getters["files/getUsage"]}};am=(0,p.gn)([(0,d.wA)({components:{JobHistory:cd}})],am);const rm=am,im=rm;var nm=(0,L.Z)(im,tm,sm,!1,null,null,null);const om=nm.exports;let lm=class extends((0,d.Wr)(u.Z)){get hasGraphData(){return void 0!==this.$store.state.charts.klipper||void 0!==this.$store.state.charts.moonraker||void 0!==this.$store.state.charts.memory}get breakpoint(){return this.$vuetify.breakpoint.mdAndDown?12:6}get supportsHistory(){return this.$store.getters["server/componentSupport"]("history")}};lm=(0,p.gn)([(0,d.wA)({components:{FileSystem:sa,SystemControl:ed["default"],SystemOverviewCard:uu,SystemUsageCard:em,DiskUsageCard:om}})],lm);const cm=lm,pm=cm;var dm=(0,L.Z)(pm,ru,iu,!1,null,null,null);const um=dm.exports;var mm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[t(n.Z,{attrs:{cols:"12",md:"6"}},[t("system-overview-card",{staticClass:"mb-2 mb-sm-4"}),t("disk-usage-card")],1),t(n.Z,{attrs:{cols:"12",md:"6"}},[t("system-usage-card",{staticClass:"mb-2 mb-sm-4"}),e._l(e.mcus,(function(e){return[t("mcu-card",{key:e.name,staticClass:"mb-2 mb-sm-4",attrs:{mcu:e}})]}))],2)],1)},hm=[],gm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("collapsable-card",{attrs:{title:e.$t("app.system_info.label.mcu_information",{mcu:e.mcu.name}),icon:"$chip"},scopedSlots:e._u([{key:"menu",fn:function(){return[t("app-btn",{staticClass:"ml-1",attrs:{color:"",fab:"","x-small":"",text:""},on:{click:e.showMcuConstantsDialog}},[t(g.Z,[e._v("$viewHeadline")])],1)]},proxy:!0}])},[t(Lr.Z,{attrs:{dense:""}},[t("tbody",[t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.micro_controller")))]),t("td",[e._v(e._s(e.mcu.mcu_constants.MCU))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.frequency")))]),t("td",[e._v(e._s(e.$filters.getReadableFrequencyString(+e.mcu.mcu_constants.CLOCK_FREQ)))])]),t("tr",[t("th",[e._v(e._s(e.$t("app.system_info.label.version")))]),t("td",[e._v(e._s(e.mcu.mcu_version))])])])]),e.mcuConstantsDialogOpen?t("mcu-constants-dialog",{attrs:{mcu:e.mcu},model:{value:e.mcuConstantsDialogOpen,callback:function(t){e.mcuConstantsDialogOpen=t},expression:"mcuConstantsDialogOpen"}}):e._e()],1)},fm=[],vm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":500,scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.system_info.label.mcu_information",{mcu:e.mcu.name})))])]),t(ps.Z),t(N.ZB,[t(Lr.Z,{attrs:{dense:""}},[t("tbody",[e._l(e.constants,(function(s){return[t("tr",{key:s[0]},[t("th",[e._v(e._s(s[0]))]),t("td",[e._v(e._s(s[1]))])])]}))],2)])],1)],1)],1)},_m=[];let ym=class extends d.w3{get constants(){return Object.entries(this.mcu.mcu_constants)}};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],ym.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Object,required:!0})],ym.prototype,"mcu",void 0),ym=(0,p.gn)([(0,d.wA)({})],ym);const bm=ym,xm=bm;var $m=(0,L.Z)(xm,vm,_m,!1,null,null,null);const wm=$m.exports;let Sm=class extends d.w3{constructor(){super(...arguments),this.mcuConstantsDialogOpen=!1}showMcuConstantsDialog(){this.mcuConstantsDialogOpen=!0}};(0,p.gn)([(0,d.fI)({type:Object,required:!0})],Sm.prototype,"mcu",void 0),Sm=(0,p.gn)([(0,d.wA)({components:{McuConstantsDialog:wm}})],Sm);const km=Sm,Cm=km;var Zm=(0,L.Z)(Cm,gm,fm,!1,null,null,null);const Pm=Zm.exports;let Am=class extends((0,d.Wr)(u.Z)){get breakpoint(){return this.$vuetify.breakpoint.mdAndDown?12:6}get mcus(){return this.$store.getters["printer/getMcus"]}};Am=(0,p.gn)([(0,d.wA)({components:{FileSystem:sa,SystemControl:ed["default"],SystemOverviewCard:uu,McuCard:Pm,SystemUsageCard:em,DiskUsageCard:om}})],Am);const Rm=Am,Em=Rm;var Lm=(0,L.Z)(Em,mm,hm,!1,null,null,null);const Dm=Lm.exports;var Tm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown,justify:"center"}},[t(n.Z,{attrs:{cols:"12",lg:"8"}},[e.authenticated&&e.socketConnected?t("router-view"):e._e(),1===e.$route.matched.length?t("div",[t("general-settings"),t("console-settings"),t("theme-settings"),t("file-editor-settings"),e.supportsAuth?t("auth-settings"):e._e(),t("macro-categories"),t("cameras"),t("toolhead-settings"),t("preset-settings"),t("gcode-preview-settings"),e.supportsTimelapse?t("timelapse-settings"):e._e(),e.supportsVersions?t("version-settings"):e._e()],1):e._e()],1)],1)},Mm=[],Om=s(92540),Im=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"macros"}},[e._v(" "+e._s(e.$t("app.setting.title.macros"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleAddCategoryDialog}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_category"))+" ")],1)],1),t(ps.Z),e._l(e.categories,(function(s){return[t("app-setting",{key:`category-${s.name}`,attrs:{"r-cols":3},on:{click:function(t){return e.handleCategoryClick(s)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(s.name)+" "),t(Ri.Z,{staticClass:"mr-4",attrs:{small:""}},[e._v(" "+e._s(s.visible)+" / "+e._s(s.count)+" ")])]},proxy:!0}],null,!0)},[t("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(t){return t.stopPropagation(),e.handleEditCategoryDialog(s)}}},[t(g.Z,{attrs:{color:""}},[e._v(" $edit ")])],1),t("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(t){return t.stopPropagation(),e.handleRemoveCategory(s)}}},[t(g.Z,{attrs:{color:""}},[e._v(" $close ")])],1)],1),t(ps.Z,{key:`divider-${s.name}`})]})),e.uncategorizedMacros.count>0?t("app-setting",{key:"category-uncategorized",attrs:{"r-cols":3},on:{click:function(t){return e.handleCategoryClick()}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(e.$t("app.general.label.uncategorized"))+" "),t(Ri.Z,{attrs:{small:""}},[e._v(" "+e._s(e.uncategorizedMacros.visible)+" / "+e._s(e.uncategorizedMacros.count)+" ")])]},proxy:!0}],null,!1,491862901)},[t(g.Z,[e._v("$chevronRight")])],1):e._e(),e.categoryDialogState.open?t("macro-category-dialog",{attrs:{title:e.categoryDialogState.title,label:e.categoryDialogState.label,name:e.categoryDialogState.name,rules:e.categoryDialogState.rules},on:{save:e.categoryDialogState.handler},model:{value:e.categoryDialogState.open,callback:function(t){e.$set(e.categoryDialogState,"open",t)},expression:"categoryDialogState.open"}}):e._e()],2)],1)},Fm=[],Bm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":350},on:{input:function(t){return e.$emit("input",t)}}},[t(ds.Z,{ref:"addInstanceForm",staticClass:"mt-3",on:{submit:function(t){return t.preventDefault(),e.handleSave.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.title))])]),t(ps.Z),t(N.ZB,[t(Ze.Z,{attrs:{autofocus:"",outlined:"",label:e.label,rules:e.rules,"hide-details":"auto",required:""},model:{value:e.newName,callback:function(t){e.newName=t},expression:"newName"}})],1),t(N.h7,[t(Ce.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),t("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.save"))+" ")])],1)],1)],1)],1)},Nm=[];let Um=class extends d.w3{constructor(){super(...arguments),this.newName="",this.valid=!0}mounted(){this.newName=this.name}get categories(){return this.$store.getters["macros/getCategories"]}handleSave(){this.valid&&(this.$emit("save",this.newName),this.$emit("input",!1))}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],Um.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],Um.prototype,"title",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],Um.prototype,"label",void 0),(0,p.gn)([(0,d.fI)({type:Array,required:!1})],Um.prototype,"rules",void 0),(0,p.gn)([(0,d.fI)({type:String,required:!0})],Um.prototype,"name",void 0),Um=(0,p.gn)([(0,d.wA)({})],Um);const jm=Um,Hm=jm;var Wm=(0,L.Z)(Hm,Bm,Nm,!1,null,null,null);const zm=Wm.exports;let qm=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.categoryDialogState={open:!1,title:"add",label:"",category:null,name:"",rules:[],handler:this.handleAddCategory}}get categories(){return this.$store.getters["macros/getCategories"]}get uncategorizedMacros(){const e=this.$store.getters["macros/getMacrosByCategory"](),t=e.length,s=e.filter((e=>e.visible)).length;return{count:t,visible:s}}handleAddCategoryDialog(){this.categoryDialogState={open:!0,title:this.$t("app.general.label.add_category"),label:this.$t("app.general.label.name"),category:null,name:"",rules:[e=>!!e||this.$t("app.general.simple_form.error.required"),e=>this.categories.findIndex((t=>t.name.toLowerCase()===e.toLowerCase()))<0||this.$t("app.general.simple_form.error.exists")],handler:this.handleAddCategory}}handleEditCategoryDialog(e){this.categoryDialogState={open:!0,title:this.$t("app.general.label.edit_category"),label:this.$t("app.general.label.name"),category:e,name:e.name,rules:[e=>!!e||this.$t("app.general.simple_form.error.required"),e=>this.categories.findIndex((t=>t.name.toLowerCase()===e.toLowerCase()))<0||this.$t("app.general.simple_form.error.exists")],handler:this.handleEditCategory}}handleRemoveCategory(e){this.$store.dispatch("macros/removeCategory",e)}handleAddCategory(e){this.$store.dispatch("macros/addCategory",e)}handleEditCategory(e){const t={...this.categoryDialogState.category,name:e};this.$store.dispatch("macros/editCategory",t)}handleCategoryClick(e){const t=e?e.id:0;this.$router.push(`/settings/macros/${t}`)}};qm=(0,p.gn)([(0,d.wA)({components:{MacroCategoryDialog:zm}})],qm);const Vm=qm,Gm=Vm;var Ym=(0,L.Z)(Gm,Im,Fm,!1,null,null,null);const Km=Ym.exports;var Xm=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"general"}},[e._v(" "+e._s(e.$t("app.setting.title.general"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",{attrs:{title:e.$t("app.setting.label.printer_name")}},[t(Ze.Z,{ref:"instanceName",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:e.instanceNameRules,value:e.instanceName,"default-value":e.$globals.APP_NAME},on:{change:e.setInstanceName}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.language")}},[t(Pa.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.supportedLocales,value:e.locale,"item-text":"name","item-value":"code"},on:{change:e.setLocale}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.date_time_format")}},[t(Pa.Z,{attrs:{filled:"",dense:"","hide-details":"auto",items:[{text:e.$filters.formatDateTime(e.current_time,"MMM. DD, YYYY"),value:"MMM. DD,"},{text:e.$filters.formatDateTime(e.current_time,"DD MMM. YYYY"),value:"DD MMM."}],"item-value":"value","item-text":"text"},model:{value:e.dateformat,callback:function(t){e.dateformat=t},expression:"dateformat"}}),e._v("   "),t(Pa.Z,{attrs:{filled:"",dense:"","hide-details":"auto",items:[{text:e.$filters.formatDateTime(e.current_time,"h:mm a"),value:"hh:mm a"},{text:e.$filters.formatDateTime(e.current_time,"HH:mm"),value:"HH:mm"}],"item-value":"value","item-text":"text"},model:{value:e.timeformat,callback:function(t){e.timeformat=t},expression:"timeformat"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.confirm_on_estop")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.confirmOnEstop,callback:function(t){e.confirmOnEstop=t},expression:"confirmOnEstop"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.power_toggle_in_top_nav")}},[t(Pa.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:[{text:e.$tc("app.setting.label.none"),value:null},...e.powerDevicesList],value:e.topNavPowerToggle,"item-value":"value","item-text":"text"},model:{value:e.topNavPowerToggle,callback:function(t){e.topNavPowerToggle=t},expression:"topNavPowerToggle"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.confirm_on_power_device_change")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.confirmOnPowerDeviceChange,callback:function(t){e.confirmOnPowerDeviceChange=t},expression:"confirmOnPowerDeviceChange"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.show_save_config_and_restart")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.showSaveConfigAndRestart,callback:function(t){e.showSaveConfigAndRestart=t},expression:"showSaveConfigAndRestart"}})],1),e.showSaveConfigAndRestart?[t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.confirm_on_save_config_and_restart")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.confirmOnSaveConfigAndRestart,callback:function(t){e.confirmOnSaveConfigAndRestart=t},expression:"confirmOnSaveConfigAndRestart"}})],1)]:e._e(),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.enable_diagnostics"),"sub-title":e.$t("app.setting.tooltip.diagnostics_performance")}},[t(Sc.Z,{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.enableDiagnostics,callback:function(t){e.enableDiagnostics=t},expression:"enableDiagnostics"}})],1)],2)],1)},Jm=[];let Qm=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.instanceNameRules=[e=>!!e||"Required"]}get estimateTypes(){return[{name:this.$t("app.setting.timer_options.duration"),value:"totals"},{name:this.$t("app.setting.timer_options.slicer"),value:"slicer"},{name:this.$t("app.setting.timer_options.file"),value:"file"},{name:this.$t("app.setting.timer_options.filament"),value:"filament"}]}get instanceName(){return this.$store.state.config.uiSettings.general.instanceName}setInstanceName(e){this.instanceNameElement.valid&&this.$store.dispatch("config/updateInstance",e)}get locale(){return this.$store.state.config.uiSettings.general.locale}get supportedLocales(){return[{name:"Browser default",code:"default"},...this.$store.state.config.hostConfig.locales]}setLocale(e){this.$store.dispatch("config/onLocaleChange",e)}get dateformat(){return this.$store.state.config.uiSettings.general.dateformat}set dateformat(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.dateformat",value:e,server:!0})}get timeformat(){return this.$store.state.config.uiSettings.general.timeformat}set timeformat(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.timeformat",value:e,server:!0})}get confirmOnEstop(){return this.$store.state.config.uiSettings.general.confirmOnEstop}set confirmOnEstop(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.confirmOnEstop",value:e,server:!0})}get topNavPowerToggle(){return this.$store.state.config.uiSettings.general.topNavPowerToggle}set topNavPowerToggle(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.topNavPowerToggle",value:e,server:!0})}get powerDevicesList(){return this.$store.state.power.devices.map((e=>({text:e.device,value:e.device})))}get confirmOnPowerDeviceChange(){return this.$store.state.config.uiSettings.general.confirmOnPowerDeviceChange}set confirmOnPowerDeviceChange(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.confirmOnPowerDeviceChange",value:e,server:!0})}get showSaveConfigAndRestart(){return this.$store.state.config.uiSettings.general.showSaveConfigAndRestart}set showSaveConfigAndRestart(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.showSaveConfigAndRestart",value:e,server:!0})}get confirmOnSaveConfigAndRestart(){return this.$store.state.config.uiSettings.general.confirmOnSaveConfigAndRestart}set confirmOnSaveConfigAndRestart(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.confirmOnSaveConfigAndRestart",value:e,server:!0})}get enableDiagnostics(){return this.$store.state.config.uiSettings.general.enableDiagnostics}set enableDiagnostics(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.enableDiagnostics",value:e,server:!0})}get current_time(){return Math.floor(Date.now()/1e3)}};(0,p.gn)([(0,d.Rl)("instanceName")],Qm.prototype,"instanceNameElement",void 0),Qm=(0,p.gn)([(0,d.wA)({components:{}})],Qm);const eh=Qm,th=eh;var sh=(0,L.Z)(th,Xm,Jm,!1,null,null,null);const ah=sh.exports;var rh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"presets"}},[e._v(" "+e._s(e.$t("app.setting.title.thermal_presets"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.openAddDialog}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_thermal_preset"))+" ")],1)],1),e.presets.length>0?t(ps.Z):e._e(),e._l(e.presets,(function(s,a){return[t("app-setting",{key:s.index,attrs:{title:s.name,"r-cols":2},on:{click:function(t){return e.openEditDialog(s)}},scopedSlots:e._u([{key:"sub-title",fn:function(){return e._l(s.values,(function(s,a){return t("span",{directives:[{name:"show",rawName:"v-show",value:s.active,expression:"value.active"}],key:a,staticClass:"mr-2"},[e._v(" "+e._s(a)+": "+e._s(s.value)),t("small",[e._v("°C")])])}))},proxy:!0}],null,!0)},[t("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(t){return t.stopPropagation(),e.handleRemovePreset(s)}}},[t(g.Z,{attrs:{color:""}},[e._v(" $close ")])],1)],1),a<e.presets.length-1&&e.presets.length>0?t(ps.Z,{key:s.id}):e._e()]})),e.dialogState.preset?t("preset-dialog",{attrs:{preset:e.dialogState.preset},on:{save:e.handleSavePreset},model:{value:e.dialogState.active,callback:function(t){e.$set(e.dialogState,"active",t)},expression:"dialogState.active"}}):e._e()],2)],1)},ih=[],nh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":500,persistent:""}},[t(ds.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSave(e.preset)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(-1!=e.preset.id?e.$t("app.general.label.edit_preset"):e.$t("app.general.label.add_preset")))])]),t("app-setting",{attrs:{title:e.$t("app.setting.label.thermal_preset_name")}},[t(Ze.Z,{attrs:{rules:[e.rules.required],"hide-details":"auto",filled:"",dense:""},model:{value:e.preset.name,callback:function(t){e.$set(e.preset,"name",t)},expression:"preset.name"}})],1),t(ps.Z),e._l(e.heaters,(function(s,a){return[t("app-setting",{key:a+"heater",attrs:{title:s.name}},[t(We.Z,{staticClass:"ma-0",attrs:{"hide-details":""},model:{value:e.preset.values[s.name].active,callback:function(t){e.$set(e.preset.values[s.name],"active",t)},expression:"preset.values[item.name].active"}}),t(Ze.Z,{staticClass:"mb-2",attrs:{rules:[e.rules.numRequired,e.rules.numMin],"hide-details":"auto",type:"number",suffix:"°C",outlined:"",dense:""},model:{value:e.preset.values[s.name].value,callback:function(t){e.$set(e.preset.values[s.name],"value",e._n(t))},expression:"preset.values[item.name].value"}})],1),t(ps.Z,{key:a+"heaterd"})]})),e._l(e.fans,(function(s,a){return[t("app-setting",{key:a+"fan",attrs:{title:s.name}},[t(We.Z,{staticClass:"ma-0",attrs:{"hide-details":""},model:{value:e.preset.values[s.name].active,callback:function(t){e.$set(e.preset.values[s.name],"active",t)},expression:"preset.values[item.name].active"}}),t(Ze.Z,{staticClass:"mb-2",attrs:{rules:[e.rules.numRequired,e.rules.numMin],"hide-details":"auto",type:"number",suffix:"°C",outlined:"",dense:""},model:{value:e.preset.values[s.name].value,callback:function(t){e.$set(e.preset.values[s.name],"value",e._n(t))},expression:"preset.values[item.name].value"}})],1),t(ps.Z,{key:a+"fand"})]})),t("app-setting",{attrs:{title:e.$t("app.setting.label.thermal_preset_gcode")}},[t(_p.Z,{staticClass:"mb-2",attrs:{rows:"2","hide-details":"auto",outlined:""},model:{value:e.preset.gcode,callback:function(t){e.$set(e.preset,"gcode",t)},expression:"preset.gcode"}})],1),t(N.h7,[t(Ce.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),t("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(-1!==e.preset.id?e.$t("app.general.btn.save"):e.$t("app.general.btn.add"))+" ")])],1)],2)],1)],1)},oh=[];let lh=class extends d.w3{constructor(){super(...arguments),this.valid=!1,this.rules={required:e=>!!e||this.$t("app.general.simple_form.error.required"),numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),numMin:e=>e>=0||this.$t("app.general.simple_form.error.min",{min:1})}}get heaters(){return this.$store.getters["printer/getHeaters"]}get fans(){return this.$store.getters["printer/getOutputs"](["temperature_fan"])}handleSave(){this.valid&&(this.$emit("save",this.preset),this.$emit("input",!1))}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],lh.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Object,required:!0})],lh.prototype,"preset",void 0),lh=(0,p.gn)([(0,d.wA)({})],lh);const ch=lh,ph=ch;var dh=(0,L.Z)(ph,nh,oh,!1,null,null,null);const uh=dh.exports;let mh=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.dialogState={active:!1,preset:null}}get heaters(){return this.$store.getters["printer/getHeaters"]}get fans(){return this.$store.getters["printer/getOutputs"](["temperature_fan"])}get presets(){return this.$store.getters["config/getTempPresets"]}openEditDialog(e){this.dialogState={active:!0,preset:e}}openAddDialog(){const e={id:-1,name:"",values:{}};for(const t of this.heaters)e.values[t.name]={value:0,type:"heater",active:!0};for(const t of this.fans)e.values[t.name]={value:0,type:"fan",active:!0};this.dialogState={active:!0,preset:e}}handleSavePreset(e){this.$store.dispatch("config/updatePreset",e)}handleRemovePreset(e){this.$store.dispatch("config/removePreset",e)}};mh=(0,p.gn)([(0,d.wA)({components:{PresetDialog:uh}})],mh);const hh=mh,gh=hh;var fh=(0,L.Z)(gh,rh,ih,!1,null,"1ae8bf88",null);const vh=fh.exports;var _h=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"camera"}},[e._v(" "+e._s(e.$tc("app.setting.title.camera",2))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleAddDialog}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_camera"))+" ")],1)],1),t(ps.Z),e._l(e.cameras,(function(s,a){return[t("app-setting",{key:s.id,attrs:{"r-cols":2,"sub-title":"config"===s.source?e.$t("app.general.tooltip.managed_by_moonraker"):void 0},on:{click:function(t){return e.handleEditDialog(s)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(s.name)+" "),s.enabled?e._e():t(g.Z,{attrs:{right:"",small:"",color:"warning"}},[e._v(" $warning ")])]},proxy:!0}],null,!0)},["config"!==s.source?t("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(t){return t.stopPropagation(),e.handleRemoveCamera(s)}}},[t(g.Z,{attrs:{color:""}},[e._v(" $close ")])],1):e._e()],1),a<e.cameras.length-1&&e.cameras.length>0?t(ps.Z,{key:s.id+"_divider"}):e._e()]})),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.camera_fullscreen_action.title")}},[t(Pa.Z,{attrs:{filled:"",dense:"","hide-details":"",items:[{text:e.$t("app.setting.label.camera_fullscreen_action.embed"),value:"embed"},{text:e.$t("app.setting.label.camera_fullscreen_action.rawstream"),value:"rawstream"}]},model:{value:e.defaultFullscreenAction,callback:function(t){e.defaultFullscreenAction=t},expression:"defaultFullscreenAction"}})],1),e.dialogState.camera?t("camera-config-dialog",{attrs:{camera:e.dialogState.camera},on:{save:e.handleSaveCamera},model:{value:e.dialogState.active,callback:function(t){e.$set(e.dialogState,"active",t)},expression:"dialogState.active"}}):e._e()],2)],1)},yh=[],bh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":500,scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[t(ds.Z,{ref:"form",attrs:{disabled:"config"===e.camera.source},on:{submit:function(t){return t.preventDefault(),e.handleSave()}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(""!=e.camera.id?e.$t("app.general.label.edit_camera"):e.$t("app.general.label.add_camera")))])]),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.enable")}},[t(Sc.Z,{staticClass:"mt-0",attrs:{"hide-details":"auto"},model:{value:e.camera.enabled,callback:function(t){e.$set(e.camera,"enabled",t)},expression:"camera.enabled"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.general.label.name")}},[t(Ze.Z,{staticClass:"mt-0",attrs:{filled:"",dense:"","hide-details":"auto",rules:[e.rules.required]},model:{value:e.camera.name,callback:function(t){e.$set(e.camera,"name",t)},expression:"camera.name"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.camera_flip_x")}},[t(Sc.Z,{attrs:{"hide-details":""},model:{value:e.camera.flipX,callback:function(t){e.$set(e.camera,"flipX",t)},expression:"camera.flipX"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.camera_flip_y")}},[t(Sc.Z,{staticClass:"mb-4",attrs:{"hide-details":""},model:{value:e.camera.flipY,callback:function(t){e.$set(e.camera,"flipY",t)},expression:"camera.flipY"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.camera_rotate_by")}},[t(Pa.Z,{attrs:{filled:"",dense:"","hide-details":"auto","initial-value":"false",items:[{text:e.$t("app.setting.camera_rotate_options.none"),value:0},{text:e.$t("app.setting.camera_rotate_options.90"),value:90},{text:e.$t("app.setting.camera_rotate_options.180"),value:180},{text:e.$t("app.setting.camera_rotate_options.270"),value:270}],"item-value":"value","item-text":"text"},model:{value:e.camera.rotation,callback:function(t){e.$set(e.camera,"rotation",e._n(t))},expression:"camera.rotation"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.camera_stream_type")}},[t(Pa.Z,{attrs:{filled:"",dense:"","hide-details":"auto",items:[{text:e.$t("app.setting.camera_type_options.mjpegadaptive"),value:"mjpegstreamer-adaptive"},{text:e.$t("app.setting.camera_type_options.mjpegstream"),value:"mjpegstreamer"},{text:e.$t("app.setting.camera_type_options.video"),value:"ipstream"},{text:e.$t("app.setting.camera_type_options.iframe"),value:"iframe"}],"item-value":"value","item-text":"text"},model:{value:e.camera.service,callback:function(t){e.$set(e.camera,"service",t)},expression:"camera.service"}})],1),t(ps.Z),"mjpegstreamer-adaptive"===e.camera.service?t("app-setting",{attrs:{title:e.$t("app.setting.label.fps_target")}},[t(Ze.Z,{staticClass:"mt-5",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:[e.rules.required]},model:{value:e.camera.targetFps,callback:function(t){e.$set(e.camera,"targetFps",e._n(t))},expression:"camera.targetFps"}})],1):e._e(),"mjpegstreamer-adaptive"===e.camera.service?t(ps.Z):e._e(),"mjpegstreamer-adaptive"===e.camera.service?t("app-setting",{attrs:{title:e.$t("app.setting.label.fps_idle_target")}},[t(Ze.Z,{staticClass:"mt-5",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto"},model:{value:e.camera.targetFpsIdle,callback:function(t){e.$set(e.camera,"targetFpsIdle",e._n(t))},expression:"camera.targetFpsIdle"}})],1):e._e(),"mjpegstreamer-adaptive"===e.camera.service?t(ps.Z):e._e(),t("app-setting",{attrs:{title:e.$t("app.setting.label.camera_url")}},[t(Ze.Z,{staticClass:"mt-5",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:[e.rules.required]},model:{value:e.camera.urlStream,callback:function(t){e.$set(e.camera,"urlStream",t)},expression:"camera.urlStream"}})],1),t(ps.Z),"iframe"===e.camera.service?t("app-setting",{attrs:{title:e.$t("app.setting.label.aspect_ratio"),"sub-title":e.$t("app.setting.label.aspect_ratio_format")}},[t(Ze.Z,{staticClass:"mt-5",attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",rules:[e.rules.required,e.rules.aspect]},model:{value:e.camera.aspectRatio,callback:function(t){e.$set(e.camera,"aspectRatio",t)},expression:"camera.aspectRatio"}})],1):e._e(),t(ps.Z),t(N.h7,[t(Ce.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s("config"===e.camera.source?e.$t("app.general.btn.close"):e.$t("app.general.btn.cancel"))+" ")]),"config"!==e.camera.source?t("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(""!==e.camera.id?e.$t("app.general.btn.save"):e.$t("app.general.btn.add"))+" ")]):e._e()],1)],1)],1)],1)},xh=[];let $h=class extends d.w3{constructor(){super(...arguments),this.cameraUrlRules=[e=>!!e||this.$t("app.general.simple_form.error.required")],this.valid=!1,this.rules={required:e=>void 0!==e&&""!==e||this.$t("app.general.simple_form.error.required"),minFps:e=>e>=1||this.$t("app.general.simple_form.error.min",{min:1}),maxFps:e=>e<=60||this.$t("app.general.simple_form.error.max",{max:60}),aspect:e=>/^\d+\s*[:/]\s*\d+$/.test(e)||this.$t("app.general.simple_form.error.invalid_aspect")}}handleSave(){this.valid&&(this.$emit("save",this.camera),this.$emit("input",!1))}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],$h.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Object,required:!0})],$h.prototype,"camera",void 0),$h=(0,p.gn)([(0,d.wA)({})],$h);const wh=$h,Sh=wh;var kh=(0,L.Z)(Sh,bh,xh,!1,null,null,null);const Ch=kh.exports;let Zh=class extends d.w3{constructor(){super(...arguments),this.dialogState={active:!1,camera:null}}get cameras(){return this.$store.getters["cameras/getCameras"]}handleEditDialog(e){this.dialogState={active:!0,camera:{...e}}}handleAddDialog(){const e={id:"",enabled:!0,flipX:!1,flipY:!1,name:"",service:"mjpegstreamer-adaptive",targetFps:15,targetFpsIdle:5,urlStream:we.OH.DEFAULTS.CAMERA_URL};this.dialogState={active:!0,camera:e}}handleSaveCamera(e){this.$store.dispatch("cameras/updateCamera",e)}handleRemoveCamera(e){this.$store.dispatch("cameras/removeCamera",e)}get defaultFullscreenAction(){return this.$store.state.config.uiSettings.general.cameraFullscreenAction}set defaultFullscreenAction(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.cameraFullscreenAction",value:e,server:!0})}};Zh=(0,p.gn)([(0,d.wA)({components:{AppSetting:ap["default"],CameraConfigDialog:Ch}})],Zh);const Ph=Zh,Ah=Ph;var Rh=(0,L.Z)(Ah,_h,yh,!1,null,null,null);const Eh=Rh.exports;var Lh=s(9570),Dh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"toolhead"}},[e._v(" "+e._s(e.$t("app.setting.title.tool"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",{attrs:{title:e.$t("app.setting.label.invert_x_control")}},[t(Sc.Z,{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.invertX,callback:function(t){e.invertX=t},expression:"invertX"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.invert_y_control")}},[t(Sc.Z,{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.invertY,callback:function(t){e.invertY=t},expression:"invertY"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.invert_z_control")}},[t(Sc.Z,{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.invertZ,callback:function(t){e.invertZ=t},expression:"invertZ"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.gcode_coords"),"sub-title":e.$t("app.setting.tooltip.gcode_coords"),"r-cols":2}},[t(Sc.Z,{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.useGcodeCoords,callback:function(t){e.useGcodeCoords=t},expression:"useGcodeCoords"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.default_extrude_length")}},[t(Ze.Z,{attrs:{value:e.defaultExtrudeLength,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"auto",suffix:"mm"},on:{change:e.setDefaultExtrudeLength}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.default_extrude_speed")}},[t(Ze.Z,{attrs:{value:e.defaultExtrudeSpeed,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"auto",suffix:"mm/s"},on:{change:e.setDefaultExtrudeSpeed}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.default_toolhead_move_length")}},[t(Pa.Z,{attrs:{value:e.defaultToolheadMoveLength,items:e.toolheadMoveDistances,rules:[e.rules.numRequired],filled:"",dense:"","single-line":"","hide-details":"auto",suffix:"mm"},on:{change:e.setDefaultToolheadMoveLength}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.default_toolhead_xy_speed")}},[t(Ze.Z,{attrs:{value:e.defaultToolheadXYSpeed,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"auto",suffix:"mm/s"},on:{change:e.setDefaultToolheadYXSpeed}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.default_toolhead_z_speed")}},[t(Ze.Z,{attrs:{value:e.defaultToolheadZSpeed,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"auto",suffix:"mm/s"},on:{change:e.setDefaultToolheadZSpeed}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.toolhead_move_distances")}},[t(Lh.Z,{ref:"toolheadMoveDistances",attrs:{filled:"",dense:"","hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","append-icon":"","deletable-chips":"",rules:[e.rules.arrayNumMin(1),e.rules.arrayNumMax(6),e.rules.arrayOnlyNumbers]},model:{value:e.toolheadMoveDistances,callback:function(t){e.toolheadMoveDistances=t},expression:"toolheadMoveDistances"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.z_adjust_values")}},[t(Lh.Z,{ref:"zAdjustValues",attrs:{filled:"",dense:"","hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","append-icon":"","deletable-chips":"",rules:[e.rules.arrayNumMin(1),e.rules.arrayNumMax(4),e.rules.arrayOnlyNumbers]},model:{value:e.zAdjustValues,callback:function(t){e.zAdjustValues=t},expression:"zAdjustValues"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.show_manual_probe_dialog_automatically"),"sub-title":e.$t("app.setting.tooltip.show_manual_probe_dialog_automatically")}},[t(Sc.Z,{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.showManualProbeDialogAutomatically,callback:function(t){e.showManualProbeDialogAutomatically=t},expression:"showManualProbeDialogAutomatically"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.show_bed_screws_adjust_dialog_automatically"),"sub-title":e.$t("app.setting.tooltip.show_bed_screws_adjust_dialog_automatically")}},[t(Sc.Z,{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.showBedScrewsAdjustDialogAutomatically,callback:function(t){e.showBedScrewsAdjustDialogAutomatically=t},expression:"showBedScrewsAdjustDialogAutomatically"}})],1),t(ps.Z),e.printerSupportsForceMove?[t("app-setting",{attrs:{title:e.$t("app.setting.label.force_move_toggle_warning")}},[t(Sc.Z,{staticClass:"mt-0 mb-4",attrs:{"hide-details":""},model:{value:e.forceMoveToggleWarning,callback:function(t){e.forceMoveToggleWarning=t},expression:"forceMoveToggleWarning"}})],1),t(ps.Z)]:e._e(),t("app-setting",{attrs:{title:e.$t("app.setting.label.reset")}},[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")])],1)],2)],1)},Th=[],Mh=s(27871);let Oh=class extends d.w3{constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),numMin:e=>e>=1||this.$t("app.general.simple_form.error.min",{min:1}),arrayNumMin:e=>t=>t.length>=e||this.$t("app.general.simple_form.error.min",{min:e}),arrayNumMax:e=>t=>t.length<=e||this.$t("app.general.simple_form.error.max",{max:e}),arrayOnlyNumbers:e=>!e.some(isNaN)||this.$t("app.general.simple_form.error.arrayofnums")}}get defaultExtrudeSpeed(){return this.$store.state.config.uiSettings.general.defaultExtrudeSpeed}setDefaultExtrudeSpeed(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.defaultExtrudeSpeed",value:+e,server:!0})}get defaultExtrudeLength(){return this.$store.state.config.uiSettings.general.defaultExtrudeLength}setDefaultExtrudeLength(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.defaultExtrudeLength",value:+e,server:!0})}get defaultToolheadMoveLength(){return this.$store.state.config.uiSettings.general.defaultToolheadMoveLength}setDefaultToolheadMoveLength(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.defaultToolheadMoveLength",value:+e,server:!0})}get defaultToolheadXYSpeed(){return this.$store.state.config.uiSettings.general.defaultToolheadXYSpeed}setDefaultToolheadYXSpeed(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.defaultToolheadXYSpeed",value:+e,server:!0})}get defaultToolheadZSpeed(){return this.$store.state.config.uiSettings.general.defaultToolheadZSpeed}setDefaultToolheadZSpeed(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.defaultToolheadZSpeed",value:+e,server:!0})}get zAdjustValues(){return this.$store.state.config.uiSettings.general.zAdjustDistances}set zAdjustValues(e){this.zAdjustValuesElement.validate(!0)&&this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.zAdjustDistances",value:[...new Set(e.map(Number))].sort(((e,t)=>e-t)),server:!0})}get toolheadMoveDistances(){return this.$store.state.config.uiSettings.general.toolheadMoveDistances}set toolheadMoveDistances(e){this.toolheadMoveDistancesElement.validate(!0)&&this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.toolheadMoveDistances",value:[...new Set(e.map(Number))].sort(((e,t)=>e-t)),server:!0})}get useGcodeCoords(){return this.$store.state.config.uiSettings.general.useGcodeCoords}set useGcodeCoords(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.useGcodeCoords",value:e,server:!0})}get invertX(){return this.$store.state.config.uiSettings.general.axis.x.inverted}set invertX(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.axis.x.inverted",value:e,server:!0})}get invertY(){return this.$store.state.config.uiSettings.general.axis.y.inverted}set invertY(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.axis.y.inverted",value:e,server:!0})}get invertZ(){return this.$store.state.config.uiSettings.general.axis.z.inverted}set invertZ(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.axis.z.inverted",value:e,server:!0})}get printerSupportsForceMove(){var e;return null!==(e=this.$store.getters["printer/getPrinterSettings"]("force_move.enable_force_move"))&&void 0!==e&&e}get showManualProbeDialogAutomatically(){return this.$store.state.config.uiSettings.general.showManualProbeDialogAutomatically}set showManualProbeDialogAutomatically(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.showManualProbeDialogAutomatically",value:e,server:!0})}get showBedScrewsAdjustDialogAutomatically(){return this.$store.state.config.uiSettings.general.showBedScrewsAdjustDialogAutomatically}set showBedScrewsAdjustDialogAutomatically(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.showBedScrewsAdjustDialogAutomatically",value:e,server:!0})}get forceMoveToggleWarning(){return this.$store.state.config.uiSettings.general.forceMoveToggleWarning}set forceMoveToggleWarning(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.forceMoveToggleWarning",value:e,server:!0})}handleReset(){let e=(0,Mh.W2)().uiSettings.general;const t=this.$store.state.config.uiSettings.general;e={...e,instanceName:t.instanceName,chartVisible:t.chartVisible,hideTempWaits:t.hideTempWaits},this.$store.dispatch("config/saveByPath",{path:"uiSettings.general",value:e,server:!0})}};(0,p.gn)([(0,d.Rl)("toolheadMoveDistances")],Oh.prototype,"toolheadMoveDistancesElement",void 0),(0,p.gn)([(0,d.Rl)("zAdjustValues")],Oh.prototype,"zAdjustValuesElement",void 0),Oh=(0,p.gn)([(0,d.wA)({components:{}})],Oh);const Ih=Oh,Fh=Ih;var Bh=(0,L.Z)(Fh,Dh,Th,!1,null,null,null);const Nh=Bh.exports;var Uh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"theme"}},[e._v(" "+e._s(e.$t("app.setting.title.theme"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",{attrs:{title:e.$t("app.setting.label.theme_preset")}},[t(Pa.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.themePresets,"item-value":"icon.src","item-text":"name","return-object":""},model:{value:e.themePreset,callback:function(t){e.themePreset=t},expression:"themePreset"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.primary_color")}},[t("app-btn",{staticClass:"mr-2",attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")]),e.theme?t("app-color-picker",{attrs:{primary:e.themeColor,title:e.$t("app.setting.btn.select_theme")},on:{change:e.handleChangeThemeColor}}):e._e()],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.dark_mode")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.isDark,callback:function(t){e.isDark=t},expression:"isDark"}})],1)],1)],1)},jh=[],Hh=s(36956);let Wh=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.preset=null}get themePreset(){return this.$store.getters["config/getCurrentThemePreset"]}set themePreset(e){const t={isDark:e.isDark,logo:e.logo,currentTheme:{primary:e.color}};this.setTheme(e.color,e.isDark),this.$store.dispatch("config/saveByPath",{path:"uiSettings.theme",value:t,server:!0})}get theme(){return this.$store.getters["config/getTheme"]}get themeColor(){return this.theme.currentTheme.primary}handleChangeThemeColor(e){this.setTheme(e.color.hexString,this.isDark),this.$store.dispatch("config/saveByPath",{path:"uiSettings.theme.currentTheme.primary",value:e.color.hexString,server:!0})}get isDark(){return this.theme.isDark}set isDark(e){this.setTheme(this.themeColor,e),this.$store.dispatch("config/saveByPath",{path:"uiSettings.theme.isDark",value:e,server:!0})}get themePresets(){return this.$store.state.config.hostConfig.themePresets}setTheme(e,t){this.$vuetify.theme.dark=t,this.$vuetify.theme.currentTheme.primary=e}handleReset(){const e=this.$store.getters["config/getCurrentThemePreset"],t={isDark:e.isDark,logo:e.logo,currentTheme:{primary:e.color}};this.setTheme(e.color,!0),this.$store.dispatch("config/saveByPath",{path:"uiSettings.theme",value:t,server:!0})}};Wh=(0,p.gn)([(0,d.wA)({components:{ThemePicker:Hh["default"]}})],Wh);const zh=Wh,qh=zh;var Vh=(0,L.Z)(qh,Uh,jh,!1,null,null,null);const Gh=Vh.exports;var Yh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"versions"}},[e._v(" "+e._s(e.$t("app.version.title"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",[t("app-btn",{staticClass:"mr-2",attrs:{outlined:"",small:"",color:"primary",disabled:!e.hasUpdates||e.isRefreshing||e.printerPrinting},on:{click:function(t){return e.handleUpdateComponent("all")}}},[t(g.Z,{attrs:{left:""}},[e._v(" $download ")]),e._v(" "+e._s(e.$t("app.version.btn.update_all"))+" ")],1),t("app-btn",{attrs:{outlined:"",small:"",color:"primary",disabled:e.isRefreshing},on:{click:function(t){return e.forceCheck()}}},[t(g.Z,{class:{"spin-alt":e.isRefreshing},attrs:{left:""}},[e._v(" $refresh ")]),e._v(" "+e._s(e.$t("app.version.btn.check_for_updates"))+" ")],1)],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.enable_notifications")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.enableNotifications,callback:function(t){e.enableNotifications=t},expression:"enableNotifications"}})],1),t(ps.Z),e._l(e.components,(function(s,a){return[t("app-setting",{key:`component-${s.key}-${s.name}`,attrs:{title:e.packageTitle(s)},scopedSlots:e._u([{key:"sub-title",fn:function(){return["system"!==s.key&&"full_version_string"in s?t("span",[e._v(" "+e._s(s.full_version_string)+" ")]):t("span",[e._v(" "+e._s(s.version)+" ")]),"remote_version"in s&&e.hasUpdate(s.key)?t("span",[e._v(" -> "+e._s(s.remote_version)+" ")]):e._e(),"system"===s.key&&s.package_count>0?t("span",[e._v(" "+e._s(s.package_count)+" packages ")]):e._e()]},proxy:!0}],null,!0)},[e.hasUpdate(s.key)&&!e.inError(s)?t(k.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({attrs:a,on:r}){return[e.hasUpdate(s.key)&&!e.inError(s)?t("app-btn",e._g(e._b({attrs:{color:"primary",icon:"",small:""},on:{click:function(t){return e.handleInformationDialog(s)}}},"app-btn",a,!1),r),[t(g.Z,{attrs:{small:""}},[e._v(" $info ")])],1):e._e()]}}],null,!0)},["name"in s?t("span",[e._v(e._s(e.$t("app.version.tooltip.release_notes")))]):e._e(),"commits_behind"in s?t("span",[e._v(e._s(e.$t("app.version.tooltip.commit_history")))]):e._e(),"package_list"in s?t("span",[e._v(e._s(e.$t("app.version.tooltip.packages")))]):e._e()]):e._e(),t("version-status",{attrs:{"has-update":e.hasUpdate(s.key),disabled:e.isRefreshing||e.printerPrinting,loading:e.isRefreshing,dirty:"is_dirty"in s&&s.is_dirty,valid:!("is_valid"in s)||s.is_valid},on:{"on-update":function(t){return e.handleUpdateComponent(s.key)},"on-recover":function(t){return e.handleRecoverComponent(s)}}})],1),a<e.components.length-1&&e.components.length>0?t(ps.Z,{key:`component-${s.key}-${s.name}-_divider`}):e._e()]}))],2),e.informationDialogState.open?t("version-commit-history-dialog",{attrs:{component:e.informationDialogState.component},model:{value:e.informationDialogState.open,callback:function(t){e.$set(e.informationDialogState,"open",t)},expression:"informationDialogState.open"}}):e._e()],1)},Kh=[],Xh=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.hasUpdate||e.dirty||!e.valid?e._e():t(Ri.Z,{attrs:{small:"",outlined:"",color:e.disabled?"grey darken-2":"success"}},[e._v(" "+e._s(e.$t("app.version.label.up_to_date"))+" ")]),e.dirty&&e.valid?t(k.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(Ri.Z,e._g(e._b({attrs:{small:"",outlined:"",disabled:e.disabled,color:e.disabled?"grey darken-2":"error"}},"v-chip",a,!1),s),[e._v(" "+e._s(e.$t("app.version.label.dirty"))+" ")])]}}],null,!1,970811321)},[t("span",[e._v(e._s(e.$t("app.version.tooltip.dirty")))])]):e._e(),e.valid?e._e():t(k.Z,{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function({on:s,attrs:a}){return[t(Ri.Z,e._g(e._b({attrs:{small:"",outlined:"",color:e.disabled?"grey darken-2":"error"}},"v-chip",a,!1),s),[e._v(" "+e._s(e.$t("app.version.label.invalid"))+" ")])]}}],null,!1,103834092)},[t("span",[e._v(e._s(e.$t("app.version.tooltip.invalid")))])]),e.hasUpdate&&!e.dirty&&e.valid?t("app-btn",{staticClass:"ml-1",attrs:{disabled:e.disabled,small:"",text:"",color:"primary"},on:{click:function(t){return e.$emit("on-update")}}},[e._v(" "+e._s(e.$t("app.version.btn.update"))+" ")]):e._e(),e.dirty||!e.valid?t("app-btn",{staticClass:"ml-1",attrs:{small:"",text:"",color:"error"},on:{click:function(t){return e.$emit("on-recover")}}},[e._v(" "+e._s(e.$t("app.general.btn.recover"))+" ")]):e._e()],1)},Jh=[];let Qh=class extends r["default"]{};(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Qh.prototype,"hasUpdate",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Qh.prototype,"disabled",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Qh.prototype,"loading",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!1})],Qh.prototype,"dirty",void 0),(0,p.gn)([(0,d.fI)({type:Boolean,default:!0})],Qh.prototype,"valid",void 0),Qh=(0,p.gn)([(0,d.wA)({})],Qh);const eg=Qh,tg=eg;var sg=(0,L.Z)(tg,Xh,Jh,!1,null,null,null);const ag=sg.exports;var rg=s(78893),ig=s(62082),ng=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":850,scrollable:""},on:{input:function(t){return e.$emit("input",t)}}},[e.component?t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},["commits_behind"in e.component?t("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.version.label.commit_history")))]):t("span",{staticClass:"focus--text"},[e._v(e._s(e.$t("app.version.label.package_list")))]),t(Ce.Z),t("app-btn",{attrs:{color:"",icon:""},on:{click:function(t){return e.$emit("input",!1)}}},[t(g.Z,[e._v("$close")])],1)],1),t(ps.Z),e.commitHistory?t(N.ZB,{staticClass:"py-0 pl-0"},[t(rg.Z,{attrs:{"align-top":"",dense:""}},e._l(e.commitHistory.keys,(function(s){return t(ig.Z,{key:`key-${s}`,attrs:{color:"transparent",small:""},scopedSlots:e._u([{key:"icon",fn:function(){return[t(g.Z,{staticClass:"rotate-90",attrs:{color:"secondary"}},[e._v(" $commit ")])]},proxy:!0}],null,!0)},[t("div",{staticClass:"secondary--text mb-4"},[e._v(" "+e._s(e.$t("app.version.label.commits_on"))+" "+e._s(e.$dayjs(s).format("ll"))+" ")]),t("ol",{staticClass:"commit-history"},[e._l(e.commitHistory.result[s],(function(s){return[t("li",{key:s.sha},[t("div",[t("div",{staticClass:"commit-subject"},[e._v(" "+e._s(s.subject)+" ")]),t("div",{staticClass:"secondary--text"},[t("a",{staticClass:"secondary--text",attrs:{href:`${e.baseUrl}/commits/${e.component.branch}`,target:"_blank"}},[t("strong",[e._v(e._s(s.author))])]),e._v(" "+e._s(e.$t("app.version.label.committed"))+" "+e._s(e.$dayjs(s.date).fromNow())+" ")])]),t("div",[t("app-btn",{attrs:{small:"",outlined:"",color:"secondary",href:`${e.baseUrl}/commit/${s.sha}`,target:"_blank"}},[t("span",{staticClass:"primary--text"},[e._v(e._s(s.sha.substring(0,7)))])])],1)])]}))],2)])})),1)],1):e._e(),e.component.package_list?t(N.ZB,{staticClass:"pt-4"},[t("div",{staticClass:"chip-group"},e._l(e.component.package_list,(function(s){return t(Ri.Z,{key:s,attrs:{small:""}},[e._v(" "+e._s(s)+" ")])})),1)]):e._e()],1):e._e()],1)},og=[];let lg=class extends d.w3{get commitHistory(){return this.$store.getters["version/getCommitHistory"](this.component.key)}get baseUrl(){return"owner"in this.component?`https://github.com/${this.component.owner}/${this.component.key}`:""}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],lg.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Object})],lg.prototype,"component",void 0),lg=(0,p.gn)([(0,d.wA)({})],lg);const cg=lg,pg=cg;var dg=(0,L.Z)(pg,ng,og,!1,null,"e99904de",null);const ug=dg.exports;let mg=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.informationDialogState={open:!1,component:null}}get components(){return this.$store.getters["version/getVisibleComponents"]}get isRefreshing(){return this.$store.state.version.refreshing}get hasUpdates(){const e=this.$store.getters["version/hasUpdates"];return e}get enableNotifications(){return this.$store.state.config.uiSettings.general.enableVersionNotifications}set enableNotifications(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.general.enableVersionNotifications",value:e,server:!0})}packageTitle(e){return"system"===e.key?this.$t("app.version.label.os_packages"):e.key}hasUpdate(e){return this.$store.getters["version/hasUpdate"](e)}inError(e){const t="is_dirty"in e&&e.is_dirty,s=!("is_valid"in e)||e.is_valid;return t||!s}packageUrl(e){return"klipper"===e.key?"https://github.com/KevinOConnor/klipper/commits/master":"moonraker"===e.key?"https://github.com/Arksine/moonraker/commits/master":"fluidd"===e.key&&"name"in e&&"fluidd"===e.name?"https://github.com/fluidd-core/fluidd/releases":void 0}handleUpdateComponent(e){switch(this.$store.dispatch("version/onUpdateStatus",{busy:!0}),e){case"klipper":$.r.machineUpdateKlipper();break;case"moonraker":$.r.machineUpdateMoonraker();break;case"system":$.r.machineUpdateSystem();break;case"all":$.r.machineUpdateAll();break;default:$.r.machineUpdateClient(e);break}this.$emit("click")}handleRecoverComponent(e){this.$store.dispatch("version/onUpdateStatus",{busy:!0});const t="is_dirty"in e&&e.is_dirty,s=!("is_valid"in e)||e.is_valid;t&&$.r.machineUpdateRecover(e.key,!1),s||$.r.machineUpdateRecover(e.key,!0)}forceCheck(){$.r.machineUpdateStatus(!0)}getBaseUrl(e){return"owner"in e?`https://github.com/${e.owner}/${e.key}`:""}handleInformationDialog(e){"commits_behind"in e||"package_list"in e?this.informationDialogState={open:!0,component:e}:window.open(`${this.getBaseUrl(e)}/releases`)}};mg=(0,p.gn)([(0,d.wA)({components:{VersionStatus:ag,VersionCommitHistoryDialog:ug}})],mg);const hg=mg,gg=hg;var fg=(0,L.Z)(gg,Yh,Kh,!1,null,null,null);const vg=fg.exports;var _g=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"gcodePreview"}},[e._v(" "+e._s(e.$t("app.setting.title.gcode_preview"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",{attrs:{title:e.$t("app.setting.label.show_animations")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.showAnimations,callback:function(t){e.showAnimations=t},expression:"showAnimations"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.group_lower_layers")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.groupLowerLayers,callback:function(t){e.groupLowerLayers=t},expression:"groupLowerLayers"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.draw_background")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.drawBackground,callback:function(t){e.drawBackground=t},expression:"drawBackground"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.extrusion_line_width")}},[t(Ze.Z,{attrs:{value:e.extrusionLineWidth,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"auto",suffix:"mm"},on:{change:e.setExtrusionLineWidth}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.move_line_width")}},[t(Ze.Z,{attrs:{value:e.moveLineWidth,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"auto",suffix:"mm"},on:{change:e.setMoveLineWidth}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.retraction_icon_size")}},[t(Ze.Z,{attrs:{value:e.retractionIconSize,rules:[e.rules.numRequired,e.rules.numMin],filled:"",dense:"","single-line":"","hide-details":"auto",suffix:"mm"},on:{change:e.setRetractionIconSize}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.flip_horizontal")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.flipHorizontal,callback:function(t){e.flipHorizontal=t},expression:"flipHorizontal"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.flip_vertical")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.flipVertical,callback:function(t){e.flipVertical=t},expression:"flipVertical"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.auto_load_on_print_start")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.autoLoadOnPrintStart,callback:function(t){e.autoLoadOnPrintStart=t},expression:"autoLoadOnPrintStart"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.auto_follow_on_file_load")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.autoFollowOnFileLoad,callback:function(t){e.autoFollowOnFileLoad=t},expression:"autoFollowOnFileLoad"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.reset")}},[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")])],1)],1)],1)},yg=[];let bg=class extends d.w3{constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),numMin:e=>e>0||this.$t("app.general.simple_form.error.min",{min:0})}}get extrusionLineWidth(){return this.$store.state.config.uiSettings.gcodePreview.extrusionLineWidth}setExtrusionLineWidth(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.extrusionLineWidth",value:+e,server:!0})}get moveLineWidth(){return this.$store.state.config.uiSettings.gcodePreview.moveLineWidth}setMoveLineWidth(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.moveLineWidth",value:+e,server:!0})}get retractionIconSize(){return this.$store.state.config.uiSettings.gcodePreview.retractionIconSize}setRetractionIconSize(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.retractionIconSize",value:+e,server:!0})}get flipHorizontal(){return this.$store.state.config.uiSettings.gcodePreview.flip.horizontal}set flipHorizontal(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.flip.horizontal",value:e,server:!0})}get flipVertical(){return this.$store.state.config.uiSettings.gcodePreview.flip.vertical}set flipVertical(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.flip.vertical",value:e,server:!0})}get drawBackground(){return this.$store.state.config.uiSettings.gcodePreview.drawBackground}set drawBackground(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.drawBackground",value:e,server:!0})}get showAnimations(){return this.$store.state.config.uiSettings.gcodePreview.showAnimations}set showAnimations(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.showAnimations",value:e,server:!0})}get groupLowerLayers(){return this.$store.state.config.uiSettings.gcodePreview.groupLowerLayers}set groupLowerLayers(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.groupLowerLayers",value:e,server:!0})}get autoLoadOnPrintStart(){return this.$store.state.config.uiSettings.gcodePreview.autoLoadOnPrintStart}set autoLoadOnPrintStart(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.autoLoadOnPrintStart",value:e,server:!0})}get autoFollowOnFileLoad(){return this.$store.state.config.uiSettings.gcodePreview.autoFollowOnFileLoad}set autoFollowOnFileLoad(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview.autoFollowOnFileLoad",value:e,server:!0})}handleReset(){this.$store.dispatch("config/saveByPath",{path:"uiSettings.gcodePreview",value:(0,Mh.W2)().uiSettings.gcodePreview,server:!0})}};bg=(0,p.gn)([(0,d.wA)({components:{}})],bg);const xg=bg,$g=xg;var wg=(0,L.Z)($g,_g,yg,!1,null,null,null);const Sg=wg.exports;var kg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"auth"}},[e._v(" "+e._s(e.$t("app.setting.title.authentication"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",[t("app-btn",{staticClass:"mr-2",attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleApiKeyDialog}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $edit ")]),e._v(" "+e._s(e.$t("app.general.label.api_key"))+" ")],1),t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleAddUserDialog}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_user"))+" ")],1)],1),e.users.length>0?t(ps.Z):e._e(),e._l(e.users,(function(s,a){return[t("app-setting",{key:`user-${s.username}`,attrs:{"sub-title":s.username===e.currentUser?e.$t("app.general.label.current_user"):"moonraker"!==s.source?e.$t("app.general.label.user_managed_source",{source:e.$t(`app.general.label.${s.source}`)}):void 0,"r-cols":3},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(s.username)+" ")]},proxy:!0}],null,!0)},[t("app-btn",{attrs:{disabled:s.username===e.currentUser||"moonraker"!==s.source,fab:"",text:"","x-small":"",color:""},on:{click:function(t){return t.stopPropagation(),e.handleRemoveUser(s)}}},[t(g.Z,{attrs:{color:""}},[e._v(" $close ")])],1)],1),a<e.users.length-1?t(ps.Z,{key:`divider-${s.username}`}):e._e()]})),e.userDialogState.open?t("user-config-dialog",{attrs:{user:e.userDialogState.user},on:{save:e.userDialogState.handler},model:{value:e.userDialogState.open,callback:function(t){e.$set(e.userDialogState,"open",t)},expression:"userDialogState.open"}}):e._e(),e.apiKeyDialogState.open?t("api-key-dialog",{model:{value:e.apiKeyDialogState.open,callback:function(t){e.$set(e.apiKeyDialogState,"open",t)},expression:"apiKeyDialogState.open"}}):e._e()],2)],1)},Cg=[],Zg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":500},on:{input:function(t){return e.$emit("input",t)}}},[t(ds.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSave(e.user)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.user.created_on?e.$t("app.general.label.edit_user"):e.$t("app.general.label.add_user")))])]),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.general.label.name")}},[t(Ze.Z,{staticClass:"mt-0",attrs:{autocomplete:"username",disabled:e.user.created_on,filled:"",dense:"","hide-details":"auto",rules:[e.rules.required,e.rules.max]},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.general.label.password")}},[t(Ze.Z,{staticClass:"mt-0",attrs:{autocomplete:"current-password",filled:"",dense:"",type:"password","hide-details":"auto",rules:[e.rules.required,e.rules.min,e.rules.password]},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),t(ps.Z),t(N.h7,[t(Ce.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),t("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(e.user.created_on?e.$t("app.general.btn.save"):e.$t("app.general.btn.add"))+" ")])],1)],1)],1)],1)},Pg=[];let Ag=class extends d.w3{constructor(){super(...arguments),this.valid=!1,this.rules={required:e=>void 0!==e&&""!==e||this.$t("app.general.simple_form.error.required"),password:e=>e.toLowerCase()!==this.user.username.toLowerCase()||this.$t("app.general.simple_form.error.password_username"),min:e=>void 0!==e&&e.length>=4||this.$t("app.general.simple_form.error.min",{min:4}),max:e=>void 0!==e&&e.length<=60||this.$t("app.general.simple_form.error.max",{max:60})}}handleSave(){this.valid&&(this.$emit("save",this.user),this.$emit("input",!1))}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],Ag.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Object,required:!0})],Ag.prototype,"user",void 0),Ag=(0,p.gn)([(0,d.wA)({})],Ag);const Rg=Ag,Eg=Rg;var Lg=(0,L.Z)(Eg,Zg,Pg,!1,null,null,null);const Dg=Lg.exports;var Tg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":500},on:{input:function(t){return e.$emit("input",t)}}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text",domProps:{innerHTML:e._s(e.$t("app.general.label.api_key"))}})]),t(ps.Z),t(N.ZB,{staticClass:"py-4"},[t(Ze.Z,{attrs:{value:e.apiKey,filled:"",dense:"","single-line":"","hide-details":"",readonly:"",outlined:""}})],1),t(z.Z,{staticClass:"pb-4",attrs:{"align-center":"",column:""}},[t("app-qr-code",{attrs:{value:e.apiKey,centered:""}})],1),t(ps.Z),t(N.h7,{staticClass:"pa-4"},[t(Ce.Z),t("app-btn",{attrs:{color:""},on:{click:e.handleRefreshApiKey}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $refresh ")]),e._v(" "+e._s(e.$t("app.general.btn.refresh"))+" ")],1),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.close"))+" ")])],1)],1)],1)},Mg=[];let Og=class extends d.w3{get apiKey(){return this.$store.getters["auth/getApiKey"]}handleRefreshApiKey(){this.$store.dispatch("auth/refreshApiKey")}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],Og.prototype,"value",void 0),Og=(0,p.gn)([(0,d.wA)({})],Og);const Ig=Og,Fg=Ig;var Bg=(0,L.Z)(Fg,Tg,Mg,!1,null,null,null);const Ng=Bg.exports;let Ug=class extends d.w3{constructor(){super(...arguments),this.search="",this.categoryId=void 0,this.userDialogState={open:!1,user:null,handler:null},this.apiKeyDialogState={open:!1}}get users(){return this.$store.getters["auth/getUsers"]}get currentUser(){const e=this.$store.getters["auth/getCurrentUser"];return e&&e.username?e.username:""}handleAddUserDialog(){this.userDialogState={open:!0,user:{username:"",password:""},handler:this.handleSaveUser}}handleEditUserDialog(e){this.userDialogState={open:!0,user:e,handler:this.handleSaveUser}}handleApiKeyDialog(){this.apiKeyDialogState.open=!0}handleRemoveUser(e){this.$confirm(this.$tc("app.general.simple_form.msg.confirm"),{title:this.$tc("app.general.label.confirm"),color:"card-heading",icon:"$error"}).then((t=>{t&&this.$store.dispatch("auth/removeUser",e)}))}async handleSaveUser(e){await this.$store.dispatch("auth/addUser",e),0===this.users.length&&this.$store.dispatch("auth/checkTrust")}};Ug=(0,p.gn)([(0,d.wA)({components:{UserConfigDialog:Dg,ApiKeyDialog:Ng}})],Ug);const jg=Ug,Hg=jg;var Wg=(0,L.Z)(Hg,kg,Cg,!1,null,null,null);const zg=Wg.exports;var qg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"console"}},[e._v(" "+e._s(e.$t("app.setting.title.console"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",{attrs:{title:e.$tc("app.setting.label.filter",2)}},[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:function(t){return e.handleEditFilterDialog(null)}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $plus ")]),e._v(" "+e._s(e.$t("app.setting.btn.add_filter"))+" ")],1)],1),t(ps.Z),e._l(e.filters,(function(s){return[t("app-setting",{key:`filter-${s.name}`,attrs:{"r-cols":3},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" "+e._s(s.name)+" ")]},proxy:!0}],null,!0)},[t("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(t){return t.stopPropagation(),e.handleEditFilterDialog(s)}}},[t(g.Z,{attrs:{color:""}},[e._v(" $edit ")])],1),t("app-btn",{attrs:{fab:"",text:"","x-small":"",color:""},on:{click:function(t){return t.stopPropagation(),e.handleRemoveFilter(s)}}},[t(g.Z,{attrs:{color:""}},[e._v(" $close ")])],1)],1),t(ps.Z,{key:`divider-${s.name}`})]})),e.dialogState.open?t("console-filter-dialog",{attrs:{filter:e.dialogState.filter,rules:e.dialogState.rules},on:{save:e.handleSaveFilter},model:{value:e.dialogState.open,callback:function(t){e.$set(e.dialogState,"open",t)},expression:"dialogState.open"}}):e._e()],2)],1)},Vg=[],Gg=s(30258),Yg=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":500},on:{input:function(t){return e.$emit("input",t)}}},[t(ds.Z,{ref:"addInstanceForm",staticClass:"mt-3",on:{submit:function(t){return t.preventDefault(),e.handleSave.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.filter.id?e.$t("app.general.label.edit_filter"):e.$t("app.general.label.add_filter")))])]),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.enable"),"r-cols":8}},[t(Sc.Z,{staticClass:"mt-0",attrs:{"hide-details":"auto"},model:{value:e.filter.enabled,callback:function(t){e.$set(e.filter,"enabled",t)},expression:"filter.enabled"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.general.label.name"),"r-cols":8}},[t(Ze.Z,{staticClass:"mt-0",attrs:{filled:"",dense:"","hide-details":"auto",rules:[e.rules.required,e.rules.uniqueName]},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.type"),"r-cols":8}},[t(Pa.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.types,"item-value":"value","item-text":"text"},model:{value:e.filter.type,callback:function(t){e.$set(e.filter,"type",t)},expression:"filter.type"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.type.text,"r-cols":8}},[t(Ze.Z,{staticClass:"mt-0",attrs:{filled:"",dense:"","hide-details":"auto",rules:e.type.rules},model:{value:e.filter.value,callback:function(t){e.$set(e.filter,"value",t)},expression:"filter.value"}})],1),t(N.h7,[t(Ce.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},on:{click:function(t){return e.$emit("input",!1)}}},[e._v(" "+e._s(e.$t("app.general.btn.cancel"))+" ")]),t("app-btn",{attrs:{color:"primary",type:"submit"}},[e._v(" "+e._s(e.$t("app.general.btn.save"))+" ")])],1)],1)],1)],1)},Kg=[];let Xg=class extends d.w3{constructor(){super(...arguments),this.valid=!0,this.types=[{text:this.$t("app.setting.label.contains"),value:Gg.T.Contains,rules:[this.rules.required]},{text:this.$t("app.setting.label.starts_with"),value:Gg.T.StartsWith,rules:[this.rules.required]},{text:this.$t("app.setting.label.expression"),value:Gg.T.Expression,rules:[this.rules.required,this.rules.validExpression]}]}get type(){return this.types.find((e=>{var t;return e.value===(null===(t=this.filter)||void 0===t?void 0:t.type)}))||this.types[0]}handleSave(){this.valid&&(this.$emit("save",this.filter),this.$emit("input",!1))}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],Xg.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Object,required:!0})],Xg.prototype,"rules",void 0),(0,p.gn)([(0,d.fI)({type:Object,required:!0})],Xg.prototype,"filter",void 0),Xg=(0,p.gn)([(0,d.wA)({})],Xg);const Jg=Xg,Qg=Jg;var ef=(0,L.Z)(Qg,Yg,Kg,!1,null,null,null);const tf=ef.exports;let sf=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.dialogState={open:!1,rules:null,filter:null}}get filters(){return this.$store.getters["console/getFilters"]}handleEditFilterDialog(e){const t=e?{...e}:{id:"",enabled:!0,name:"",type:Gg.T.Contains,value:""};this.dialogState={open:!0,rules:{required:e=>!!e||this.$t("app.general.simple_form.error.required"),uniqueName:e=>!this.filters.some((t=>t.id!==this.dialogState.filter.id&&t.name.toLowerCase()===e.toLowerCase()))||this.$t("app.general.simple_form.error.exists"),validExpression:e=>{try{return e&&new RegExp(e),!0}catch(t){}return this.$t("app.general.simple_form.error.invalid_expression")}},filter:t}}handleRemoveFilter(e){this.$store.dispatch("console/onRemoveFilter",e)}handleSaveFilter(e){this.$store.dispatch("console/onSaveFilter",e)}};sf=(0,p.gn)([(0,d.wA)({components:{ConsoleFilterDialog:tf}})],sf);const af=sf,rf=af;var nf=(0,L.Z)(rf,qg,Vg,!1,null,null,null);const of=nf.exports;var lf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"editor"}},[e._v(" "+e._s(e.$t("app.setting.title.file_editor"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",{attrs:{title:e.$t("app.setting.label.confirm_dirty_editor_close")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.confirmDirtyEditorClose,callback:function(t){e.confirmDirtyEditorClose=t},expression:"confirmDirtyEditorClose"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.auto_edit_extensions")}},[t(Lh.Z,{attrs:{filled:"",dense:"","hide-selected":"","hide-details":"auto",multiple:"","small-chips":"","append-icon":"","deletable-chips":""},model:{value:e.autoEditExtensions,callback:function(t){e.autoEditExtensions=t},expression:"autoEditExtensions"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.show_code_lens")}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":""},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.codeLens,callback:function(t){e.codeLens=t},expression:"codeLens"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.reset")}},[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")])],1)],1)],1)},cf=[];let pf=class extends((0,d.Wr)(u.Z)){get confirmDirtyEditorClose(){return this.$store.state.config.uiSettings.editor.confirmDirtyEditorClose}set confirmDirtyEditorClose(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.editor.confirmDirtyEditorClose",value:e,server:!0})}get autoEditExtensions(){return this.$store.state.config.uiSettings.editor.autoEditExtensions}set autoEditExtensions(e){e=e.map((e=>e.startsWith(".")?e:`.${e}`)),e=e.filter(((t,s)=>e.indexOf(t)===s)),this.$store.dispatch("config/saveByPath",{path:"uiSettings.editor.autoEditExtensions",value:e.sort(),server:!0})}get codeLens(){return this.$store.state.config.uiSettings.editor.codeLens}set codeLens(e){this.$store.dispatch("config/saveByPath",{path:"uiSettings.editor.codeLens",value:e,server:!0})}handleReset(){this.$store.dispatch("config/saveByPath",{path:"uiSettings.editor",value:(0,Mh.W2)().uiSettings.editor,server:!0})}};pf=(0,p.gn)([(0,d.wA)({components:{}})],pf);const df=pf,uf=df;var mf=(0,L.Z)(uf,lf,cf,!1,null,null,null);const hf=mf.exports;var gf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{attrs:{id:"timelapse"}},[e._v(" "+e._s(e.$t("app.general.title.timelapse"))+" ")]),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",{attrs:{title:e.$tc("app.general.title.camera",1),"sub-title":e.subtitleIfBlocked(e.cameraBlocked)}},[t(Pa.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.cameras,value:e.camera,disabled:e.cameraBlocked},model:{value:e.camera,callback:function(t){e.camera=t},expression:"camera"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.mode"),"sub-title":e.subtitleIfBlocked(e.modeBlocked)}},[t(Pa.Z,{attrs:{filled:"",dense:"","single-line":"","hide-details":"auto",items:e.supportedModes,value:e.mode,disabled:e.modeBlocked},model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}})],1),"hyperlapse"===e.mode?t("hyperlapse-settings"):e._e(),t("toolhead-parking-settings"),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.stream_delay_compensation"),"sub-title":e.subtitleIfBlocked(e.delayCompBlocked)}},[t(Ze.Z,{ref:"delayCompElement",attrs:{value:e.delayComp,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.delayCompBlocked,"hide-details":!e.delayCompElement||e.delayCompElement.valid,filled:"",dense:"","single-line":"",suffix:"ms"},on:{change:e.setDelayComp}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.gcode_verbose"),"sub-title":e.subtitleIfBlocked(e.verboseGcodeBlocked)}},[t(Sc.Z,{attrs:{"hide-details":"",disabled:e.verboseGcodeBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.verboseGcode,callback:function(t){e.verboseGcode=t},expression:"verboseGcode"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$tc("app.timelapse.title.render_settings")}},[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:function(t){e.renderSettingsDialogOpen=!0}}},[t(g.Z,{attrs:{small:"",left:""}},[e._v(" $pencil ")]),e._v(" "+e._s(e.$t("app.general.btn.edit"))+" ")],1)],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.setting.label.reset")}},[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleReset}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")])],1)],1),e.renderSettingsDialogOpen?t("timelapse-render-settings-dialog",{attrs:{renderable:!1},model:{value:e.renderSettingsDialogOpen,callback:function(t){e.renderSettingsDialogOpen=t},expression:"renderSettingsDialogOpen"}}):e._e()],1)},ff=[],vf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.hyperlapse_cycle"),"sub-title":e.subtitleIfBlocked(e.hyperlapseCycleBlocked)}},[t(Ze.Z,{ref:"hyperlapseCycleElement",attrs:{value:e.hyperlapseCycle,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin],disabled:e.hyperlapseCycleBlocked,"hide-details":!e.hyperlapseCycleElement||e.hyperlapseCycleElement.valid,filled:"",dense:"","single-line":"",suffix:"s"},on:{change:e.setHyperlapseCycle}})],1)],1)},_f=[];let yf=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>e>=1||this.$t("app.general.simple_form.error.min",{min:1})}}get hyperlapseCycleBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("hyperlapse_cycle")}get hyperlapseCycle(){var e;return null===(e=this.settings)||void 0===e?void 0:e.hyperlapse_cycle}setHyperlapseCycle(e){this.hyperlapseCycleElement.valid&&$.r.machineTimelapseSetSettings({hyperlapse_cycle:e})}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.general.tooltip.managed_by_moonraker"):""}};(0,p.gn)([(0,d.Rl)("hyperlapseCycleElement")],yf.prototype,"hyperlapseCycleElement",void 0),yf=(0,p.gn)([(0,d.wA)({components:{AppSetting:ap["default"]}})],yf);const bf=yf,xf=bf;var $f=(0,L.Z)(xf,vf,_f,!1,null,null,null);const wf=$f.exports;var Sf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.parkhead"),"sub-title":e.subtitleIfBlocked(e.parkheadBlocked)}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":"",disabled:e.parkheadBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.parkhead,callback:function(t){e.parkhead=t},expression:"parkhead"}})],1),e.parkhead?t("div",[t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_time"),"sub-title":e.subtitleIfBlocked(e.parkTimeBlocked)}},[t(Ze.Z,{ref:"parkTimeElement",attrs:{value:e.parkTime,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(0)],disabled:e.parkTimeBlocked,"hide-details":!e.parkTimeElement||e.parkTimeElement.valid,filled:"",dense:"","single-line":"",suffix:"ms"},on:{change:e.setParkTime}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_travel_speed"),"sub-title":e.subtitleIfBlocked(e.parkTravelSpeedBlocked)}},[t(Ze.Z,{ref:"parkTravelSpeedElement",attrs:{value:e.parkTravelSpeed,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(0)],disabled:e.parkTravelSpeedBlocked,"hide-details":!e.parkTravelSpeedElement||e.parkTravelSpeedElement.valid,filled:"",dense:"","single-line":"",suffix:"mm/s"},on:{change:e.setParkTravelSpeed}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.parkpos.label"),"sub-title":e.subtitleIfBlocked(e.parkposBlocked)}},[t(Pa.Z,{attrs:{filled:"",dense:"","hide-details":"auto",items:e.parkPositions,disabled:e.parkposBlocked,"item-value":"value","item-text":"text"},model:{value:e.parkpos,callback:function(t){e.parkpos=t},expression:"parkpos"}})],1),"custom"===e.parkpos?t("custom-park-position-settings"):e._e(),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_custom_pos_dz"),"sub-title":e.subtitleIfBlocked(e.parkPosZBlocked)}},[t(Ze.Z,{ref:"parkPosDZElement",attrs:{value:e.parkPosZ,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(0)],disabled:e.parkPosZBlocked,"hide-details":!e.parkPosDZElement||e.parkPosDZElement.valid,filled:"",dense:"","single-line":"",suffix:"mm"},on:{change:e.setParkPosZ}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.fw_retract"),"sub-title":e.subtitleIfBlocked(e.firmwareRetractBlocked)}},[t(Sc.Z,{staticClass:"mb-5",attrs:{"hide-details":"",disabled:e.firmwareRetractBlocked},nativeOn:{click:function(e){e.stopPropagation()}},model:{value:e.firmwareRetract,callback:function(t){e.firmwareRetract=t},expression:"firmwareRetract"}})],1),e.firmwareRetract?e._e():t("park-extrude-retract-settings")],1):e._e()],1)},kf=[],Cf=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_retract_distance"),"sub-title":e.subtitleIfBlocked(e.parkRetractDistanceBlocked)}},[t(Ze.Z,{ref:"parkRetractDistanceElement",attrs:{value:e.parkRetractDistance,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(0)],disabled:e.parkRetractDistanceBlocked,"hide-details":!e.parkRetractDistanceElement||e.parkRetractDistanceElement.valid,filled:"",dense:"","single-line":"",suffix:"mm"},on:{change:e.setParkRetractDistance}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_retract_speed"),"sub-title":e.subtitleIfBlocked(e.parkRetractSpeedBlocked)}},[t(Ze.Z,{ref:"parkRetractSpeedElement",attrs:{value:e.parkRetractSpeed,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numAboveZero],disabled:e.parkRetractSpeedBlocked,"hide-details":!e.parkRetractSpeedElement||e.parkRetractSpeedElement.valid,filled:"",dense:"","single-line":"",suffix:"mm/s"},on:{change:e.setParkRetractSpeed}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_extrude_distance"),"sub-title":e.subtitleIfBlocked(e.parkExtrudeDistanceBlocked)}},[t(Ze.Z,{ref:"parkExtrudeDistanceElement",attrs:{value:e.parkExtrudeDistance,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(0)],disabled:e.parkExtrudeDistanceBlocked,"hide-details":!e.parkExtrudeDistanceElement||e.parkExtrudeDistanceElement.valid,filled:"",dense:"","single-line":"",suffix:"mm"},on:{change:e.setParkExtrudeDistance}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_extrude_speed"),"sub-title":e.subtitleIfBlocked(e.parkExtrudeSpeedBlocked)}},[t(Ze.Z,{ref:"parkExtrudeSpeedElement",attrs:{value:e.parkExtrudeSpeed,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numAboveZero],disabled:e.parkExtrudeSpeedBlocked,"hide-details":!e.parkExtrudeSpeedElement||e.parkExtrudeSpeedElement.valid,filled:"",dense:"","single-line":"",suffix:"mm/s"},on:{change:e.setParkExtrudeSpeed}})],1)],1)},Zf=[];let Pf=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>t=>t>=e||this.$t("app.general.simple_form.error.min",{min:e}),numAboveZero:e=>e>0||this.$t("app.general.simple_form.error.min",{min:"> 0"}),numMax:e=>t=>t<=e||this.$t("app.general.simple_form.error.min",{max:e})}}get parkRetractDistanceBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_retract_distance")}get parkRetractDistance(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_retract_distance}setParkRetractDistance(e){var t;(null===(t=this.parkRetractDistanceElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({park_retract_distance:e})}get parkRetractSpeedBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_retract_speed")}get parkRetractSpeed(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_retract_speed}setParkRetractSpeed(e){var t;(null===(t=this.parkRetractDistanceElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({park_retract_speed:e})}get parkExtrudeDistanceBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_extrude_distance")}get parkExtrudeDistance(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_extrude_distance}setParkExtrudeDistance(e){var t;(null===(t=this.parkExtrudeDistanceElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({park_extrude_distance:e})}get parkExtrudeSpeedBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_extrude_speed")}get parkExtrudeSpeed(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_extrude_speed}setParkExtrudeSpeed(e){var t;(null===(t=this.parkRetractDistanceElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({park_extrude_speed:e})}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.general.tooltip.managed_by_moonraker"):""}};(0,p.gn)([(0,d.Rl)("parkRetractDistanceElement")],Pf.prototype,"parkRetractDistanceElement",void 0),(0,p.gn)([(0,d.Rl)("parkRetractSpeedElement")],Pf.prototype,"parkRetractSpeedElement",void 0),(0,p.gn)([(0,d.Rl)("parkExtrudeDistanceElement")],Pf.prototype,"parkExtrudeDistanceElement",void 0),(0,p.gn)([(0,d.Rl)("parkExtrudeSpeedElement")],Pf.prototype,"parkExtrudeSpeedElement",void 0),Pf=(0,p.gn)([(0,d.wA)({components:{AppSetting:ap["default"],CollapsableCard:jc["default"]}})],Pf);const Af=Pf,Rf=Af;var Ef=(0,L.Z)(Rf,Cf,Zf,!1,null,null,null);const Lf=Ef.exports;var Df=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_custom_pos_x"),"sub-title":e.subtitleIfBlocked(e.getCustomParkPosBlocked("x"))}},[t(Ze.Z,{ref:"parkPosXElement",attrs:{value:e.parkPosX,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(e.printerMinX),e.rules.numMax(e.printerMaxX)],disabled:e.getCustomParkPosBlocked("x"),"hide-details":!e.parkPosXElement||e.parkPosXElement.valid,filled:"",dense:"","single-line":"",suffix:"mm"},on:{change:e.setParkPosX}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.timelapse.setting.park_custom_pos_y"),"sub-title":e.subtitleIfBlocked(e.getCustomParkPosBlocked("y"))}},[t(Ze.Z,{ref:"parkPosYElement",attrs:{value:e.parkPosY,rules:[e.rules.numRequired,e.rules.validNum,e.rules.numMin(e.printerMinY),e.rules.numMax(e.printerMaxY)],disabled:e.getCustomParkPosBlocked("y"),"hide-details":!e.parkPosYElement||e.parkPosYElement.valid,filled:"",dense:"","single-line":"",suffix:"mm"},on:{change:e.setParkPosY}})],1)],1)},Tf=[];let Mf=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>t=>t>=e||this.$t("app.general.simple_form.error.min",{min:e}),numMax:e=>t=>t<=e||this.$t("app.general.simple_form.error.max",{max:e})}}getCustomParkPosBlocked(e){return this.$store.getters["timelapse/isBlockedSetting"](`park_custom_pos_${e}`)}get parkpos(){var e;return null===(e=this.settings)||void 0===e?void 0:e.parkpos}set parkpos(e){$.r.machineTimelapseSetSettings({parkpos:e})}get parkPosX(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_custom_pos_x}setParkPosX(e){var t;(null===(t=this.parkPosXElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({park_custom_pos_x:e})}get parkPosY(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_custom_pos_y}setParkPosY(e){var t;(null===(t=this.parkPosYElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({park_custom_pos_y:e})}get printerMinX(){var e,t;return+(null!==(t=null===(e=this.$store.getters["printer/getPrinterConfig"]().stepper_x)||void 0===e?void 0:e.position_min)&&void 0!==t?t:0)}get printerMaxX(){var e,t;return+(null!==(t=null===(e=this.$store.getters["printer/getPrinterConfig"]().stepper_x)||void 0===e?void 0:e.position_max)&&void 0!==t?t:1/0)}get printerMinY(){var e,t;return+(null!==(t=null===(e=this.$store.getters["printer/getPrinterConfig"]().stepper_y)||void 0===e?void 0:e.position_min)&&void 0!==t?t:0)}get printerMaxY(){var e,t;return+(null!==(t=null===(e=this.$store.getters["printer/getPrinterConfig"]().stepper_y)||void 0===e?void 0:e.position_max)&&void 0!==t?t:1/0)}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.general.tooltip.managed_by_moonraker"):""}};(0,p.gn)([(0,d.Rl)("parkPosXElement")],Mf.prototype,"parkPosXElement",void 0),(0,p.gn)([(0,d.Rl)("parkPosYElement")],Mf.prototype,"parkPosYElement",void 0),Mf=(0,p.gn)([(0,d.wA)({components:{ParkExtrudeRetractSettings:Lf,AppSetting:ap["default"],CollapsableCard:jc["default"]}})],Mf);const Of=Mf,If=Of;var Ff=(0,L.Z)(If,Df,Tf,!1,null,null,null);const Bf=Ff.exports;let Nf=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>t=>t>=e||this.$t("app.general.simple_form.error.min",{min:e}),numMax:e=>t=>t<=e||this.$t("app.general.simple_form.error.min",{max:e})}}get parkPositions(){const e=["front_left","front_right","center","back_left","back_right","custom"];return e.map((e=>({text:this.$tc(`app.timelapse.setting.parkpos.${e}`),value:e})))}get parkheadBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("parkhead")}get parkhead(){var e;return null===(e=this.settings)||void 0===e?void 0:e.parkhead}set parkhead(e){$.r.machineTimelapseSetSettings({parkhead:e})}get parkposBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("parkpos")}get parkpos(){var e;return null===(e=this.settings)||void 0===e?void 0:e.parkpos}set parkpos(e){$.r.machineTimelapseSetSettings({parkpos:e})}get parkTimeBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_time")}get parkTime(){var e;return 1e3*(null===(e=this.settings)||void 0===e?void 0:e.park_time)}setParkTime(e){var t;(null===(t=this.parkTimeElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({park_time:e/1e3})}get parkTravelSpeedBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_travel_speed")}get parkTravelSpeed(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_travel_speed}setParkTravelSpeed(e){var t;(null===(t=this.parkTravelSpeedElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({park_travel_speed:e})}get parkPosZBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("park_custom_pos_dz")}get parkPosZ(){var e;return null===(e=this.settings)||void 0===e?void 0:e.park_custom_pos_dz}setParkPosZ(e){var t;(null===(t=this.parkPosDZElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({park_custom_pos_dz:e})}get firmwareRetractBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("fw_retract")}get firmwareRetract(){var e;return null===(e=this.settings)||void 0===e?void 0:e.fw_retract}set firmwareRetract(e){$.r.machineTimelapseSetSettings({fw_retract:e})}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.general.tooltip.managed_by_moonraker"):""}};(0,p.gn)([(0,d.Rl)("parkTimeElement")],Nf.prototype,"parkTimeElement",void 0),(0,p.gn)([(0,d.Rl)("parkTravelSpeedElement")],Nf.prototype,"parkTravelSpeedElement",void 0),(0,p.gn)([(0,d.Rl)("parkPosDZElement")],Nf.prototype,"parkPosDZElement",void 0),Nf=(0,p.gn)([(0,d.wA)({components:{CustomParkPositionSettings:Bf,ParkExtrudeRetractSettings:Lf,AppSetting:ap["default"]}})],Nf);const Uf=Nf,jf=Uf;var Hf=(0,L.Z)(jf,Sf,kf,!1,null,null,null);const Wf=Hf.exports;let zf=class extends((0,d.Wr)(u.Z)){constructor(){super(...arguments),this.renderSettingsDialogOpen=!1,this.rules={numRequired:e=>""!==e||this.$t("app.general.simple_form.error.required"),validNum:e=>!isNaN(+e)||this.$t("app.general.simple_form.error.invalid_number"),numMin:e=>e>=0||this.$t("app.general.simple_form.error.min",{min:0})}}get supportedModes(){return[{text:this.$tc("app.timelapse.setting.mode_layermacro"),value:"layermacro"},{text:this.$tc("app.timelapse.setting.mode_hyperlapse"),value:"hyperlapse"}]}get cameras(){return this.$store.getters["cameras/getCameras"].map((e=>({text:e.name,value:e.id,disabled:!e.enabled})))}get cameraBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("camera")}get camera(){var e;return null===(e=this.settings)||void 0===e?void 0:e.camera}set camera(e){$.r.machineTimelapseSetSettings({camera:e})}get modeBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("mode")}get mode(){var e;return null===(e=this.settings)||void 0===e?void 0:e.mode}set mode(e){$.r.machineTimelapseSetSettings({mode:e})}get delayCompBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("stream_delay_compensation")}get delayComp(){var e;return 1e3*(null===(e=this.settings)||void 0===e?void 0:e.stream_delay_compensation)}setDelayComp(e){var t;(null===(t=this.delayCompElement)||void 0===t?void 0:t.validate())&&$.r.machineTimelapseSetSettings({stream_delay_compensation:e/1e3})}get verboseGcodeBlocked(){return this.$store.getters["timelapse/isBlockedSetting"]("gcode_verbose")}get verboseGcode(){var e;return null===(e=this.settings)||void 0===e?void 0:e.gcode_verbose}set verboseGcode(e){$.r.machineTimelapseSetSettings({gcode_verbose:e})}get settings(){return this.$store.getters["timelapse/getSettings"]}subtitleIfBlocked(e){return e?this.$tc("app.general.tooltip.managed_by_moonraker"):""}handleReset(){const e=Object.entries(Vd.Ao).filter((([e])=>!this.$store.getters["timelapse/isBlockedSetting"](e)));$.r.machineTimelapseSetSettings(Object.fromEntries(e))}};(0,p.gn)([(0,d.Rl)("delayCompElement")],zf.prototype,"delayCompElement",void 0),zf=(0,p.gn)([(0,d.wA)({components:{ToolheadParkingSettings:Wf,HyperlapseSettings:wf,TimelapseRenderSettingsDialog:Jd}})],zf);const qf=zf,Vf=qf;var Gf=(0,L.Z)(Vf,gf,ff,!1,null,null,null);const Yf=Gf.exports;let Kf=class extends((0,d.Wr)(u.Z)){get supportsVersions(){return this.$store.getters["server/componentSupport"]("update_manager")}get supportsAuth(){return this.$store.getters["server/componentSupport"]("authorization")}get supportsTimelapse(){return this.$store.getters["server/componentSupport"]("timelapse")}};Kf=(0,p.gn)([(0,d.wA)({components:{TimelapseSettings:Yf,MacroCategories:Km,GeneralSettings:ah,PresetSettings:vh,Cameras:Eh,ToolheadSettings:Nh,ThemeSettings:Gh,VersionSettings:vg,GcodePreviewSettings:Sg,AuthSettings:zg,ConsoleSettings:of,FileEditorSettings:hf}})],Kf);const Xf=Kf,Jf=Xf;var Qf=(0,L.Z)(Jf,Tm,Mm,!1,null,null,null);const ev=Qf.exports;var tv=s(81380),sv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t(Om.Z,{staticClass:"px-0"},[t("app-btn",{staticClass:"mr-4",attrs:{fab:"",small:"",color:"",exact:""},on:{click:e.handleBack}},[t(g.Z,{attrs:{small:""}},[e._v(" $left ")])],1),e._v(" "+e._s(e.category.name)+" "+e._s(e.$t("app.setting.title.macros"))+" "),t(Ce.Z),t(Ze.Z,{attrs:{clearable:"",outlined:"",dense:"","single-line":"","hide-details":"","append-icon":"$magnify"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),t(be.Z,{staticClass:"mb-4",attrs:{elevation:5,dense:""}},[t("app-setting",[t("app-btn",{attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleAllOff}},[e._v(" "+e._s(e.$t("app.setting.label.all_off"))+" ")]),t("app-btn",{staticClass:"ml-2",attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleAllOn}},[e._v(" "+e._s(e.$t("app.setting.label.all_on"))+" ")])],1),t(ps.Z),e._l(e.macros,(function(s,a){return[t("app-setting",{key:`macro-${s.name}`,attrs:{title:s.name.toUpperCase(),"accent-color":s.color,"r-cols":2},on:{click:function(t){return e.handleSettingsDialog(s)}},scopedSlots:e._u([s.config.description&&"G-Code macro"!==s.config.description?{key:"sub-title",fn:function(){return[t("span",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"mr-2"},[e._v(" "+e._s(s.config.description)+" ")])]},proxy:!0}:null],null,!0)},[t(Sc.Z,{staticClass:"mt-0 pt-0",attrs:{"input-value":s.visible,color:"primary","hide-details":""},on:{click:function(e){e.stopPropagation()},change:function(t){return e.handleMacroVisible(s,t)}}})],1),a<e.macros.length-1&&e.macros.length>0?t(ps.Z,{key:`divider-${s.name}`}):e._e()]}))],2),e.dialogState.macro?t("macro-settings-dialog",{attrs:{macro:e.dialogState.macro},model:{value:e.dialogState.open,callback:function(t){e.$set(e.dialogState,"open",t)},expression:"dialogState.open"}}):e._e()],1)},av=[],rv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(It.Z,{attrs:{value:e.value,"max-width":480,persistent:""},on:{input:function(t){return e.$emit("input",t)}}},[t(ds.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleSave.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(be.Z,[t(N.EB,{staticClass:"card-heading py-2"},[t("span",{staticClass:"focus--text"},[e._v(e._s(e.newMacro.name.toUpperCase()))])]),e.newMacro.config.description?t(N.Qq,{staticClass:"card-heading pb-2"},[e._v(" "+e._s(e.newMacro.config.description)+" ")]):e._e(),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.general.label.alias")}},[t(Ze.Z,{attrs:{outlined:"",filled:"",dense:"","single-line":"","hide-details":""},model:{value:e.newMacro.alias,callback:function(t){e.$set(e.newMacro,"alias",t)},expression:"newMacro.alias"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.general.label.category")}},[t(Pa.Z,{attrs:{items:e.categories,"hide-details":"",dense:"",filled:"","item-value":"id","item-text":"name"},model:{value:e.newMacro.categoryId,callback:function(t){e.$set(e.newMacro,"categoryId",t)},expression:"newMacro.categoryId"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.general.label.color")}},[t("app-btn",{staticClass:"mr-1",attrs:{outlined:"",small:"",color:"primary"},on:{click:e.handleResetColor}},[e._v(" "+e._s(e.$t("app.setting.btn.reset"))+" ")]),t("app-color-picker",{attrs:{title:e.$t("app.general.btn.set_color"),primary:e.color},on:{change:e.handleColorChange}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.general.label.disabled_while_printing")}},[t(Sc.Z,{staticClass:"mt-0 pt-0",attrs:{color:"primary","hide-details":""},model:{value:e.newMacro.disabledWhilePrinting,callback:function(t){e.$set(e.newMacro,"disabledWhilePrinting",t)},expression:"newMacro.disabledWhilePrinting"}})],1),t(ps.Z),t("app-setting",{attrs:{title:e.$t("app.general.label.visible")}},[t(Sc.Z,{staticClass:"mt-0 pt-0",attrs:{color:"primary","hide-details":""},model:{value:e.newMacro.visible,callback:function(t){e.$set(e.newMacro,"visible",t)},expression:"newMacro.visible"}})],1),t(ps.Z),t(N.h7,{staticClass:"px-4"},[t(Ce.Z),t("app-btn",{attrs:{color:"warning",text:"",type:"button"},domProps:{innerHTML:e._s(e.$t("app.general.btn.cancel"))},on:{click:function(t){return e.$emit("input",!1)}}}),t("app-btn",{attrs:{color:"primary",type:"submit"},domProps:{innerHTML:e._s(e.$t("app.general.btn.save"))}})],1)],1)],1)],1)},iv=[];let nv=class extends d.w3{constructor(){super(...arguments),this.assign=null,this.valid=!1,this.newMacro=null}created(){this.newMacro={...this.macro}}onOpen(){this.newMacro={...this.macro}}get categories(){const e=[...this.$store.getters["macros/getCategories"]];return e.unshift({name:this.$t("app.general.label.uncategorized"),id:"0"}),e}get color(){const e=this.$store.getters["config/getTheme"];return this.newMacro&&""!==this.newMacro.color?this.newMacro.color:e.currentTheme.secondary}handleColorChange(e){this.newMacro&&(this.newMacro.color=e.color.hexString)}handleResetColor(){this.newMacro&&(this.newMacro.color="")}handleSave(){this.$store.dispatch("macros/saveMacro",this.newMacro),this.$emit("input",!1)}};(0,p.gn)([(0,d.fI)({type:Boolean,required:!0})],nv.prototype,"value",void 0),(0,p.gn)([(0,d.fI)({type:Object,required:!0})],nv.prototype,"macro",void 0),(0,p.gn)([(0,d.RL)("value")],nv.prototype,"onOpen",null),nv=(0,p.gn)([(0,d.wA)({})],nv);const ov=nv,lv=ov;var cv=(0,L.Z)(lv,rv,iv,!1,null,null,null);const pv=cv.exports;var dv=s(34367);const uv=e=>{const t=e.params.categoryId,s=dv.Z.getters["macros/getCategories"],a=s.findIndex((e=>e.id===t));return a>-1||"0"===t||{path:"/settings",hash:"macros"}};let mv=class extends d.w3{constructor(){super(...arguments),this.search="",this.categoryId=void 0,this.dialogState={open:!1,macro:null}}get macros(){const e=this.categoryId,t=this.$store.getters["macros/getMacrosByCategory"](e).filter((e=>!this.search||""===this.search||e.name.toLowerCase().includes(this.search.toLowerCase())));return t}get categories(){return this.$store.getters["macros/getCategories"]}get category(){return"0"===this.categoryId?{id:"0",name:this.$tc("app.general.label.uncategorized")}:this.categories.find((e=>e.id===this.categoryId))}beforeRouteEnter(e,t,s){s(uv(e))}beforeRouteUpdate(e,t,s){s(uv(e))}created(){this.search="",this.categoryId=this.$route.params.categoryId}handleBack(){this.$router.go(-1)}handleSettingsDialog(e){this.dialogState.macro=e,this.dialogState.open=!0}handleAllOn(){this.$store.dispatch("macros/saveAllOn",this.macros)}handleAllOff(){this.$store.dispatch("macros/saveAllOff",this.macros)}handleMacroVisible(e,t){const s={...e,visible:t};this.$store.dispatch("macros/saveMacro",s)}};mv=(0,p.gn)([(0,d.wA)({components:{MacroSettingsDialog:pv}})],mv);const hv=mv,gv=hv;var fv=(0,L.Z)(gv,sv,av,!1,null,null,null);const vv=fv.exports;var _v=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.camera?t("div",[t("CameraItem",{attrs:{camera:e.camera,fullscreen:!0}})],1):e._e()},yv=[];let bv=class extends d.w3{created(){this.cameraId=this.$route.params.cameraId,this.camera=this.$store.getters["cameras/getCameras"].find((e=>e.id===this.cameraId))}};bv=(0,p.gn)([(0,d.wA)({components:{CameraItem:gi}})],bv);const xv=bv,$v=xv;var wv=(0,L.Z)($v,_v,yv,!1,null,null,null);const Sv=wv.exports;var kv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown,justify:"center",align:"center"}},[t(n.Z,[t("center",[t("div",{staticClass:"text-h5"},[e._v(" "+e._s(e.$t("app.general.title.not_found"))+" ")]),t("app-btn",{staticClass:"mt-5",attrs:{to:"/"}},[e._v(" "+e._s(e.$t("app.general.btn.return_dashboard"))+" ")])],1)],1)],1)},Cv=[];let Zv=class extends d.w3{};Zv=(0,p.gn)([(0,d.wA)({})],Zv);const Pv=Zv,Av=Pv;var Rv=(0,L.Z)(Av,kv,Cv,!1,null,null,null);const Ev=Rv.exports;var Lv=s(83694),Dv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown,justify:"center",align:"center"}},[t(n.Z,{attrs:{cols:"12",md:"4",lg:"3",xl:"2"}},[t(ds.Z,{ref:"form",on:{submit:function(t){return t.preventDefault(),e.handleLogin.apply(null,arguments)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t("div",{staticClass:"text-center"},[t("p",[e._v(e._s(e.$t("app.general.msg.welcome_back"))+" ")]),e.error?t(Lv.Z,{attrs:{type:"error"}},[e._v(" "+e._s(e.$t("app.general.simple_form.error.credentials"))+" ")]):e._e(),t(Ze.Z,{staticClass:"mb-4",attrs:{label:e.$t("app.general.label.username"),autocomplete:"username",filled:"",dense:"","hide-details":"auto",disabled:e.loading},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t(Ze.Z,{staticClass:"mb-4",attrs:{label:e.$t("app.general.label.password"),autocomplete:"current-password",filled:"",dense:"",type:"password","hide-details":"auto",disabled:e.loading},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e.availableSources.length>1?t(Pa.Z,{staticClass:"mb-4",attrs:{label:e.$t("app.general.label.auth_source"),filled:"",dense:"","hide-details":"auto",disabled:e.loading,items:e.availableSources.map((t=>({text:e.$t(`app.general.label.${t}`),value:t})))},model:{value:e.source,callback:function(t){e.source=t},expression:"source"}}):e._e(),t("app-btn",{staticClass:"mb-6",attrs:{type:"submit",disabled:e.loading,large:"",block:""}},[e.loading?t(g.Z,{staticClass:"spin mr-2"},[e._v(" $loading ")]):e._e(),e._v(" "+e._s(e.$t("app.general.btn.login"))+" ")],1),t("app-btn",{staticClass:"custom-transform-class text-none",attrs:{color:"",plain:"",href:e.$globals.DOCS_AUTH_LOST_PASSWORD,target:"_blank"}},[e._v(" "+e._s(e.$t("app.general.btn.forgot_password"))+" ")]),t("app-btn",{staticClass:"custom-transform-class text-none",attrs:{color:"",plain:"",href:e.$globals.DOCS_AUTH,target:"_blank"}},[e._v(" "+e._s(e.$t("app.general.btn.auth_unsure"))+" ")])],1)])],1)],1)},Tv=[],Mv=s(72505),Ov=s(44652),Iv=s.n(Ov);let Fv=class extends d.w3{constructor(){super(...arguments),this.username="",this.password="",this.valid=!0,this.error=!1,this.loading=!1,this.source="moonraker",this.availableSources=[this.source]}async mounted(){var e,t;const s=await this.$store.dispatch("auth/getAuthInfo");this.source=null!==(e=s.defaultSource)&&void 0!==e?e:this.source,this.availableSources=null!==(t=s.availableSources)&&void 0!==t?t:this.availableSources}async handleLogin(){this.error=!1,this.loading=!0;try{await this.$store.dispatch("auth/login",{username:this.username,password:this.password,source:this.source})}catch(e){this.error=!0}if(this.loading=!1,!this.error){const e=this.$store.getters["config/getCurrentInstance"];(0,Mv.J)(e,this.$store.state.config.hostConfig).then((e=>{e.apiConnected&&e.apiAuthenticated&&(Iv().debug("Activating socket with config",e),this.$socket.connect(e.apiConfig.socketUrl))}))}}};Fv=(0,p.gn)([(0,d.wA)({})],Fv);const Bv=Fv,Nv=Bv;var Uv=(0,L.Z)(Nv,Dv,Tv,!1,null,"40fe369e",null);const jv=Uv.exports;var Hv=function(){var e=this,t=e._self._c;e._self._setupProxy;return t(o.Z,{attrs:{dense:e.$vuetify.breakpoint.smAndDown}},[t(n.Z,{attrs:{cols:"12"}},[t("h1",[e._v("All configured icons")]),e._l(e.icons,(function(s){return t(k.Z,{key:s,staticClass:"d-inline-block",attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function({attrs:a,on:r}){return[t(g.Z,e._g(e._b({staticClass:"ma-2"},"v-icon",a,!1),r),[e._v(" $"+e._s(s)+" ")])]}}],null,!0)},[e._v(" "+e._s(s)+" ")])}))],2)],1)},Wv=[];let zv=class extends((0,d.Wr)(u.Z)){get icons(){return Object.keys(we.PJ)}};zv=(0,p.gn)([(0,d.wA)({})],zv);const qv=zv,Vv=qv;var Gv=(0,L.Z)(Vv,Hv,Wv,!1,null,null,null);const Yv=Gv.exports;r["default"].use(i.ZP);const Kv=(e,t,s)=>{!dv.Z.getters["auth/getAuthenticated"]&&dv.Z.state.socket.apiConnected?s("/login"):s()},Xv=[{path:"/",name:"Dashboard",component:Il,beforeEnter:Kv},{path:"/console",name:"Console",component:Wl,beforeEnter:Kv},{path:"/jobs",name:"Jobs",component:Xl,beforeEnter:Kv},{path:"/tune",name:"Tune",component:Oc,beforeEnter:Kv},{path:"/diagnostics",name:"Diagnostics",component:Xp,beforeEnter:Kv},{path:"/timelapse",name:"Timelapse",component:au,beforeEnter:Kv},{path:"/history",name:"History",component:Cd,beforeEnter:Kv},{path:"/system",name:"System",component:Dm,beforeEnter:Kv},{path:"/configure",name:"Configuration",component:um,beforeEnter:Kv},{path:"/settings",name:"Settings",beforeEnter:Kv,meta:{hasSubNavigation:!0},components:{default:ev,navigation:tv["default"]},children:[{path:"/settings/macros/:categoryId",name:"Macros",meta:{hasSubNavigation:!0},components:{default:vv,navigation:tv["default"]}}]},{path:"/login",name:"Login",component:jv,meta:{fillHeight:!0}},{path:"/camera/:cameraId",name:"Camera",component:Sv},{path:"/icons",name:"Icons",component:Yv},{path:"*",name:"404",component:Ev}],Jv=new i.ZP({base:"/",routes:Xv,scrollBehavior:(e,t,s)=>s||(e.hash?{selector:e.hash,offset:{x:0,y:60},behavior:"smooth"}:{x:0,y:0})});Jv.beforeEach(((e,t,s)=>{dv.Z.commit("config/setContainerColumnCount",2),s()}));const Qv=Jv},27871:(e,t,s)=>{"use strict";s.d(t,{vc:()=>_,W2:()=>g,SB:()=>f});var a=s(52753),r=s(67350);const i={getCurrentInstance:e=>e.instances.find((e=>e.active)),getInstances:e=>{const t=[...e.instances];return t.sort(((e,t)=>e.active?-1:t.active?1:0)),t},getHostConfig:e=>e.hostConfig,getTempPresets:(e,t,s,a)=>{const r=e.uiSettings.dashboard.tempPresets,i=[],n=a["printer/getHeaters"],o=a["printer/getOutputs"](["temperature_fan"]);return r.forEach((e=>{const t={...e,values:{}};n.forEach((s=>{e.values[s.name]?t.values[s.name]={...e.values[s.name]}:t.values[s.name]={value:0,type:"heater",active:!1}})),o.forEach((s=>{e.values[s.name]?t.values[s.name]={...e.values[s.name]}:t.values[s.name]={value:0,type:"fan",active:!1}})),i.push(t)})),i.sort(((e,t)=>e.name.localeCompare(t.name)))},getTheme:e=>{const t=a.Z.framework.theme,s=e.uiSettings.theme,i={...e.uiSettings.theme,currentTheme:{...t.currentTheme,...s.currentTheme}};for(const a in i.currentTheme)i.currentTheme[a+"Offset"]=(0,r.ZP)(s.currentTheme.primary).desaturate(5).darken(10).toHexString();return i},getCustomThemeFile:(e,t,s,a)=>(e,t)=>{const s=a["files/getRootFiles"]("config");if(s)for(const a of t){const t=`.fluidd-theme/${e}${a}`;if(s.some((e=>e.path===t)))return t}},getDefaultThemePreset:e=>e.hostConfig.themePresets.length>0?e.hostConfig.themePresets[0]:{name:"Fluidd",logo:{src:"/logo_fluidd.svg",changeWithTheme:!0},color:"#2196F3"},getCurrentThemePreset:(e,t)=>{const s=e.hostConfig.themePresets,a=t.getTheme;return s.find((e=>e.logo.src===a.logo.src))},getMergedTableHeaders:(e,t)=>(e,s)=>{const a=t.getConfiguredTableHeaders(s);if(!a)return e;const r=[];return e.forEach((e=>{const t=e.key?"key":"value",s={visible:!0,configurable:!1,...e,...a.find((s=>s[t]===e[t]))};r.push(s)})),r},getConfiguredTableHeaders:e=>t=>e.uiSettings.tableHeaders[t]};var n=s(61726),o=s(42365),l=s(36796);const c={async reset({commit:e}){e("setReset")},async initUiSettings({commit:e,dispatch:t,state:s},r){e("setInitUiSettings",r),s.uiSettings.theme&&(a.Z.framework.theme.dark=s.uiSettings.theme.isDark,a.Z.framework.theme.currentTheme.primary=s.uiSettings.theme.currentTheme.primary),r.general&&r.general.locale&&t("onLocaleChange",r.general.locale)},async onLocaleChange({dispatch:e,state:t},s){e("wait/addWait",l.hw.onLoadLanguage,{root:!0});const a=(0,o.Vf)(),r="default"!==s?await(0,o.ld)(s):await(0,o.ld)(a);t.uiSettings.general.locale!==s&&e("saveByPath",{path:"uiSettings.general.locale",value:"default"!==s?r:s,server:!0}),e("wait/removeWait",l.hw.onLoadLanguage,{root:!0})},async initHost({commit:e},t){e("setInitHostConfig",t.hostConfig)},async initLocal({commit:e},t){e("setInitInstances",t)},async onInitApiConfig({commit:e},t){e("setInitApiConfig",t)},async removeInstance({commit:e},t){e("setRemoveInstance",t)},async updateInstance({commit:e,dispatch:t,state:s,getters:a},r){t("saveByPath",{path:"uiSettings.general.instanceName",value:r,server:!0});let i=a.getCurrentInstance;i&&(i={...i,name:s.uiSettings.general.instanceName},e("setUpdateInstanceName",i))},async saveByPath({commit:e},t){e("setSaveByPath",t),t.server&&n.r.serverWrite(t.path,t.value)},async updatePreset({commit:e,state:t},s){e("setPreset",s),n.r.serverWrite("uiSettings.dashboard.tempPresets",t.uiSettings.dashboard.tempPresets)},async removePreset({commit:e,state:t},s){e("setRemovePreset",s),n.r.serverWrite("uiSettings.dashboard.tempPresets",t.uiSettings.dashboard.tempPresets)},async updateHeader({commit:e,state:t},s){e("setUpdateHeader",s),t.uiSettings.tableHeaders[s.name]&&n.r.serverWrite(`uiSettings.tableHeaders.${s.name}`,t.uiSettings.tableHeaders[s.name])}};var p=s(20144),d=s(72744),u=s(30560),m=s(57632);const h={setReset(e){Object.assign(e,g())},setInitUiSettings(e,t){if(t){const s=(0,d.Z)(e.uiSettings,t);t.general&&t.general.zAdjustDistances&&p["default"].set(s.general,"zAdjustDistances",t.general.zAdjustDistances),t.general&&t.general.toolheadMoveDistances&&p["default"].set(s.general,"toolheadMoveDistances",t.general.toolheadMoveDistances),t.editor&&t.editor.autoEditExtensions&&p["default"].set(s.editor,"autoEditExtensions",t.editor.autoEditExtensions),p["default"].set(e,"uiSettings",s)}},setInitApiConfig(e,t){e.apiUrl=t.apiUrl,e.socketUrl=t.socketUrl,t.name&&""!==t.name&&(e.uiSettings.general.instanceName=t.name)},setInitHostConfig(e,t){if(e.hostConfig.blacklist=t.blacklist,e.hostConfig.endpoints=t.endpoints,e.hostConfig.hosted=t.hosted,e.hostConfig.themePresets=t.themePresets,t.themePresets&&t.themePresets.length>=1){const s=t.themePresets[0];p["default"].set(e.uiSettings,"theme",{isDark:s.isDark,logo:s.logo,currentTheme:{primary:s.color},...e.uiSettings.theme})}},setInitInstances(e,t){let s=[];const a=t.apiConfig,r=e.uiSettings;l.OH.LOCAL_INSTANCES_STORAGE_KEY in localStorage&&(s=JSON.parse(localStorage[l.OH.LOCAL_INSTANCES_STORAGE_KEY]));const i=s.findIndex((e=>e.apiUrl===t.apiConfig.apiUrl));-1===i?(r||null===r)&&a&&""!==a.apiUrl&&""!==a.socketUrl&&(s.forEach((e=>{e.active=!1})),s.push({...a,active:!0,name:e.uiSettings.general.instanceName})):s.forEach(((t,s)=>{t.active=s===i,s===i&&""!==t.name&&(t.name=e.uiSettings.general.instanceName)})),localStorage.setItem(l.OH.LOCAL_INSTANCES_STORAGE_KEY,JSON.stringify(s)),p["default"].set(e,"instances",s)},setUpdateInstanceName(e,t){const s=e.instances.findIndex((e=>e.apiUrl===t.apiUrl));if(s>-1){const a=e.instances[s];p["default"].set(e.instances,s,{...a,...t})}localStorage.setItem(l.OH.LOCAL_INSTANCES_STORAGE_KEY,JSON.stringify(e.instances))},setRemoveInstance(e,t){const s=e.instances,a=s.findIndex((e=>e.apiUrl===t.apiUrl));a>=0&&(s.splice(a,1),p["default"].set(e,"instances",s),localStorage.setItem(l.OH.LOCAL_INSTANCES_STORAGE_KEY,JSON.stringify(s)))},setSaveByPath(e,t){(0,u.Z)(e,t.path,t.value)},setPreset(e,t){if(-1===t.id)t.id=(0,m.Z)(),e.uiSettings.dashboard.tempPresets.push(t);else{const s=e.uiSettings.dashboard.tempPresets.findIndex((e=>e.id===t.id));s>=0&&p["default"].set(e.uiSettings.dashboard.tempPresets,s,t)}},setRemovePreset(e,t){const s=e.uiSettings.dashboard.tempPresets.findIndex((e=>e.id===t.id));e.uiSettings.dashboard.tempPresets.splice(s,1)},setLayoutMode(e,t){e.layoutMode=t},setContainerColumnCount(e,t){e.containerColumnCount=t},setUpdateHeader(e,t){const s=t.header,a=s.key?"key":"value",r=s[a],i=e.uiSettings.tableHeaders[t.name];if(i){const e=i.findIndex((e=>e[a]===r));if(e>=0)p["default"].set(i,e,{...i[e],visible:s.visible});else{const e={value:s.value,visible:s.visible};"key"===a&&(e.key=s.key),i.push(e)}}}},g=()=>({apiUrl:"",socketUrl:"",layoutMode:!1,containerColumnCount:2,hostConfig:{endpoints:[],blacklist:[],hosted:!1,locales:[{name:"English",code:"en"},{name:"Čeština",code:"cz"},{name:"简体中文",code:"cn"},{name:"繁體中文",code:"zh-HK"},{name:"Deutsch",code:"de"},{name:"Español",code:"es"},{name:"Français",code:"fr"},{name:"Italiano",code:"it"},{name:"Magyar",code:"hu"},{name:"Nederlands",code:"nl"},{name:"Português",code:"pt"},{name:"Русский",code:"ru"},{name:"Українська",code:"uk"},{name:"한국어",code:"ko"},{name:"العربية",code:"ar"},{name:"日本語",code:"ja"}],themePresets:[]},instances:[],uiSettings:{general:{instanceName:l.OH.APP_NAME,locale:"en",chartVisible:!0,hideTempWaits:!0,axis:{x:{inverted:!1},y:{inverted:!1},z:{inverted:!1}},defaultExtrudeLength:10,defaultExtrudeSpeed:5,defaultToolheadMoveLength:1,defaultToolheadXYSpeed:130,defaultToolheadZSpeed:10,toolheadMoveDistances:[.1,1,10,25,50,100],useGcodeCoords:!1,zAdjustDistances:[.005,.01,.025,.05],enableVersionNotifications:!0,confirmOnEstop:!1,confirmOnPowerDeviceChange:!1,confirmOnSaveConfigAndRestart:!0,dateformat:"MMM. DD,",timeformat:"hh:mm a",showRateOfChange:!1,showRelativeHumidity:!0,showBarometricPressure:!0,showSaveConfigAndRestart:!0,flipConsoleLayout:!1,cameraFullscreenAction:"embed",topNavPowerToggle:null,showManualProbeDialogAutomatically:!0,showBedScrewsAdjustDialogAutomatically:!0,forceMoveToggleWarning:!0,enableDiagnostics:!1,thumbnailSize:32},theme:{isDark:!0,logo:{src:"/logo_fluidd.svg",dynamic:!0},currentTheme:{primary:"#2196F3"}},editor:{confirmDirtyEditorClose:!0,autoEditExtensions:[".cfg",".conf",".ini",".log",".md",".sh",".txt"],codeLens:!0},dashboard:{tempPresets:[]},tableHeaders:{gcodes_dashboard:[{value:"first_layer_extr_temp",visible:!1},{value:"first_layer_bed_temp",visible:!1},{value:"chamber_temp",visible:!1},{value:"history.total_duration",visible:!1},{value:"history.print_duration",visible:!1},{value:"estimated_time",visible:!1},{value:"nozzle_diameter",visible:!1},{value:"slicer_version",visible:!1},{value:"slicer",visible:!1},{value:"history.filament_used",visible:!1},{value:"filament_name",visible:!1},{value:"filament_type",visible:!1},{value:"filament_total",visible:!1},{value:"filament_weight_total",visible:!1},{value:"object_height",visible:!1},{value:"first_layer_height",visible:!1},{value:"layer_height",visible:!1}],gcodes_jobs:[{value:"first_layer_height",visible:!1},{value:"history.filament_used",visible:!1},{value:"slicer_version",visible:!1},{value:"history.print_duration",visible:!1},{value:"chamber_temp",visible:!1},{value:"first_layer_extr_temp",visible:!1},{value:"first_layer_bed_temp",visible:!1}],history:[{value:"print_duration",visible:!1},{value:"filament_used",visible:!1}]},gcodePreview:{extrusionLineWidth:.3,moveLineWidth:.1,retractionIconSize:.6,drawBackground:!0,showAnimations:!0,groupLowerLayers:!1,autoLoadOnPrintStart:!1,autoFollowOnFileLoad:!0,autoZoom:!1,flip:{horizontal:!1,vertical:!0}},fileSystem:{activeFilters:{gcodes:[],config:[]}}}}),f=g(),v=!0,_={namespaced:v,state:f,getters:i,actions:c,mutations:h}},30258:(e,t,s)=>{"use strict";var a;s.d(t,{T:()=>a}),function(e){e[e["Contains"]=0]="Contains",e[e["StartsWith"]=1]="StartsWith",e[e["Expression"]=2]="Expression"}(a||(a={}))},10665:(e,t,s)=>{"use strict";s.d(t,{fM:()=>c,jB:()=>n,sl:()=>i,ur:()=>l,xv:()=>o});var a=s(61726),r=s(34367);const i=(e,t)=>void 0!==e[t],n=(e,t,s=!0)=>{const a=r.Z.state.config.apiUrl;if(e.length){let r;if(e&&(r=s?e.reduce(((e,t)=>e.size&&t.size&&e.size>t.size?e:t)):e.reduce(((e,t)=>e.size&&t.size&&e.size<t.size?e:t)),r)){if(r.relative_path&&r.relative_path.length>0){const e=new URL(null!==a&&void 0!==a?a:document.location.origin);return e.pathname=""===t?`/server/files/gcodes/${encodeURI(r.relative_path)}`:`/server/files/gcodes/${encodeURI(t)}/${encodeURI(r.relative_path)}`,{...r,absolute_path:e.toString()}}if(r.data)return{...r,data:"data:image/gif;base64,"+r.data};if(r.absolute_path)return r}}},o=(e,t,s)=>{"exclude_object"in e&&s("parts/onPartUpdate",e.exclude_object,{root:!0}),"print_stats"in e&&("state"in e.print_stats||"filename"in e.print_stats)&&s("parts/onPrintStatsUpdate",e.print_stats,{root:!0})},l=(e,t,s)=>{"print_stats"in e&&"state"in e.print_stats&&("printing"!==t.printer.printer.print_stats.state&&"printing"===e.print_stats.state?s("printer/onPrintStart",e,{root:!0}):("printing"===t.printer.printer.print_stats.state&&"complete"===e.print_stats.state||"printing"===t.printer.printer.print_stats.state&&"standby"===e.print_stats.state)&&s("printer/onPrintEnd",e,{root:!0}))},c=e=>{"print_stats"in e&&"filename"in e.print_stats&&e.print_stats.filename!==r.Z.state.printer.printer.print_stats.filename&&(r.Z.commit("printer/setResetCurrentFile"),""!==e.print_stats.filename&&null!==e.print_stats.filename&&a.r.serverFilesMetaData(e.print_stats.filename))}},34367:(e,t,s)=>{"use strict";s.d(t,{Z:()=>Es});var a=s(20144),r=s(20629),i=s(44652),n=s.n(i);const o={getConnectionState:e=>e.open,getConnectingState:e=>e.connecting,getApiConnected:e=>e.apiConnected};var l=s(36796),c=s(61726),p=s(58477),d=s(58939),u=s(90504);const m=(e,t)=>e in t,h=m;let g;const f={async reset({commit:e}){e("setReset")},async onSocketOpen({commit:e},t){e("setSocketOpen",t),!0===t&&(c.r.serverInfo(),c.r.identify(),c.r.serverFilesListRoot("config"))},async onSocketClose({dispatch:e,commit:t,state:s},r){const i=s.disconnecting,n=["server","charts","socket","wait"];r.wasClean&&i&&(await e("reset",n,{root:!0}),t("setSocketConnecting",!0),a["default"].$socket.connect()),r.wasClean&&!i&&(t("setSocketConnecting",!1),t("setSocketOpen",!1)),r.wasClean||(await e("reset",n,{root:!0}),t("setSocketConnecting",!0),t("setSocketOpen",!1))},async onSocketConnecting({commit:e},t){e("setSocketConnecting",t)},async onSocketError({commit:e},t){if(t.code>=400&&t.code<500){let e="";try{e=JSON.parse(t.message.replace(/'/g,'"')).message}catch(s){e=t.message}p.N.$emit(e,{type:p.o.error})}503===t.code&&(e("printer/setPrinterInfo",{state:"error",state_message:t.message},{root:!0}),clearTimeout(g),g=window.setTimeout((()=>{c.r.serverInfo()}),l.OH.KLIPPY_RETRY_DELAY))},async onConnectionId({commit:e},{connection_id:t}){e("setConnectionId",t)},async onServerRead({dispatch:e},t){const{namespace:s,key:a,value:r}=t;if(h(s,l.OH.MOONRAKER_DB)){const t=l.OH.MOONRAKER_DB[s].ROOTS,i=a&&h(a,t)?t[a]:Object.values(t)[0];e(i.dispatch,r,{root:!0})}},async notifyStatusUpdate({state:e,commit:t,dispatch:s},a){s("printer/onNotifyStatusUpdate",a,{root:!0}).then((()=>{e.ready||t("setSocketReadyState",!0)}))},async notifyGcodeResponse({dispatch:e},t){e("console/onAddConsoleEntry",{message:`${l.OH.CONSOLE_RECEIVE_PREFIX}${t}`},{root:!0})},async notifyKlippyDisconnected(){c.r.serverInfo()},async notifyKlippyShutdown(){c.r.serverInfo()},async notifyKlippyReady(){n().debug("Klippy Ready")},async notifyFilelistChanged({dispatch:e},t){e("files/notify"+(0,d.Z)((0,u.Z)(t.action)),t,{root:!0})},async notifyMetadataUpdate({dispatch:e},t){e("files/onFileMetaData",t,{root:!0})},async notifyPowerChanged({dispatch:e},t){e("power/onStatus",{[t.device]:t.status},{root:!0})},async notifyUpdateResponse({dispatch:e},t){e("version/onUpdateResponse",t,{root:!0})},async notifyUpdateRefreshed({dispatch:e},t){e("version/onUpdateStatus",t,{root:!0})},async notifyHistoryChanged({dispatch:e},t){e("history/onHistoryChange",t,{root:!0})},async notifyCpuThrottled({dispatch:e},t){e("server/onMachineThrottledState",t,{root:!0})},async notifyProcStatUpdate({dispatch:e},t){e("server/onMachineProcStats",t,{root:!0})},async notifyUserCreated({dispatch:e},t){e("auth/onUserCreated",t,{root:!0})},async notifyUserDeleted({dispatch:e},t){e("auth/onUserDeleted",t,{root:!0})},async notifyServiceStateChanged({dispatch:e},t){e("server/onServiceStateChanged",t,{root:!0})},async notifyTimelapseEvent({dispatch:e},t){e("timelapse/onEvent",t,{root:!0})},async notifyAnnouncementUpdate({dispatch:e},t){e("announcements/onAnnouncementUpdate",t,{root:!0})},async notifyAnnouncementDismissed({dispatch:e},t){e("announcements/onAnnouncementDismissed",t,{root:!0})},async notifyAnnouncementWake({dispatch:e},t){e("announcements/onAnnouncementWake",t,{root:!0})},async notifyWebcamsChanged({dispatch:e},t){e("webcams/onWebcamsChanged",t,{root:!0})}},v={setReset(e){Object.assign(e,_())},setSocketOpen(e,t){e.open!==t&&(e.open=t),e.disconnecting&&(e.disconnecting=!1)},setSocketConnecting(e,t){e.connecting!==t&&(e.connecting=t)},setSocketReadyState(e,t){e.ready=t},setAcceptNotifications(e,t){e.acceptingNotifications=t},setSocketDisconnecting(e,t){e.disconnecting=t},setApiConnected(e,t){e.apiConnected=t},setConnectionId(e,t){e.connectionId=t}},_=()=>({apiConnected:!0,open:!1,connecting:!1,disconnecting:!1,ready:!1,acceptingNotifications:!1,error:null,connectionId:null}),y=_(),b=!0,x={namespaced:b,state:y,getters:o,actions:f,mutations:v},$={getAuthenticated:e=>e.authenticated,getCurrentUser:e=>e.currentUser,getUsers:e=>e.users,getToken:e=>e.token,getRefreshToken:e=>e.refresh_token,getApiKey:e=>e.apiKey};var w=s(76927),S=s(77021),k=s(2568),C=s.n(k);const Z=()=>{const e=Es.state.config.apiUrl,t=e?C()(e):"";return{"user-token":`user-token-${t}`,"refresh-token":`refresh-token-${t}`}};var P=s(19665);const A={async reset({commit:e}){e("setReset")},async init({commit:e}){await w.i.getCurrentUser().then((e=>e.data.result)).then((t=>e("setCurrentUser",t))),await w.i.getUsers().then((e=>e.data.result.users)).then((t=>e("setUsers",t))),await w.i.getApiKey().then((e=>e.data.result)).then((t=>e("setApiKey",t)))},async initAuth({commit:e,rootState:t}){if(""===t.config.apiUrl)return void e("setAuthenticated",!0);const s=Z(),a=localStorage.getItem(s["refresh-token"]),r=localStorage.getItem(s["user-token"]);r&&a?(e("setToken",r),e("setRefreshToken",a),S.Z.defaults.headers.common.Authorization=`Bearer ${r}`):delete S.Z.defaults.headers.common.Authorization},async checkToken({state:e}){var t;if(null===(t=e.token)||void 0===t?void 0:t.exp){const t=e.token.exp,s=Date.now()/1e3,r=t-s<300;return!!r&&(n().debug("checkToken - isExpiring",a["default"].$dayjs(1e3*s),a["default"].$dayjs(1e3*t)),!0)}return!1},async refreshTokens({commit:e}){const t=Z(),s=localStorage.getItem(t["refresh-token"]);return S.Z.post("/access/refresh_jwt",{refresh_token:s},{withAuth:!1}).then((e=>e.data.result)).then((s=>(localStorage.setItem(t["user-token"],s.token),e("setToken",s.token),S.Z.defaults.headers.common.Authorization=`Bearer ${s.token}`,Promise.resolve(s.token)))).catch((()=>Promise.resolve()))},async getAuthInfo(){return S.Z.get("/access/info",{withAuth:!1}).then((e=>({defaultSource:e.data.result.default_source,availableSources:e.data.result.available_sources}))).catch((()=>({})))},async login({commit:e},{username:t,password:s,source:a}){const r=Z();return w.i.login(t,s,a).then((e=>e.data.result)).then((t=>(localStorage.setItem(r["user-token"],t.token),localStorage.setItem(r["refresh-token"],t.refresh_token),S.Z.defaults.headers.common.Authorization=`Bearer ${t.token}`,e("setAuthenticated",!0),e("setCurrentUser",{username:t.username,source:t.source}),e("setToken",t.token),e("setRefreshToken",t.refresh_token),Promise.resolve(t)))).catch((e=>(localStorage.removeItem(r["user-token"]),localStorage.removeItem(r["refresh-token"]),delete S.Z.defaults.headers.common.Authorization,Promise.reject(e))))},async logout({commit:e},t){const s={invalidate:!1,partial:!1,...t},r=Z();s.invalidate&&await w.i.logout(),localStorage.removeItem(r["user-token"]),localStorage.removeItem(r["refresh-token"]),delete S.Z.defaults.headers.common.Authorization,e("setCurrentUser",null),e("setToken",null),e("setRefreshToken",null),s.partial||(a["default"].$socket&&a["default"].$socket.close(),e("setAuthenticated",!1),"/login"!==P.Z.currentRoute.path&&P.Z.push("/login"))},async checkTrust({dispatch:e,commit:t}){const s=Z(),a=localStorage.getItem(s["user-token"]);delete S.Z.defaults.headers.common.Authorization,await w.i.getCurrentUser({withAuth:!1}).then((e=>e.data.result)).then((s=>{S.Z.defaults.headers.common.Authorization=`Bearer ${a}`,e("logout",{partial:!0}),t("setCurrentUser",s)})).catch((()=>{e("logout")}))},async addUser(e,t){return w.i.addUser(t).then((()=>Promise.resolve(t)))},async removeUser(e,t){return w.i.removeUser(t).then((()=>Promise.resolve(t)))},async onUserCreated({commit:e},t){e("setAddUser",t)},async onUserDeleted({commit:e},t){e("setRemoveUser",t)},async refreshApiKey({commit:e}){return w.i.refreshApiKey().then((e=>e.data.result)).then((t=>e("setApiKey",t)))}};var R=s(96245);const E={setReset(e){Object.assign(e,L())},setCurrentUser(e,t){e.currentUser=t},setToken(e,t){e.token=t?(0,R.Z)(t):null},setRefreshToken(e,t){e.refresh_token=t?(0,R.Z)(t):null},setAuthenticated(e,t){e.authenticated=t},setUsers(e,t){e.users=t},setAddUser(e,t){e.users.push({source:"moonraker",...t})},setRemoveUser(e,t){const s=e.users.findIndex((e=>e.username===t.username));s>=0&&e.users.splice(s,1)},setApiKey(e,t){e.apiKey=t}},L=()=>({authenticated:!1,token:null,refresh_token:null,currentUser:null,users:[],apiKey:""}),D=L(),T=!0,M={namespaced:T,state:D,getters:$,actions:A,mutations:E},O={getInfo:e=>e.info,getSystemInfo:e=>e.system_info,getConfig:e=>e.config,getProcessStats:e=>e.moonraker_stats,componentSupport:e=>t=>e.info.components.includes(t),getServices:e=>{var t,s;const a=(null===(t=e.system_info)||void 0===t?void 0:t.available_services)||[],r=(null===(s=e.system_info)||void 0===s?void 0:s.service_state)||{},i=[...a].sort().map((e=>e in r?{name:e,...r[e]}:{name:e}));return i},getConfigMapByFilename:(e,t)=>e=>{const s=l.OH.CONFIG_SERVICE_MAP;let a=s.find((t=>{var s;return(null===(s=t.filename)||void 0===s?void 0:s.toLowerCase())===e.toLowerCase()}));return a||(a=s.find((t=>t.prefix&&e.toLowerCase().startsWith(t.prefix.toLowerCase())))),a||(a=s.find((t=>t.suffix&&e.endsWith(t.suffix.toLowerCase())))),a?{serviceSupported:t.getServices.some((e=>e.name===(null===a||void 0===a?void 0:a.service))),...a}:{}}};s(92087);let I;const F={async reset({commit:e}){e("setReset")},async initComponents({dispatch:e},t){if(t.components&&t.components.length>0){const s=l.OH.MOONRAKER_COMPONENTS;for(const a in s){const r=s[a];t.components.includes(r.name)&&e(r.dispatch,void 0,{root:!0})}}},async onServerInfo({commit:e,dispatch:t,state:s},a){c.r.printerInfo(),c.r.serverConfig(),c.r.machineProcStats(),c.r.machineSystemInfo(),e("setServerInfo",a),"ready"!==a.klippy_state?(0===s.klippy_retries&&t("initComponents",a),e("setKlippyRetries",s.klippy_retries+1),clearTimeout(I),I=window.setTimeout((()=>{c.r.serverInfo()}),l.OH.KLIPPY_RETRY_DELAY)):(e("setKlippyRetries",0),t("initComponents",a),c.r.printerObjectsList())},async onServerConfig({commit:e},t){t.config&&e("setServerConfig",t.config)},async onMachineProcStats({commit:e,dispatch:t},s){if(s&&s.throttled_state&&await t("onMachineThrottledState",s.throttled_state),e("setMoonrakerStats",s),s.moonraker_stats&&"cpu_usage"in s.moonraker_stats&&!Array.isArray(s.moonraker_stats)){const t=s.moonraker_stats;t.cpu_usage<=100&&e("charts/setChartEntry",{type:"moonraker",retention:600,data:{date:new Date(1e3*t.time),load:t.cpu_usage.toFixed(2)}},{root:!0})}},async onMachineSystemInfo({commit:e},t){e("setSystemInfo",t)},async onServiceStateChanged({commit:e},t){e("setServiceState",t)},async onMachineThrottledState({commit:e,dispatch:t,state:s},a){a&&(a&&a.flags.length>0&&a.flags.forEach((e=>{if(s.throttled_state&&!s.throttled_state.flags.includes(e)){const a=e.toLowerCase().startsWith("previously");let r={id:e,title:e,description:"This may lead to a throttle condition and result in a failed print",to:"https://www.raspberrypi.com/documentation/computers/raspberry-pi.html#frequency-management-and-thermal-control",type:a?"info":"error",snackbar:!a,merge:!0,clear:!a,noCount:a};"Temperature Limit Active"!==e&&"Frequency Capped"!==e||!s.cpu_temp||(r={...r,suffix:`${s.cpu_temp.toFixed(0)}<small>°C</small>`,suffixIcon:"$tempError"}),a||(r={...r,description:"This may lead to a failed print"}),t("notifications/pushNotification",r,{root:!0})}})),e("setMoonrakerStats",{throttled_state:a}))}},B={setReset(e){Object.assign(e,N())},setServerInfo(e,t){a["default"].set(e,"info",t)},setSystemInfo(e,t){t.system_info&&a["default"].set(e,"system_info",t.system_info)},setServiceState(e,t){var s;t&&(null===(s=e.system_info)||void 0===s?void 0:s.service_state)&&Object.assign(e.system_info.service_state,t)},setServerConfig(e,t){e.config={...e.config,...t}},setMoonrakerStats(e,t){if(t.cpu_temp&&a["default"].set(e,"cpu_temp",t.cpu_temp),t.throttled_state&&(e.throttled_state={...e.throttled_state,...t.throttled_state}),t.moonraker_stats&&Array.isArray(t.moonraker_stats))a["default"].set(e,"moonraker_stats",t.moonraker_stats);else if(e.moonraker_stats){e.moonraker_stats.push(t.moonraker_stats);while(e.moonraker_stats.length>30)e.moonraker_stats.splice(0,1)}},setKlippyRetries(e,t){e.klippy_retries=t}},N=()=>({klippy_retries:0,info:{failed_components:[],klippy_connected:!1,klippy_state:"",components:[],registered_directories:[],warnings:[]},system_info:null,config:{authorization:{enabled:!0},server:{}},moonraker_stats:[],throttled_state:{bits:0,flags:[]},cpu_temp:null}),U=N(),j=!0,H={namespaced:j,state:U,getters:O,actions:F,mutations:B};var W=s(72129),z=s(18939);const q={getklippyReady:(e,t,s,a)=>{const r=a["server/getInfo"],i=r.klippy_state||"",n=r.klippy_connected||!1;return!("ready"!==i||!n)},getKlippyState:(e,t,s,r)=>{const i=r["server/getInfo"],n=i.klippy_state||"";return a["default"].$filters.capitalize(n)},getKlippyStateMessage:(e,t,s,a)=>{const r=/(?:\r\n|\r|\n)/g,i=a["server/getInfo"];return!1===i.klippy_connected?"Klippy not connected.":e.printer.info.state_message&&""!==e.printer.info.state_message?e.printer.info.state_message.trim().replace(r,"<br />"):e.printer.webhooks.state_message&&""!==e.printer.webhooks.state_message?e.printer.webhooks.state_message.trim().replace(r,"<br />"):"Unknown"},getPrinterState:e=>{const t=e.printer.idle_timeout.state,s=e.printer.print_stats.state;return t&&s?"paused"===s.toLowerCase()||"cancelled"===s.toLowerCase()?s.toLowerCase():"printing"===t.toLowerCase()&&"printing"!==s.toLowerCase()?"busy":t.toLowerCase():"loading"},getPrintProgress:e=>{var t,s,a;const{gcode_start_byte:r,gcode_end_byte:i,filename:n}=null!==(t=e.printer.current_file)&&void 0!==t?t:{},{file_position:o}=null!==(s=e.printer.virtual_sdcard)&&void 0!==s?s:{};if(r&&i&&o&&n===(null===(a=e.printer.print_stats)||void 0===a?void 0:a.filename)){if(o<=r)return 0;if(o>=i)return 1;const e=o-r,t=i-r;if(e>0&&t>0)return e/t}return e.printer.display_status.progress||0},getPrintLayers:e=>{var t,s;const a=null===(s=null===(t=e.printer.print_stats)||void 0===t?void 0:t.info)||void 0===s?void 0:s.total_layer;if("number"===typeof a)return a;const r=e.printer.current_file;if("layer_count"in r)return r.layer_count;if("first_layer_height"in r&&"layer_height"in r&&"object_height"in r){const e=Math.ceil((r.object_height-r.first_layer_height)/r.layer_height+1);if(e>0)return e}return 0},getPrintLayer:e=>{var t,s;const a=null===(s=null===(t=e.printer.print_stats)||void 0===t?void 0:t.info)||void 0===s?void 0:s.current_layer;if("number"===typeof a)return a;const r=e.printer.current_file,i=e.printer.print_stats.print_duration||0,n=e.printer.gcode_move.gcode_position;if(r&&i>0&&"first_layer_height"in r&&"layer_height"in r&&n&&n.length>=3){const t=e.printer.gcode_move.gcode_position[2],s=Math.ceil((t-r.first_layer_height)/r.layer_height+1);if(s>0)return s}return 0},getTimeEstimates:(e,t)=>{const s=t.getPrintProgress,a=Math.floor(Date.now()/1e3),r="print_stats"in e.printer&&"print_duration"in e.printer.print_stats?e.printer.print_stats.print_duration:0,i=e.printer.gcode_move.speed_factor||1;let n=0,o=0,l=0;s>0&&r>0&&(n=r/s,o=(n-r)/i,l=a+o);let c=0,p=0,d=0;"current_file"in e.printer&&"history"in e.printer.current_file&&"completed"===e.printer.current_file.history.status&&(c=e.printer.current_file.history.total_duration,p=(c-r)/i,d=a+p);let u=0,m=0,h=0;"current_file"in e.printer&&"estimated_time"in e.printer.current_file&&(u=e.printer.current_file.estimated_time,m=(u-r)/i,h=a+m);let g=l;return h>0&&(g=h),d>0&&(g=d),{progress:(100*s).toFixed(),duration:r,slicer:m,file:o,actual:p,eta:g}},getSystemStats:e=>e.printer.system_stats,getMcus:e=>{const t=[];return Object.keys(e.printer).filter((e=>e.startsWith("mcu"))).sort().forEach((s=>{t.push({name:s,...e.printer[s]})})),t},getExtruders:e=>{const t=[];return Object.keys(e.printer).filter((e=>e.startsWith("extruder"))).sort().forEach((e=>{if("extruder"===e)t.push({name:"Extruder 0",key:e});else{const s=e.match(/\d+$/);s&&t.push({name:"Extruder "+s[0],key:e})}})),t},getActiveExtruder:(e,t)=>{const s=e.printer.toolhead.extruder||"extruder";return t.getExtruderByName(s)},getExtruderByName:(e,t)=>s=>{const a=e.printer[s]||void 0,r=t.getPrinterSettings(s);if(!a||!r)return{};const{min_extrude_temp:i}="extruder"===s?r:t.getPrinterSettings("extruder");return{min_extrude_temp:i,...r,...a,config_pressure_advance:r.pressure_advance,config_smooth_time:r.pressure_advance_smooth_time}},getHomedAxes:e=>t=>{if(t&&t.length>0){let s=!1;const a=t.split("");return a.forEach((t=>{s=e.printer.toolhead.homed_axes.includes(t)})),s}return!1},getRunoutSensors:e=>{const t=["filament_switch_sensor","filament_motion_sensor"],s=[];for(const a in e.printer){const r=a.split(" ");if(t.includes(r[0])){const t=r.length>1?r[1]:a,i=(0,W.Z)(e.printer,a,void 0);s.push({name:t,...i})}}return s},getEndstops:e=>{const t=[];return Object.keys(e.printer.endstops).sort().forEach((s=>{t.push({name:s,state:e.printer.endstops[s]})})),t},getProbe:e=>{const t=e.printer.probe;return t},getHeaters:(e,t)=>{const s=e.printer.heaters.available_heaters||[];if(s.length){const r=[];return s.forEach((s=>{const i=e.printer[s];if(i&&Object.keys(i).length>0){const e=t.getPrinterSettings(s),n=["heater_generic"];let o=s;const l=s.split(" ");l.length>1&&n.includes(l[0])&&(l.shift(),o=l.join(" "));const c=a["default"].$colorset.next((0,z.Z)(s),s),p=a["default"].$filters.startCase(o);r.push({...i,name:o,color:c,prettyName:p,key:s,minTemp:e&&void 0!==e.min_temp?e.min_temp:void 0,maxTemp:e&&void 0!==e.max_temp?e.max_temp:void 0})}})),r.sort(((e,t)=>{const s=e.name.toUpperCase(),a=t.name.toUpperCase();return s<a?-1:s>a?1:0}))}return[]},getAllLeds:(e,t)=>t.getOutputs(["led","neopixel","dotstar"]),getAllFans:(e,t)=>t.getOutputs(["temperature_fan","controller_fan","heater_fan","fan_generic","fan"]),getToolHeadFans:(e,t)=>t.getOutputs(["heater_fan","fan"]),getOtherFans:(e,t)=>t.getOutputs(["temperature_fan","controller_fan","fan_generic"]),getPins:(e,t)=>{const s=t.getOutputs(["output_pin"]);return s.sort((e=>(e.pwm,1)))},getOutputs:(e,t)=>s=>{const r=["temperature_fan","controller_fan","heater_fan","fan_generic","fan"],i=["output_pin"],n=["led","neopixel","dotstar"],o=["fan","fan_generic","output_pin","led","neopixel","dotstar"],l=["temperature_fan"],c=["output_pin","temperature_fan","controller_fan","heater_fan","fan_generic","led","neopixel","dotstar"],p=s&&s.length?s:[...r,...i,...n],d=[];for(const u in e.printer){const s=u.split(" "),n=s.length>1?s[1]:u,m=s.length?s[0]:u;if(p.includes(m)&&(c.includes(m)&&!n.startsWith("_")||!c.includes(m))){let c=a["default"].$filters.startCase(n);"fan"===n&&(c="Part Fan");const p=l.includes(m)?a["default"].$colorset.next((0,z.Z)(u),u):void 0,h=t.getPrinterSettings(u);let g={...e.printer[u],config:{...h},name:n,prettyName:c,key:u,color:p,type:m,controllable:o.includes(m)};r.includes(m)&&(g={...g,minTemp:h&&h.min_temp?h.min_temp:void 0,maxTemp:h&&h.max_temp?h.max_temp:void 0}),i.includes(m)&&(g={...g,pwm:!(!h||!h.pwm)&&h.pwm,scale:h&&h.scale?h.scale:1,controllable:(!h||!h.static_value)&&o.includes(s[0])}),d.push(g)}}return d},getSensors:(e,t)=>{const s=["temperature_sensor","temperature_probe"],r=["bme280","htu21d"],i=Object.keys(e.printer).reduce(((i,n)=>{const o=n.split(" "),l=o.length>1?o[1]:n;if(s.includes(o[0])){const s=a["default"].$filters.startCase(l),r=a["default"].$colorset.next((0,z.Z)(n),n),c=o.length?o[0]:n,p=t.getPrinterSettings(n);i[l]={...i[l],...e.printer[n],...p,minTemp:p&&p.min_temp?p.min_temp:null,maxTemp:p&&p.max_temp?p.max_temp:null,name:l,key:n,prettyName:s,color:r,type:c}}else if(r.includes(o[0])){const{pressure:t,humidity:s}=e.printer[n];i[l]={pressure:t,humidity:s,...i[l]}}return i}),{});return Object.values(i)},getChartableSensors:e=>{let t=[];const s=["temperature_fan","temperature_probe","temperature_sensor"];for(const a of Object.keys(e.printer))s.some((e=>a.startsWith(e)))&&t.push(a);return e.printer.heaters.available_heaters.length>0&&(t=[...t,...e.printer.heaters.available_heaters]),t},getBedScrews:(e,t)=>{const s=t.getPrinterSettings("bed_screws"),a=[];for(let r=1;r<=99;r++){const e=s[`screw${r}`];if(!e)break;a.push({adjust:e,fine:s[`screw${r}_fine_adjust`],name:s[`screw${r}_name`]})}return a},getPrinterSettings:e=>t=>{if(e.printer&&e.printer.configfile&&e.printer.configfile.settings)return t?(0,W.Z)(e.printer.configfile.settings,t.toLowerCase(),void 0):e.printer.configfile.settings},getPrinterConfig:e=>t=>{if(e.printer&&e.printer.configfile&&e.printer.configfile.config)return t?(0,W.Z)(e.printer.configfile.config,t,void 0):e.printer.configfile.config},getHasWarnings:(e,t,s)=>!!(s.socket&&s.socket.open&&s.socket.ready&&(t.getPrinterWarnings.length>0||t.getKlipperWarnings.length>0||t.getMoonrakerFailedComponents.length>0||t.getMoonrakerWarnings.length>0)),getPrinterWarnings:(e,t)=>{const s=t.getPrinterConfig(),a=[];return s&&!("virtual_sdcard"in s)&&a.push({message:"[virtual_sdcard] not found in printer configuration."}),s&&!("pause_resume"in s)&&a.push({message:"[pause_resume] not found in printer configuration."}),!s||"display"in s||"display_status"in s||a.push({message:"[display_status] is required if you do not have a [display] defined."}),s&&!("gcode_macro CANCEL_PRINT"in s)&&a.push({message:"CANCEL_PRINT macro not found in configuration."}),a},getKlipperWarnings:e=>{var t;return(null===(t=e.printer.configfile)||void 0===t?void 0:t.warnings)||[]},getMoonrakerFailedComponents:(e,t,s,a)=>a["server/getInfo"].failed_components||[],getMoonrakerWarnings:(e,t,s,a)=>a["server/getInfo"].warnings||[],getSaveConfigPending:e=>{var t;return(null===(t=e.printer.configfile)||void 0===t?void 0:t.save_config_pending)||!1},getSaveConfigPendingItems:e=>{var t;return null===(t=e.printer.configfile)||void 0===t?void 0:t.save_config_pending_items},getHasHomingOverride:(e,t)=>{const s=t.getPrinterConfig();return!(!s||!("homing_override"in s))},getIsManualProbeActive:e=>{var t;return(null===(t=e.printer.manual_probe)||void 0===t?void 0:t.is_active)||!1},getIsBedScrewsAdjustActive:e=>{var t;return(null===(t=e.printer.bed_screws)||void 0===t?void 0:t.is_active)||!1}};s(21703);var V=s(10665);const G=e=>{const t=Object.keys(e).filter((e=>e.startsWith("mcu")));t.length>0&&t.forEach((t=>{const s={...Es.state.printer.printer[t],...e[t]};if(s.last_stats){const e=new Date;let a;Es.state.charts[t]&&(a=Es.state.charts[t][Es.state.charts[t].length-1]);const r=.0025,i=5,n=100*(s.last_stats.mcu_task_avg+3*s.last_stats.mcu_task_stddev)/r,o=s.last_stats.mcu_awake/i*100,l=25e3,c=a?e.getTime()-a.date.getTime():1e3;let p=s.last_stats.bytes_write+s.last_stats.bytes_retransmit,d=a?parseFloat(a.bw):p;p<d&&(d=p),p=100*(p-d)/(l*c),Es.commit("charts/setChartEntry",{type:t,retention:600,data:{date:e,load:n.toFixed(2),awake:o.toFixed(2),bw:p.toFixed(2)}})}}))},Y=e=>{var t,s,a,r,i;if("system_stats"in e){const n={...Es.state.printer.printer.system_stats,...e.system_stats},o=new Date;if("memavail"in n&&(null===(s=null===(t=Es.state.server.system_info)||void 0===t?void 0:t.cpu_info)||void 0===s?void 0:s.total_memory)){const e=(null===(r=null===(a=Es.state.server.system_info)||void 0===a?void 0:a.cpu_info)||void 0===r?void 0:r.total_memory)||0,t=e-n.memavail,s=Math.ceil(t/e*100);Es.commit("charts/setChartEntry",{type:"memory",retention:600,data:{date:o,memused:s.toFixed(2)}})}if("cputime"in n&&"sysload"in n){const e=n.cputime,t=(null===(i=Es.state.printer.printer.system_stats)||void 0===i?void 0:i.cputime)||n.cputime||0;Es.commit("charts/setChartEntry",{type:"klipper",retention:600,data:{date:o,load:n.sysload.toFixed(2),cputime_change:(100*(e-t)).toFixed(2)}})}}},K=(e,t)=>{const s=()=>{const e=new Date,s={date:e};return t.forEach((e=>{let t=e;e.includes(" ")&&(t=e.split(" ")[1]);const a=Es.state.printer.printer[e].temperature,r=Es.state.printer.printer[e].target,i=Es.state.printer.printer[e].power,n=Es.state.printer.printer[e].speed;s[t]=a,void 0!==r&&(s[`${t}Target`]=r),void 0!==i&&(s[`${t}Power`]=i),void 0!==n&&(s[`${t}Speed`]=n)})),s};if(Es.state.charts.ready){const t=s();Es.commit("charts/setChartEntry",{type:"chart",data:t,retention:e})}};var X=s(64246);const J={async reset({commit:e}){e("setReset")},async onPrinterInfo({commit:e},t){e("setPrinterInfo",t)},async onQueryEndstops({commit:e},t){e("setQueryEndstops",t)},async onPrintCancel(){n().debug("Print Cancelled")},async onPrintPause(){n().debug("Print Paused")},async onPrintResume(){n().debug("Print Resumed")},async onPrintStart(e,t){n().debug("Print start detected",t)},async onPrintEnd(e,t){n().debug("Print end detected",t)},async onPrinterObjectsList({commit:e},t){let s={};t.objects.forEach((t=>{t.includes("menu")||t.includes("gcode_macro")||(s={...s,[t]:null});let a=t;t.includes(" ")&&(a=a.replace(" ",".")),e("printer/setPrinterObjectList",a,{root:!0})})),c.r.printerObjectsSubscribe(s)},async onPrinterObjectsSubscribe({commit:e,dispatch:t},s){e("socket/setAcceptNotifications",!0,{root:!0}),await t("onNotifyStatusUpdate",s.status),c.r.serverGcodeStore(),c.r.printerGcodeHelp(),c.r.serverTemperatureStore()},async onNotifyStatusUpdate({rootState:e,commit:t,getters:s,dispatch:a},r){var i,n,o,c;if(r&&e.socket.acceptingNotifications){(0,V.fM)(r),(0,V.ur)(r,e,a),(0,V.xv)(r,e,a),Y(r),G(r);for(const e in r){const s=r[e];e.includes("gcode_macro")||t("printer/setSocketNotify",{key:e,payload:s},{root:!0})}const p=e.server.config,d=null!==(c=null!==(n=null===(i=null===p||void 0===p?void 0:p.data_store)||void 0===i?void 0:i.temperature_store_size)&&void 0!==n?n:null===(o=null===p||void 0===p?void 0:p.server)||void 0===o?void 0:o.temperature_store_size)&&void 0!==c?c:l.OH.CHART_HISTORY_RETENTION;K(d,s.getChartableSensors),a("onDiagnosticsMetricsUpdate")}},async onFastNotifyStatusUpdate({rootState:e,commit:t,dispatch:s},a){a&&e.socket.acceptingNotifications&&(t("printer/setSocketNotify",a,{root:!0}),s("onDiagnosticsMetricsUpdate"))},async onDiagnosticsMetricsUpdate({rootState:e,commit:t,rootGetters:s}){if(!e.config.uiSettings.general.enableDiagnostics)return;const a=e.layout.layouts.diagnostics,r=Object.values(a).flat().map((e=>e.axes)).flat().filter((e=>e.enabled)).map((e=>e.metrics)).flat(),i=Array.from(new Set(r.map((e=>e.collector))));let n;try{if(n=(0,X.Z)(`\n      const printer = ${JSON.stringify(e.printer.printer)}\n      const collectors = ${JSON.stringify(i)}\n      const result = { }\n\n      for (const collector of collectors) {\n        try {\n          result[collector] = eval(collector)\n        } catch (err) {\n          result[collector] = err.message\n        }\n      }\n\n      return JSON.stringify(result) // in order to only return serializable data\n    `,"metrics"),"string"!==typeof n)throw new Error("Metrics collector returned invalid data");n=JSON.parse(n)}catch(o){n=Object.fromEntries(i.map((e=>{var t;return[e,null!==(t=null===o||void 0===o?void 0:o.message)&&void 0!==t?t:"Unknown Error"]})))}n.date=new Date,t("charts/setChartEntry",{type:"diagnostics",retention:s["charts/getChartRetention"],data:n},{root:!0})}},Q={setReset(e){Object.assign(e,ee())},setPrinterInfo(e,t){a["default"].set(e.printer,"info",t)},setQueryEndstops(e,t){e.printer.endstops=t},setPrinterBusy(e,t){e.printer.busy=t},setPrinterObjectList(e,t){e.printer.objects.includes(t)||e.printer.objects.push(t)},setClearEndStops(e){e.printer.endstops={}},setResetCurrentFile(e){const t=ee().printer.current_file;n().debug("resetting current file",t),a["default"].set(e.printer,"current_file",t)},setSocketNotify(e,t){if("object"===typeof t.payload){const s=(0,W.Z)(e.printer,t.key);void 0===s?a["default"].set(e.printer,t.key,t.payload):Object.keys(t.payload).forEach((r=>{s[r]!==t.payload[r]&&a["default"].set(e.printer[t.key],r,t.payload[r])}))}else(0,W.Z)(e.printer,t.key)!==t.payload&&a["default"].set(e.printer,t.key,t.payload)}},ee=()=>({printer:{endstops:{},bed_mesh:{},heaters:{available_heaters:[],available_sensors:[]},info:{state:"",state_message:""},configfile:{warnings:[],save_config_pending:!1,save_config_pending_items:{},config:{virtual_sdcard:{},pause_resume:{},display_status:{},"gcode_macro CANCEL_PRINT":{}},settings:{bed_mesh:{},fan:{},printer:{max_accel_to_decel:500,max_accel:1e3,max_velocity:100,square_corner_velocity:3,kinematics:"none"},virtual_sdcard:{},pause_resume:{},display_status:{},"gcode_macro cancel_print":{},extruder:{max_extrude_only_velocity:100,max_extrude_only_distance:100}}},objects:[],idle_timeout:{state:""},print_stats:{state:"",print_duration:0,total_duration:0,filament_used:0,filename:""},display_status:{progress:0,message:""},virtual_sdcard:{file_position:0,is_active:!1,progress:0},toolhead:{estimated_print_time:0,homed_axes:"",max_accel:0,max_accel_to_decel:0,max_velocity:0,position:[0,0,0,0],print_time:0,square_corner_velocity:0,extruder:""},motion_report:{live_position:[0,0,0,0],live_velocity:0,live_extruder_velocity:0},firmware_retraction:{retract_length:0,unretract_extra_length:0,unretract_speed:0,retract_speed:0},current_file:{estimated_time:0,filament_total:0,thumbnails:[]},gcode_move:{gcode_position:[0,0,0,0],homing_origin:[],speed:0},manual_probe:{is_active:!1,z_position:null,z_position_lower:null,z_position_upper:null},bed_screws:{is_active:!1,state:null,current_screw:0,accepted_screws:0},fan:{speed:0},webhooks:{state:"",state_message:""}}}),te=ee(),se=!0,ae={namespaced:se,state:te,getters:q,actions:J,mutations:Q};var re=s(27871);const ie={getDirectory:e=>(t,s)=>{const a=t;if(e&&e[a]){const t=e[a].find((e=>e.path===s));if(t)return t}},getRootFiles:e=>t=>e.rootFiles[t],isRootAvailable:(e,t,s)=>e=>s.server.info.registered_directories.includes(e),getRootProperties:()=>e=>"gcodes"===e?{readonly:!1,accepts:[".gcode",".g",".gc",".gco",".ufp",".nc"],canEdit:!0,canView:!1,canPrint:!0,canConfigure:!0,filterTypes:["print_start_time"]}:"config"===e?{readonly:!1,accepts:[".conf",".cfg",".md",".css",".jpg",".jpeg",".png",".gif"],canEdit:!0,canView:!1,canPrint:!1,canConfigure:!1,filterTypes:["hidden_files","klipper_backup_files"]}:"config_examples"===e||"docs"===e||"logs"===e?{readonly:!0,accepts:[],canEdit:!1,canView:!0,canPrint:!1,canConfigure:!1,filterTypes:[]}:"timelapse"===e?{readonly:!0,accepts:[],canEdit:!1,canView:!0,canPrint:!1,canConfigure:!1,canDelete:!0,canCreateDirectory:!0,filterTypes:[]}:{readonly:!0,accepts:[],canEdit:!1,canView:!0,canPrint:!1,canConfigure:!1,filterTypes:[]},getFile:(e,t)=>(e,s,a)=>{const r=t.getDirectory(e,s);if(r&&r.items){const e=r.items.find((e=>"file"===e.type&&e.filename===a));if(e)return e}},getCurrentPathByRoot:e=>t=>e.currentPaths[t]||"",getLowOnSpace:e=>e.disk_usage.free<1073741824,getUsage:e=>e.disk_usage};var ne=s(18706);const oe=(e,t)=>{if("path"in t){const s=(0,ne.Z)(t.path,e);return{type:"file",filename:s.filename,extension:s.filename.split(".").pop()||"",name:s.filename,path:s.path,size:t.size,modified:t.modified}}const s=(0,ne.Z)(t.filename,e);return{...t,type:"file",filename:s.filename,extension:s.filename.split(".").pop()||"",name:s.filename,path:s.path}},le={async reset({commit:e}){e("setReset")},async onServerFilesGetDirectory({commit:e,rootState:t},s){const a=s.__request__.params.path,r=s.__request__.params.root;let i=a.replace(r,"");i.startsWith("/")&&(i=i.substring(1));const n=[];a&&a.indexOf("/")>=0&&n.push({type:"directory",dirname:"..",name:"..",size:0,modified:null}),s.dirs&&s.dirs.forEach((e=>{l.OH.FILTERED_FILES_PREFIX.some((t=>e.dirname.startsWith(t)))||l.OH.FILTERED_FILES_EXTENSION.some((t=>e.dirname.endsWith(t)))||(e.type="directory",e.name=e.dirname,e.modified=e.modified?new Date(e.modified).getTime():null,n.push(e))})),s.files&&s.files.forEach((e=>{if(!l.OH.FILTERED_FILES_PREFIX.some((t=>e.filename.startsWith(t)))&&!l.OH.FILTERED_FILES_EXTENSION.some((t=>e.filename.endsWith(t)))){let s={};if(e.job_id){const a=t.history.jobs.find((t=>t.job_id===e.job_id));a&&(s=a)}n.push({...e,type:"file",name:e.filename,extension:e.filename.split(".").pop()||"",modified:new Date(e.modified).getTime(),path:"/"===i?"":i,history:s})}})),e("setDiskUsage",s.disk_usage),e("setServerFilesGetDirectory",{root:r,directory:{path:a,items:n}})},async onServerFilesListRoot({commit:e},t){const s=t.__request__.params.root;e("setServerFilesListRoot",{root:s,files:t})},async onFileMetaData({commit:e,rootState:t,rootGetters:s},a){const r="gcodes",i=(0,ne.Z)(a.filename,r);let n=oe(r,a);const o=n.path?`${n.path}/${n.filename}`:`${n.filename}`;if(o===t.printer.printer.print_stats.filename){const t=s["history/getHistoryByFilename"](o);t&&(n={...n,history:t}),e("printer/setSocketNotify",{key:"current_file",payload:n},{root:!0})}const l={paths:i,root:r,file:n};e("setFileUpdate",l)},async notifyCopyItem({dispatch:e},t){e("notifyModifyFile",t)},async notifyMoveItem({dispatch:e},t){e("notifyMoveFile",t)},async notifyUploadFile({dispatch:e},t){e("notifyCreateFile",t)},async notifyRootUpdate({commit:e},t){const s=t.item.root;e("setResetRoot",s),c.r.serverFilesGetDirectory(s,s)},async notifyModifyFile(e,t){const s=t.item.root,a=(0,ne.Z)(t.item.path,s);if(c.r.serverFilesGetDirectory(s,a.rootPath),t.source_item){const e=(0,ne.Z)(t.source_item.path,s);a.rootPath!==e.rootPath&&c.r.serverFilesGetDirectory(s,e.rootPath)}},async notifyCreateFile({commit:e,dispatch:t,rootState:s},a){const r=a.item.root,i=oe(r,a.item);if("gcode"===i.extension){const e=s.gcodePreview.file;e&&e.path===i.path&&e.filename===i.filename&&t("gcodePreview/reset",void 0,{root:!0}),c.r.serverFilesMetaData(a.item.path)}else{const t=(0,ne.Z)(a.item.path,r),s={paths:t,root:r,file:i};e("setFileUpdate",s)}},async notifyCreateDir(e,t){const s=t.item.root,a=(0,ne.Z)(t.item.path,s);c.r.serverFilesGetDirectory(s,a.rootPath)},async notifyMoveFile(e,t){const s=t.item.root,a=(0,ne.Z)(t.item.path,s);if(c.r.serverFilesGetDirectory(s,a.rootPath),t.source_item){const e=(0,ne.Z)(t.source_item.path,s);a.rootPath!==e.rootPath&&c.r.serverFilesGetDirectory(s,e.rootPath)}},async notifyMoveDir(e,t){const s=t.item.root,a=(0,ne.Z)(t.item.path,s);if(c.r.serverFilesGetDirectory(s,a.rootPath),t.source_item){const e=(0,ne.Z)(t.source_item.path,s);a.rootPath!==e.rootPath&&c.r.serverFilesGetDirectory(s,e.rootPath)}},async notifyDeleteFile({commit:e},t){const s=t.item.root,a=(0,ne.Z)(t.item.path,s),r=oe(s,t.item),i={paths:a,root:s,file:r};e("setItemDelete",i)},async notifyDeleteDir({commit:e},t){const s=t.item.root,a=(0,ne.Z)(t.item.path,s),r=oe(s,t.item),i={paths:a,root:s,file:r};e("setItemDelete",i),e("setPathDelete",{path:`${a.rootPath}/${a.filename}`,root:s})},async updateFileUpload({commit:e},t){e("setUpdateFileUpload",t)},async removeFileUpload({commit:e},t){e("setRemoveFileUpload",t)},async updateFileDownload({commit:e},t){e("setUpdateFileDownload",t)},async removeFileDownload({commit:e},t){e("setRemoveFileDownload",t)},async updateCurrentPathByRoot({commit:e},t){e("setCurrentPath",t)}},ce=(e,t,s)=>{const a=(0,ne.Z)(s.filename,e);return s.filename=a.filename,{...t,...s}},pe={setReset(e){Object.assign(e,de())},setResetRoot(e,t){a["default"].set(e,t,[]),e.currentPaths[t]&&a["default"].set(e.currentPaths,t,void 0)},setServerFilesGetDirectory(e,t){const s=t.directory.path,a=t.root,r=e[a].findIndex((e=>e.path===s));r>=0?e[a].splice(r,1,t.directory):e[a].push(t.directory)},setServerFilesListRoot(e,t){const s=t.root;e.rootFiles[s]=t.files},setFileUpdate(e,t){const s=t.root,r=t.paths,i=e[s].find((e=>e.path===r.rootPath));if(i){const e=i.items.findIndex((e=>e.name===r.filename)),n=i.items[e],o=l.OH.FILTERED_FILES_PREFIX.some((e=>t.paths.filename.startsWith(e)))||l.OH.FILTERED_FILES_EXTENSION.some((e=>t.paths.filename.endsWith(e)));o||(e>=0?a["default"].set(i.items,e,ce(s,n,t.file)):i.items.push(ce(s,{},t.file)))}},setItemDelete(e,t){const s=t.root,a=t.paths,r=e[s].find((e=>e.path===a.rootPath));if(r){const e=r.items.findIndex((e=>e.name===a.filename));e>=0&&r.items.splice(e,1)}},setPathDelete(e,t){const s=t.root,a=t.path,r=e[s].filter((e=>e.path.startsWith(a)));r.forEach((t=>{const a=e[s].findIndex((e=>t===e));a>=0&&e[s].splice(a,1)}))},setUpdateFileUpload(e,t){const s=e.uploads.findIndex((e=>e.filepath===t.filepath));s>=0?a["default"].set(e.uploads,s,{...e.uploads[s],...t}):e.uploads.push(t)},setRemoveFileUpload(e,t){const s=e.uploads.findIndex((e=>e.filepath===t));s>=0&&e.uploads.splice(s,1)},setUpdateFileDownload(e,t){e.download&&null!==e.download?e.download={...e.download,...t}:e.download=t},setRemoveFileDownload(e){e.download=null},setCurrentPath(e,t){a["default"].set(e.currentPaths,t.root,t.path)},setDiskUsage(e,t){a["default"].set(e,"disk_usage",t)}},de=()=>({uploads:[],download:null,currentPaths:{},disk_usage:{total:0,used:0,free:0},rootFiles:{gcodes:[],config:[],config_examples:[],docs:[],logs:[],timelapse:[]},gcodes:[],config:[],config_examples:[],docs:[],logs:[],timelapse:[]}),ue=de(),me=!0,he={namespaced:me,state:ue,getters:ie,actions:le,mutations:pe};var ge=s(36212),fe=s(52753),ve=s(27484),_e=s.n(ve);const ye={getChartData:e=>e.chart,getSelectedLegends:e=>e.selectedLegends,getChartRetention:(e,t,s,a)=>{var r,i,n,o;const c=a["server/getConfig"];return null!==(o=null!==(i=null===(r=c.data_store)||void 0===r?void 0:r.temperature_store_size)&&void 0!==i?i:null===(n=c.server)||void 0===n?void 0:n.temperature_store_size)&&void 0!==o?o:l.OH.CHART_HISTORY_RETENTION},getBaseChartOptions:(e,t,s,a)=>(e={})=>{const t=s.config.uiSettings.theme.isDark,r=fe.Z.framework.breakpoint.mobile,i=t?"rgba(255,255,255,0.65)":"rgba(0,0,0,0.45)",n=r?13:14,o={color:t?"#ffffff":"#000000",opacity:.05},l={color:t?"#ffffff":"#000000",opacity:.5},c={show:!0,borderWidth:1,borderColor:t?"rgba(255,255,255,0.25)":"rgba(0,0,0,0.15)"},p={backgroundColor:t?"rgba(15,15,15,0.75)":"rgba(255,255,255,0.75)",borderColor:t?"rgba(0,0,0,0.85)":"rgba(255,255,255,0.85)",textStyle:{color:i,fontSize:n}},d=a["config/getTheme"],u=[d.currentTheme.primary,d.currentTheme.accent,d.currentTheme.info];return{color:u,grid:c,tooltip:{...p,show:!0,trigger:"axis",position:["-8px","-8px"],formatter:t=>{let s=!1,a="<div>";return t.forEach((t=>{const r=t.dimensionNames[t.encode.x],o=t.dimensionNames[t.encode.y],l=e[o]||"";if(r&&o&&t.seriesName){if(!s){const e=_e()(t.value[r]);a+=`\n                  <span style="font-size:${n}px;color:${i};font-weight:400;margin-left:2px">\n                    ${e.format("LTS")}\n                  </span>\n                  `,s=!0}a+=`\n                  <div style="white-space: nowrap;">\n                    ${t.marker}\n                    <span style="font-size:${n}px;color:${i};font-weight:400;margin-left:2px">\n                      ${t.seriesName}:\n                    </span>\n                    <span style="float:right;margin-left:20px;font-size:${n}px;color:${i};font-weight:900">\n                      ${t.value[o]}${l}\n                    </span>\n                    <div style="clear: both"></div>\n                  </div>\n                  <div style="clear: both"></div>\n                `}})),a+="</div>",a}},xAxis:{type:"time",boundaryGap:!1,min:e=>e.max-6e5,max:"dataMax",axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1,formatter:"{value}%"},splitLine:{show:!0,lineStyle:o},axisPointer:{lineStyle:l}},yAxis:{type:"value",min:0,max:e=>e.max<=100?100:e.max,axisLabel:{show:!1,formatter:"{value}%"},splitLine:{show:!0,lineStyle:o}}}},getBaseSeries:()=>e=>{const t={type:"line",smooth:!0,animation:!1,showSymbol:!1,symbol:"emptyCircle",areaStyle:{type:"solid",opacity:.3},lineStyle:{type:"solid",width:1.5,opacity:1},emphasis:{lineStyle:{width:1.5}},...e};return t}};var be=s(35322);const xe={async reset({commit:e}){e("setReset")},async initTempStore({commit:e,rootGetters:t,rootState:s},a){const r=new Date,i=t["charts/getChartRetention"],n=["temperature_probe","temperature_sensor"];if(a&&0===Object.keys(a).length)return void e("setChartStore",[]);for(const c in a)n.some((e=>c.startsWith(e)))&&delete a[c].targets,["temperatures","targets","powers","speeds"].forEach((e=>{const t=a[c][e];if(t&&t.length)if(t.length<i){const s=i-t.length,r=a[c][e][0];a[c][e]=[...Array.from({length:s},(()=>r)),...a[c][e]]}else a[c][e]=a[c][e].splice(t.length-i)}));const o=Object.keys(a),l=[];for(let c=0;c<i;c++){const e=new Date(r.getTime()-1e3*(i-c)-2e3),t={date:e};o.forEach((e=>{let r=e;if(e.includes(" ")&&(r=e.split(" ")[1]),s.printer.printer[e]){const i=s.printer.printer[e].temperature||0,n=s.printer.printer[e].target||0,o=s.printer.printer[e].power||0,l=s.printer.printer[e].speed||0;t[r]=a[e].temperatures[c]||i,"targets"in a[e]&&(t[`${r}Target`]=a[e].targets[c]||n),"powers"in a[e]&&(t[`${r}Power`]=a[e].powers[c]||o),"speeds"in a[e]&&(t[`${r}Speed`]=a[e].speeds[c]||l)}})),l.push(t)}e("setChartStore",l)},initCharts({commit:e},t){e("setInitCharts",t)},saveSelectedLegends({commit:e,state:t},s){(0,be.Z)(t.selectedLegends,s)||(e("setSelectedLegends",s),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.charts.name+".selectedLegends",s))}},$e={setReset(e){const t=we();Object.keys(e).forEach((s=>{Object.keys(t).includes(s)||delete e[s]})),Object.assign(e,we())},setInitCharts(e,t){t&&Object.assign(e,t)},setChartStore(e,t){e.chart=t,e.ready=!0},setChartEntry(e,t){e[t.type]||a["default"].set(e,t.type,[]),e[t.type].push(t.data);const s=e[t.type].findIndex((e=>(Date.now()-e.date.valueOf())/1e3<t.retention));s>0&&e[t.type].splice(0,s)},setSelectedLegends(e,t){e.selectedLegends=t}},we=()=>({ready:!1,chart:[],selectedLegends:{}}),Se=we(),ke=!0,Ce={namespaced:ke,state:Se,getters:ye,actions:xe,mutations:$e},Ze=/^(?:ok\s+)?(b|t\d+):\d+\.\d+ \/\d+\.+\d+/i,Pe={getConsoleEntries:(e,t,s)=>{const a=s.config.uiSettings.general.hideTempWaits||!0,r=e.console.filter((t=>(!t.time||1e3*t.time>e.lastCleared)&&(!a||!Ze.test(t.message))&&!e.consoleFilters.some(((s,a)=>s.enabled&&e.consoleFiltersRegexp[a].test(t.message)))));return r},getFilters:e=>e.consoleFilters,getAvailableCalibrationCommands:e=>Object.keys(e.availableCommands).filter((e=>e.endsWith("CALIBRATE"))).reduce(((t,s)=>({...t,[s]:e.availableCommands[s]})),{}),getAllGcodeCommands:e=>{const t=e.availableCommands,s=["TESTZ","ABORT","ACCEPT","ADJUSTED"];return s.forEach((e=>{e in t!==!0&&(t[e]="")})),t}},Ae={async reset({commit:e}){e("setReset")},async initConsole({commit:e},t){e("setInitConsole",t)},async onUpdateCommandHistory({state:e,commit:t},s){t("setUpdateCommandHistory",s),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.console.name+".commandHistory",e.commandHistory)},async onGcodeScript({dispatch:e},t){t&&t.result&&"ok"!==t.result&&e("onAddConsoleEntry",{message:l.OH.CONSOLE_RECEIVE_PREFIX+t.result})},async onAddConsoleEntry({commit:e},t){t.message=t.message.replace(/(?:\r\n|\r|\n)/g,"<br />"),(!t.time||t.time<=0)&&(t.time=(new Date).getTime()/1e3|0),t.type||(t.type="response"),e("setConsoleEntry",t)},async onGcodeStore({commit:e},t){if(t&&t.gcode_store){const s=t.gcode_store.map(((e,t)=>(e.message=l.OH.CONSOLE_RECEIVE_PREFIX+e.message,e.message=e.message.replace(/(?:\r\n|\r|\n)/g,"<br />"),e.id=t,e)));e("setAllEntries",s)}},async onGcodeHelp({commit:e},t){e("setGcodeHelp",t)},async onUpdateAutoScroll({commit:e},t){e("setAutoScroll",t),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.console.name+".autoScroll",t)},async onRemoveFilter({commit:e,state:t},s){e("setRemoveFilter",s),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.console.name+".consoleFilters",t.consoleFilters)},async onSaveFilter({commit:e,state:t},s){e("setFilter",s),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.console.name+".consoleFilters",t.consoleFilters)},async onClear({commit:e,state:t}){e("setLastCleared"),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.console.name+".lastCleared",t.lastCleared)}};var Re=s(57632),Ee=s(30258);const Le=e=>{function t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}switch(e.type){case Ee.T.Contains:return new RegExp(`.*${t(e.value)}.*`,"i");case Ee.T.StartsWith:return new RegExp(`^${t(e.value)}.*`,"i");case Ee.T.Expression:return new RegExp(e.value)}},De={setReset(e){Object.assign(e,Te())},setConsoleEntry(e,t){void 0===t.id&&(e.consoleEntryCount++,t.id=e.consoleEntryCount);while(e.console.length>=l.OH.CONSOLE_HISTORY_RETENTION)e.console.shift();e.console.push(t)},setAllEntries(e,t){e.consoleEntryCount=t.length,e.console=t},setGcodeHelp(e,t){a["default"].set(e,"availableCommands",t)},setInitConsole(e,t){t&&(t.consoleFilters&&(t.consoleFiltersRegexp=t.consoleFilters.map((e=>Le(e)))),Object.assign(e,t))},setUpdateCommandHistory(e,t){t&&(e.commandHistory=[...t])},setConsoleCommand(e,t){e.consoleCommand=t},setAutoScroll(e,t){e.autoScroll=t},setFilter(e,t){const s=Le(t);if(t.id){const r=e.consoleFilters.findIndex((e=>e.id===t.id));r>=0&&(a["default"].set(e.consoleFilters,r,t),a["default"].set(e.consoleFiltersRegexp,r,s))}else t.id=(0,Re.Z)(),e.consoleFilters.push(t),e.consoleFiltersRegexp.push(s)},setRemoveFilter(e,t){const s=e.consoleFilters.findIndex((e=>e.id===t.id));s>=0&&(e.consoleFilters.splice(s,1),e.consoleFiltersRegexp.splice(s,1))},setLastCleared(e){a["default"].set(e,"lastCleared",Date.now())}},Te=()=>({consoleCommand:"",consoleEntryCount:0,console:[],availableCommands:{},commandHistory:[],autoScroll:!0,lastCleared:0,consoleFilters:[],consoleFiltersRegexp:[]}),Me=Te(),Oe=!0,Ie={namespaced:Oe,state:Me,getters:Pe,actions:Ae,mutations:De},Fe={getMacros:(e,t,s)=>{const a=Object.keys(s.printer.printer.configfile.settings).filter((e=>{const t=e.split(" ")[1];return e.startsWith("gcode_macro")&&!t.startsWith("_")})).map((t=>{const a=t.split(" ")[1],r=s.printer.printer.configfile.settings[t],i=e.stored.find((e=>e.name===a)),n={name:a,alias:"",visible:!0,disabledWhilePrinting:!1,color:"",categoryId:"0",...i,config:r};let o;return i&&i.categoryId&&(o=e.categories.find((e=>e.id===i.categoryId)),o?n.category=o:n.categoryId="0"),n})).sort(((e,t)=>{const s=e.name.toLowerCase(),a=t.name.toLowerCase();return s<a?-1:s>a?1:0}));return a},getVisibleMacros:(e,t)=>{const s=[],a=t.getMacros.filter((e=>void 0===e.visible||!0===e.visible)),r=t.getCategories;for(const i of r){const e=a.filter((e=>e.categoryId===i.id));e.length>0&&s.push({id:i.id,name:i.name,macros:e})}return s},getMacrosByCategory:(e,t)=>e=>{const s=e||"0";return t.getMacros.filter((e=>!(!e.categoryId||!s)&&e.categoryId===s))},getCategories:(e,t)=>{const s=e.categories.map((e=>{const s=t.getMacrosByCategory(e.id),a=s.length,r=s.filter((e=>e.visible)).length;return{id:e.id,name:e.name,visible:r,count:a}})).sort(((e,t)=>{const s=e.name.toLowerCase(),a=t.name.toLowerCase();return s<a?-1:s>a?1:0}));return s}},Be={async reset({commit:e}){e("setReset")},initMacros({commit:e},t){e("initMacros",t)},saveMacro({state:e,commit:t},s){t("setUpdateMacro",s),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.macros.name+".stored",e.stored)},saveAllOn({state:e,commit:t},s){t("setUpdateAllVisible",{macros:s,visible:!0}),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.macros.name+".stored",e.stored)},saveAllOff({state:e,commit:t},s){t("setUpdateAllVisible",{macros:s,visible:!1}),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.macros.name+".stored",e.stored)},addCategory({commit:e,state:t},s){e("setAddCategory",s),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.macros.name+".categories",t.categories)},editCategory({commit:e,state:t},s){e("setEditCategory",s),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.macros.name,t)},removeCategory({commit:e,state:t},s){e("setRemoveCategory",s),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.macros.name,t)},saveExpanded({commit:e,state:t},s){e("setExpanded",s),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.macros.name+".expanded",t.expanded)}},Ne={setReset(e){Object.assign(e,Ue())},initMacros(e,t){t&&t.categories&&"string"===typeof t.categories[0]&&(t.categories=[]),t&&Object.assign(e,t)},setUpdateMacro(e,t){const s={...t};delete s.config,delete s.category;const r=e.stored.findIndex((e=>e.name===t.name));r<0?e.stored.push(s):a["default"].set(e.stored,r,s)},setUpdateAllVisible(e,t){t.macros.forEach((s=>{const r=e.stored.findIndex((e=>e.name===s.name)),i={...s,visible:t.visible};delete i.config,delete i.category,r<0?e.stored.push(i):a["default"].set(e.stored,r,i)}))},setAddCategory(e,t){e.categories.push({id:(0,Re.Z)(),name:t})},setEditCategory(e,t){const s=e.categories.findIndex((e=>e.id===t.id));a["default"].set(e.categories,s,{id:t.id,name:t.name}),e.stored.forEach(((s,r)=>{s.categoryId===t.id&&a["default"].set(e.stored,r,{...s,categoryId:t.id})}))},setRemoveCategory(e,t){const s=e.categories.findIndex((e=>e.id===t.id));s>=0&&(e.categories.splice(s,1),e.stored.forEach(((s,r)=>{if(s.categoryId===t.id){const t={...s};delete t.categoryId,a["default"].set(e.stored,r,t)}})))},setExpanded(e,t){a["default"].set(e,"expanded",t)}},Ue=()=>({stored:[],categories:[],expanded:[0]}),je=Ue(),He=!0,We={namespaced:He,state:je,getters:Fe,actions:Be,mutations:Ne},ze={},qe={async reset({commit:e}){e("setReset")},async init(){c.r.machineDevicePowerDevices()},async onInit({commit:e},t){t.devices&&t.devices.length>0&&e("setDevices",t)},async onStatus({commit:e},t){e("setStatus",t)},async onToggle({commit:e},t){e("setStatus",t)}},Ve={setReset(e){Object.assign(e,Ge())},setDevices(e,t){e.devices=t.devices},setStatus(e,t){for(const s in t){const r=e.devices.findIndex((e=>e.device===s));r>=0&&a["default"].set(e.devices[r],"status",t[s])}}},Ge=()=>({devices:[]}),Ye=Ge(),Ke=!0,Xe={namespaced:Ke,state:Ye,getters:ze,actions:qe,mutations:Ve},Je={getHistory:e=>e.jobs&&e.jobs.length?[...e.jobs].sort(((e,t)=>t.start_time-e.start_time)):[],getHistoryById:e=>t=>e.jobs.find((e=>e.job_id===t)),getHistoryByFilename:e=>t=>e.jobs.find((e=>e.filename===t&&"completed"===e.status&&!0===e.exists)),getUniqueHistory:(e,t)=>(e=3)=>{const s=[],a=t.getHistory;for(const t of a)if(t.exists){const a=s.some((e=>t.filename===e.filename));if(a||s.push(t),s.length===e)break}return s},getRollUp:e=>{const t=e.job_totals;return{...t,filament_avg:t.total_filament_used?t.total_filament_used/t.total_jobs:0,print_avg:t.total_print_time?t.total_print_time/t.total_jobs:0,total_avg:t.total_time?t.total_time/t.total_jobs:0}}},Qe={async reset({commit:e}){e("setReset")},async init(){c.r.serverHistoryList({limit:l.OH.JOB_HISTORY_LOAD}),c.r.serverHistoryTotals()},async onHistoryTotals({commit:e},t){t&&e("setHistoryTotals",t)},async onHistoryList({commit:e,rootGetters:t},s){s&&(e("setHistoryList",s),t["files/isRootAvailable"]("gcodes")&&c.r.serverFilesGetDirectory("gcodes","gcodes"))},async onHistoryChange({commit:e},t){c.r.serverHistoryTotals(),t&&("added"===t.action&&e("setAddHistory",t.job),"finished"===t.action&&e("setUpdateHistory",t.job))},async onDelete({commit:e},t){e("setDeleteJob",t.deleted_jobs)}},et={setReset(e){Object.assign(e,tt())},setHistoryTotals(e,t){t&&a["default"].set(e,"job_totals",t.job_totals)},setHistoryList(e,t){void 0!==t.jobs&&a["default"].set(e,"jobs",t.jobs),void 0!==t.count&&a["default"].set(e,"count",t.count)},setAddHistory(e,t){t&&(e.jobs.push(t),e.count++)},setUpdateHistory(e,t){if(t){const s=e.jobs.findIndex((e=>e.job_id===t.job_id));s>=0&&a["default"].set(e.jobs,s,t)}},setDeleteJob(e,t){t&&t.forEach((t=>{const s=e.jobs.findIndex((e=>e.job_id===t));s>=0&&e.jobs.splice(s,1)}))}},tt=()=>({count:0,jobs:[],job_totals:{total_jobs:0,total_time:0,total_print_time:0,total_filament_used:0,longest_job:0,longest_print:0}}),st=tt(),at=!0,rt={namespaced:at,state:st,getters:Je,actions:Qe,mutations:et};var it=s(81249);const nt={getVisibleComponents:e=>{const t=Object.keys(e.version_info).map((t=>{const s=e.version_info[t];return s.key=t,s}));return t.sort(((e,t)=>{const s=e.key.toLowerCase(),a=t.key.toLowerCase();return s<a?-1:s>a?1:0})),t},hasUpdates:(e,t,s)=>{const a=s.config.uiSettings.general.enableVersionNotifications;let r=!1;for(const i in e.version_info){if(r)break;"system"!==i&&a&&(r=t.hasUpdate(i))}return r},hasUpdate:e=>t=>{if(e.version_info[t]&&(0,V.sl)(e.version_info[t],"name")){const s=e.version_info[t],a=(0,it.valid)(s.version),r=(0,it.valid)(s.remote_version);return!(!a||!r)&&(0,it.gt)(r,a)}if(e.version_info[t]&&(0,V.sl)(e.version_info[t],"package_count")){const s=e.version_info[t];return s.package_count>0}const s=e.version_info[t];return s.current_hash!==s.remote_hash},getResponses:e=>[...e.responses],getCommitHistory:e=>t=>{if(e.version_info[t]&&(0,V.sl)(e.version_info[t],"git_messages")){const s=e.version_info[t],r=[...s.commits_behind].reduce(((e,t)=>{const s=1e3*a["default"].$dayjs(1e3*+t.date).hour(6).minute(0).second(0).unix();return e[s]=e[s]||[],e[s].push({...t,date:1e3*+t.date}),e}),Object.create(null));return{keys:Object.keys(r).map((e=>parseInt(e))).sort().reverse(),result:r}}}};var ot=s(42365);const lt={async reset({commit:e}){e("setReset")},async init(){c.r.machineUpdateStatus()},async onUpdateStatus({commit:e,dispatch:t,getters:s},a){e("setRefreshing",!1),e("setUpdateStatus",a),s.hasUpdates?t("notifications/pushNotification",{id:"updates-available",title:ot.ZP.t("app.version.label.updates_available"),to:"/settings#versions",btnText:ot.ZP.t("app.version.btn.view_versions"),type:"info",merge:!0},{root:!0}):t("notifications/clearNotification","updates-available",{root:!0})},async refreshing({commit:e},t){e("setRefreshing",t)},async onUpdateResponse({commit:e},t){e("setUpdateResponse",t)},async onUpdatedMoonraker({commit:e},t){n().debug("Finished updating moonraker",t),c.r.machineUpdateStatus(),e("socket/setSocketDisconnecting",!0,{root:!0})},async onUpdatedKlipper(e,t){n().debug("Finished updating klipper",t),c.r.machineUpdateStatus()},async onUpdatedClient(e,t){n().debug("Finished updating a client",t),c.r.machineUpdateStatus()},async onUpdatedFluidd(e,t){n().debug("Finished updating fluidd, reloading",t),window.location.reload()},async onUpdatedSystem(e,t){n().debug("Finished updating system",t),c.r.machineUpdateStatus()},async onUpdatedAll(e,t){n().debug("Finished updating all services",t),window.location.reload()}},ct={setReset(e){Object.assign(e,pt())},setRefreshing(e,t){e.refreshing=t},setUpdateStatus(e,t){if(t){"busy"in t&&(e.busy=t.busy),"github_limit_reset_time"in t&&(e.github_limit_reset_time=t.github_limit_reset_time),"github_rate_limit"in t&&(e.github_rate_limit=t.github_rate_limit),"github_requests_remaining"in t&&(e.github_requests_remaining=t.github_requests_remaining);const s=Object.assign({},e.version_info,t.version_info);a["default"].set(e,"version_info",s)}},setUpdateResponse(e,t){if(t.complete)e.busy=!1;else{const s=e.responses.length;e.responses.push({...t,id:s})}},setClearUpdateResponse(e){e.responses=[]},setVersion(e,t){e.fluidd.version=t},setHash(e,t){e.fluidd.hash=t}},pt=()=>({busy:!1,refreshing:!1,github_limit_reset_time:0,github_rate_limit:0,github_requests_remaining:0,responses:[],version_info:{},fluidd:{version:"",hash:""}}),dt=pt(),ut=!0,mt={namespaced:ut,state:dt,getters:nt,actions:lt,mutations:ct},ht={getCameras:(e,t)=>{const s=t.getCamerasInConfig;return[...e.cameras,...s].sort(((e,t)=>{const s=e.name.toLowerCase(),a=t.name.toLowerCase();return s<a?-1:s>a?1:0}))},getCamerasInConfig:(e,t,s,a)=>{const r=a["webcams/getWebcamsInConfig"];return r.map((e=>({name:e.name,location:e.location,service:e.service,targetFps:e.target_fps,urlStream:e.stream_url,urlSnapshot:e.snapshot_url,flipX:e.flip_horizontal,flipY:e.flip_vertical,rotation:e.rotation,source:e.source,enabled:!0,id:`config-${e.name}`})))},getEnabledCameras:(e,t)=>[...t.getCameras].filter((e=>e.enabled)),getVisibleCameras:(e,t)=>"all"===t.getActiveCamera?[...t.getEnabledCameras]:[...t.getEnabledCameras].filter((e=>e.id===t.getActiveCamera)),getCameraById:e=>t=>e.cameras.find((e=>e.id===t)),getActiveCamera:e=>e.activeCamera},gt=(e,t,s)=>{const a="http://fake.fake",r=new URL(e,a);return r.searchParams.set(t,s),r.origin===a?r.pathname+r.search:r.href},ft=gt,vt={mjpgstream:"mjpegstreamer",mjpgadaptive:"mjpegstreamer-adaptive",iframe:"iframe",ipstream:"ipstream"},_t=["mjpegstreamer","mjpegstreamer-adaptive"],yt={async reset({commit:e}){e("setReset")},async initLegacyCameras({commit:e},t){const{cameras:s,activeCamera:a}=t;if(s){for(const e of s){const t=vt[e.type],s=_t.includes(t),a={name:e.name,service:t,targetFps:e.fpstarget,urlStream:s?ft(e.url,"action","stream"):e.url,urlSnapshot:s?ft(e.url,"action","snapshot"):e.url,flipX:e.flipX,flipY:e.flipY,rotation:e.rotate?+e.rotate:0,enabled:e.enabled,height:e.height,targetFpsIdle:e.fpsidletarget};await S.Z.post("/server/database/item",{namespace:l.OH.MOONRAKER_DB.webcams.NAMESPACE,key:e.id,value:a})}await S.Z.post("/server/database/item",{namespace:l.OH.MOONRAKER_DB.fluidd.NAMESPACE,key:l.OH.MOONRAKER_DB.fluidd.ROOTS.cameras.name,value:{activeCamera:a||"all"}})}e("setActiveCamera",a||"all")},async initCameras({commit:e},t){const s=Object.entries(t).map((([e,t])=>({id:e,...t})));e("setInitCameras",{cameras:s})},async updateCamera({commit:e},t){""===t.id&&(t.id=(0,Re.Z)()),e("setCamera",t);const{id:s,...a}=t;c.r.serverWrite(s,a,l.OH.MOONRAKER_DB.webcams.NAMESPACE)},async removeCamera({commit:e,state:t},s){e("setRemoveCamera",s);const{id:a}=s;c.r.serverDelete(a,l.OH.MOONRAKER_DB.webcams.NAMESPACE),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.cameras.name+".activeCamera",t.activeCamera)},async updateActiveCamera({commit:e,state:t},s){e("setActiveCamera",s||"all"),c.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.cameras.name+".activeCamera",t.activeCamera)},async reloadMoonrakerWebcamsNamespace(){c.r.serverRead(void 0,l.OH.MOONRAKER_DB.webcams.NAMESPACE)}},bt={setReset(e){Object.assign(e,xt())},setInitCameras(e,t){t&&Object.assign(e,t)},setCamera(e,t){const s=e.cameras.findIndex((e=>e.id===t.id));s>=0?a["default"].set(e.cameras,s,t):e.cameras.push(t)},setRemoveCamera(e,t){const s=e.cameras.findIndex((e=>e.id===t.id));s>=0&&e.cameras.splice(s,1),e.activeCamera===t.id&&(e.activeCamera="all")},setActiveCamera(e,t){e.activeCamera=t}},xt=()=>({activeCamera:"all",cameras:[{id:(0,Re.Z)(),enabled:!1,name:"Default",service:"mjpegstreamer-adaptive",targetFps:15,targetFpsIdle:5,urlStream:"/webcam/?action=stream",urlSnapshot:"/webcam/?action=snapshot",flipX:!1,flipY:!1,rotation:0,aspectRatio:"16:9"}]}),$t=xt(),wt=!0,St={namespaced:wt,state:$t,getters:ht,actions:yt,mutations:bt},kt=(e,t,s=!1)=>{const a=e,r=a[t],i=[];let n=0,o=0,l=0,c=0;if(r&&r.length>=3&&r[0]&&r[0].length>=3&&a.mesh_min&&a.mesh_max){const e=(a.mesh_max[0]-a.mesh_min[0])/(r[0].length-1),t=(a.mesh_max[1]-a.mesh_min[1])/(r.length-1);let p=0,d=0;n=Math.min(...r.map((e=>Math.min(...e)))),l=Math.max(...r.map((e=>Math.max(...e)))),o=n<=0&&l>=0?0:(l+n)/2,c=Math.abs(n-l);for(const n of r){p=0;const r=a.mesh_min[1]+d*t;for(const t of n){const n=a.mesh_min[0]+p*e;p++,i.push({name:`x${p}_y${d}`,value:[n,r,s?o:t]})}d++}}return{coordinates:i,min:n,mid:o,max:l,variance:c}},Ct={getSupportsBedMesh:(e,t,s,a)=>void 0!==a["printer/getPrinterSettings"]("bed_mesh"),getBedMeshes:(e,t,s,a)=>{const r=[],i=s.printer.printer.bed_mesh.profile_name||"",n=a["printer/getPrinterConfig"]();if(s.printer.printer.bed_mesh&&i.length>0&&r.push({...s.printer.printer.bed_mesh,active:!0}),n){const e=Object.keys(n).filter((e=>e.startsWith("bed_mesh")));for(const t of e){if("bed_mesh"===t)continue;const e=t.split(" ").splice(1).join(" ");if(e!==i){const t={profile_name:e,active:!1};r.push(t)}}}return r.sort(((e,t)=>{const s=e.profile_name.toLowerCase(),a=t.profile_name.toLowerCase();return"default"===e.profile_name||"default"===t.profile_name?1:s<a?-1:s>a?1:0}))},getCurrentMeshData:(e,t,s)=>({mesh_matrix:kt(s.printer.printer.bed_mesh,"mesh_matrix"),probed_matrix:kt(s.printer.printer.bed_mesh,"probed_matrix"),mesh_matrix_flat:kt(s.printer.printer.bed_mesh,"mesh_matrix",!0),probed_matrix_flat:kt(s.printer.printer.bed_mesh,"probed_matrix",!0)})},Zt={async reset({commit:e}){e("setReset")},async onMatrix({commit:e},t){e("setMatrix",t)},async onScale({commit:e},t){e("setScale",t)},async onBoxScale({commit:e},t){e("setBoxScale",t)},async onWireframe({commit:e},t){e("setWireframe",t)},async onFlatSurface({commit:e},t){e("setFlatSurface",t)}},Pt={setReset(e){Object.assign(e,At())},setMatrix(e,t){e.matrix=t},setScale(e,t){e.scale=t},setBoxScale(e,t){e.boxScale=t},setWireframe(e,t){e.wireframe=t},setFlatSurface(e,t){e.flatSurface=t}},At=()=>({variance:0,wireframe:!1,scale:.2,boxScale:2,flatSurface:!1,matrix:"mesh_matrix"}),Rt=At(),Et=!0,Lt={namespaced:Et,state:Rt,getters:Ct,actions:Zt,mutations:Pt},Dt={getNotifications:(e,t)=>{let s=[...e.notifications].sort(((e,t)=>t.timestamp-e.timestamp));return s=s.concat(t.getAnnouncementsAsNotifications),[...s.filter((e=>"error"===e.type)),...s.filter((e=>"error"!==e.type))]},getAnnouncementsAsNotifications:(e,t,s,a)=>{const r=a["announcements/getAnnouncements"];return r.map((e=>({id:e.entry_id,type:"announcement",to:e.url,title:e.title,description:e.description,timestamp:e.date,clear:!0,merge:!0})))}},Tt={async reset({commit:e}){e("setReset")},async pushNotification({commit:e,state:t},s){const a={id:(0,Re.Z)(),type:"info",timestamp:(new Date).getTime()/1e3,clear:!0,merge:!1,...s};if(a.title&&"?"!==a.title&&a.id){const r=t.notifications.findIndex((e=>e.title===s.title));a.merge&&r>=0?e("setMergeNotification",{n:a,i:r}):e("setPushNotification",a),s.snackbar&&p.N.$emit(a.title,{type:p.o.error})}},async clearNotification({commit:e,dispatch:t},s){"object"!==typeof s||"announcement"!==s.type?e("setClearNotification",s):t("announcements/dismiss",{entry_id:s.id},{root:!0})},async clearAll({commit:e,dispatch:t}){e("setClearAllNotifications"),t("announcements/dismissAll",{},{root:!0})}},Mt={setReset(e){Object.assign(e,Ot())},setPushNotification(e,t){e.notifications.push(t)},setMergeNotification(e,t){t&&t.n&&t.i>=0&&a["default"].set(e.notifications,t.i,t.n)},setClearNotification(e,t){let s=-1;s="string"===typeof t?e.notifications.findIndex((e=>e.id===t)):e.notifications.findIndex((e=>e===t)),s>=0&&e.notifications.splice(s,1)},setClearAllNotifications(e){a["default"].set(e,"notifications",[...e.notifications.filter((e=>!e.clear))])}},Ot=()=>({notifications:[]}),It=Ot(),Ft=!0,Bt={namespaced:Ft,state:It,getters:Dt,actions:Tt,mutations:Mt},Nt={getAnnouncements:e=>e.entries.filter((e=>!e.dismissed))},Ut={async reset({commit:e}){e("setReset")},async init(){c.r.serverAnnouncementsList()},async onAnnouncementsList({commit:e},t){t&&e("setAnnouncementsList",t)},async onAnnouncementUpdate({commit:e},t){t&&e("setAnnouncementsList",t)},async onAnnouncementDismissed({commit:e},t){t&&e("setAnnouncementDismissed",{entry_id:t.entry_id,dismissed:!0})},async onAnnouncementWake({commit:e},t){t&&e("setAnnouncementDismissed",{entry_id:t.entry_id,dismissed:!1})},async dismiss(e,t){c.r.serverAnnouncementsDismiss(t.entry_id,t.wake_time)},async dismissAll({state:e}){const t=[...e.entries];t.forEach((async e=>await c.r.serverAnnouncementsDismiss(e.entry_id)))}},jt={setReset(e){Object.assign(e,Ht())},setAnnouncementsList(e,t){t.entries&&a["default"].set(e,"entries",t.entries),t.feeds&&a["default"].set(e,"feeds",t.feeds)},setAnnouncementDismissed(e,t){const s=[...e.entries],r=s.find((e=>e.entry_id===t.entry_id));r&&(r.dismissed=t.dismissed,t.dismissed?r.date_dismissed=(new Date).getTime():(r.date_dismissed=null,r.dismiss_wake=null)),a["default"].set(e,"entries",s)}},Ht=()=>({entries:[],feeds:[]}),Wt=Ht(),zt=!0,qt={namespaced:zt,state:Wt,getters:Nt,actions:Ut,mutations:jt},Vt={hasWait:e=>t=>{if(Array.isArray(t)&&t.length){let s=t;return s=s.filter((t=>e.waits.includes(t))),s.length>0}return e.waits.includes(t)},hasWaits:e=>e.waits.length>0,hasWaitsBy:e=>t=>{const s=e.waits.filter((e=>e.startsWith(t)));return s.length>0}},Gt={async reset({commit:e}){e("setReset")},async addWait({commit:e},t){e("setAddWait",t)},async removeWait({commit:e},t){e("setRemoveWait",t)}},Yt={setReset(e){Object.assign(e,Kt())},setAddWait(e,t){const s=e.waits.indexOf(t);-1===s&&e.waits.push(t)},setRemoveWait(e,t){const s=e.waits.indexOf(t);-1!==s&&e.waits.splice(s,1)}},Kt=()=>({waits:[]}),Xt=Kt(),Jt=!0,Qt={namespaced:Jt,state:Xt,getters:Vt,actions:Gt,mutations:Yt};var es,ts;(function(e){e["Clockwise"]="clockwise",e["CounterClockwise"]="counter-clockwise"})(es||(es={})),function(e){e["Relative"]="relative",e["Absolute"]="absolute"}(ts||(ts={}));const ss=(e,t,s=!1)=>{if(e.length<=1)return 0;let a=Math.floor(e.length/2),r=e.length-1,i=0;while(i<=r){const s=t(e[a],a,e);if(s>0)i=a+1;else{if(!(s<0))return a;r=a-1}a=Math.floor((i+r)/2)}return s?a:-1};function as(e,t){const s=Math.abs(e.x-t.x),a=Math.abs(e.y-t.y);return Math.sqrt(s**2+a**2)}function rs(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*(180/Math.PI)}function is(e,t){var s,a,r,i;const n={x:null!==(s=t.x)&&void 0!==s?s:e.x,y:null!==(a=t.y)&&void 0!==a?a:e.y},o={x:e.x+(null!==(r=t.i)&&void 0!==r?r:0),y:e.y+(null!==(i=t.j)&&void 0!==i?i:0)},l=as(e,o);let c=rs(o,e)-rs(o,n);switch(c>180?c-=360:c<-180&&(c+=360),t.direction){case es.Clockwise:return"A"+[l,l,0,Number(c<0),0,n.x,n.y].join(",");case es.CounterClockwise:return"M"+[n.x,n.y].join(",")+"A"+[l,l,0,Number(c>0),0,e.x,e.y].join(",")+"M"+[n.x,n.y].join(",");default:throw new TypeError("move has no direction")}}function ns(e,t){if(void 0!==t.i&&void 0!==t.j)return is(e,t);if(void 0!==t.r)throw new Error("Arcs with the R parameter are currently not supported. Please make a Github issue with some sample gcode so we can resolve this");throw new TypeError("Move is not a valid arc")}function os(e,t){var s,a;return Object.hasOwnProperty.call(t,"direction")?ns(e,t):`L${null!==(s=t.x)&&void 0!==s?s:e.x},${null!==(a=t.y)&&void 0!==a?a:e.y}`}const ls={getMoves:e=>e.moves,getFile:e=>e.file,getViewerOption:e=>t=>e.viewer[t],getParserProgress:e=>e.parserProgress,getLayers:(e,t,s)=>{const a=[],r=t.getMoves;let i=NaN,n=0,o=NaN;const{uiSettings:l}=s&&s.config?s.config:re.SB,c=l.gcodePreview.groupLowerLayers,p=c?(e,t)=>Number.isNaN(e)||e<t:(e,t)=>e!==t;for(let d=0;d<r.length;d++)void 0!==r[d].z&&i!==r[d].z&&(i=r[d].z,n=d),r[d].e>0&&p(o,i)&&(o=i,a.push({z:i,move:n,filePosition:r[d].filePosition}));return a},getBounds:(e,t)=>{var s,a;let r=t.getMoves;const i=t.getLayers,n=null===(s=i[i.length>1?1:0])||void 0===s?void 0:s.move,o=null===(a=i[i.length-1])||void 0===a?void 0:a.move;n&&o&&(r=r.slice(n,o));const l={x:{min:NaN,max:NaN},y:{min:NaN,max:NaN}},c=Number.isFinite;let p=0;for(;p<r.length&&!Object.values(l).every(c);p++){const e=r[p];c(e.x)&&(l.x.min=c(l.x.min)?Math.min(l.x.min,e.x):e.x,l.x.max=c(l.x.max)?Math.max(l.x.max,e.x):e.x),c(e.y)&&(l.y.min=c(l.y.min)?Math.min(l.y.min,e.y):e.y,l.y.max=c(l.y.max)?Math.max(l.y.max,e.y):e.y)}for(;p<r.length;p++){const e=r[p];c(e.x)&&(l.x.min=Math.min(l.x.min,e.x),l.x.max=Math.max(l.x.max,e.x)),c(e.y)&&(l.y.min=Math.min(l.y.min,e.y),l.y.max=Math.max(l.y.max,e.y))}return{x:{min:c(l.x.min)?l.x.min:0,max:c(l.x.max)?l.x.max:0},y:{min:c(l.y.min)?l.y.min:0,max:c(l.y.max)?l.y.max:0}}},getToolHeadPosition:(e,t)=>e=>{const s=Number.isFinite,a=t.getMoves,r={x:NaN,y:NaN,z:NaN};for(let t=e;t>=0&&(!s(r.x)||!s(r.y)||!s(r.z));t--)s(r.x)||void 0===a[t].x||(r.x=a[t].x),s(r.y)||void 0===a[t].y||(r.y=a[t].y),s(r.z)||void 0===a[t].z||(r.z=a[t].z);return{x:s(r.x)?r.x:0,y:s(r.y)?r.y:0,z:s(r.z)?r.z:0}},getPaths:(e,t)=>(e,s)=>{const a=t.getToolHeadPosition(e),r=t.getMoves,i={extrusions:"",moves:`M${a.x},${a.y}`,retractions:[],extrusionStarts:[],toolhead:{x:0,y:0}};let n=!0;for(let t=e;t<=s&&t<r.length;t++){const e=r[t];e.e>0?(n&&(i.extrusions+=`M${a.x},${a.y}`,i.extrusionStarts.push({x:a.x,y:a.y}),n=!1),i.extrusions+=os(a,e),Object.assign(a,e)):(n||(i.moves+=`M${a.x},${a.y}`,n=!0),e.e<0&&i.retractions.push({x:a.x,y:a.y}),i.moves+=os(a,e),Object.assign(a,e))}return i.toolhead={x:a.x,y:a.y},i},getLayerPaths:(e,t)=>e=>{var s,a,r,i;const n=t.getLayers;return t.getPaths(null!==(a=null===(s=n[e])||void 0===s?void 0:s.move)&&void 0!==a?a:0,(null!==(i=null===(r=n[e+1])||void 0===r?void 0:r.move)&&void 0!==i?i:1/0)-1)},getMoveIndexByFilePosition:(e,t)=>e=>e<=0?0:ss(t.getMoves,(t=>{var s;return e-(null!==(s=t.filePosition)&&void 0!==s?s:0)}),!0),getLayerNrByFilePosition:(e,t)=>e=>{const s=t.getLayers;for(let t=0;t<s.length-1;t++)if(e<s[t+1].filePosition)return t;return s.length-1}};var cs=s(17932);const ps={async reset({commit:e}){e("setReset")},async terminateParserWorker({commit:e,state:t}){if(t.parserWorker){const s=t.parserWorker;e("setParserWorker",null),await cs.jz.terminate(s)}},async loadGcode({commit:e,getters:t,state:a},r){var i;const o=await(0,cs.Cs)(new cs.Cc(new URL(s.p+s.u(590),s.b)));e("setParserWorker",o),o.progress().subscribe((t=>{e("setParserProgress",t)}));const l=new Promise(((e,t)=>{cs.jz.events(o).subscribe((t=>{"termination"===t.type&&e([])})),cs.jz.errors(o).subscribe(t)}));e("setParserProgress",0),e("setMoves",[]),e("setFile",r.file);try{e("setMoves",await Promise.race([l,o.parse(r.gcode)])),e("setParserProgress",null!==(i=r.file.size)&&void 0!==i?i:r.gcode.length)}catch(c){n().error("Parser worker error",c)}a.parserWorker&&(e("setParserWorker",null),await cs.jz.terminate(o)),0===t.getMoves.length&&e("clearFile")}},ds={setReset(e){Object.assign(e,us())},setMoves(e,t){a["default"].set(e,"moves",Object.freeze(t.map(Object.freeze)))},setFile(e,t){e.file=t},clearFile(e){e.file=void 0},setViewerState(e,t){for(const s of Object.keys(e.viewer))void 0!==t[s]&&a["default"].set(e.viewer,s,t[s])},setParserProgress(e,t){e.parserProgress=t},setParserWorker(e,t){e.parserWorker=t}},us=()=>({moves:[],file:void 0,parserProgress:0,parserWorker:null,viewer:{showCurrentLayer:!0,showNextLayer:!1,showPreviousLayer:!1,showMoves:!0,showExtrusions:!0,showRetractions:!0,followProgress:!1}}),ms=us(),hs=!0,gs={namespaced:hs,state:ms,getters:ls,actions:ps,mutations:ds};var fs=s(70019);const vs={getParts:e=>e.parts,getIsPartCurrent:e=>t=>e.currentPart===t,getIsPartExcluded:e=>t=>e.excludedParts.includes(t),getPartPos:(e,t)=>e=>{const s=t.getParts[e];return s.target},getPartSVG:(e,t)=>e=>{const s=t.getParts[e];let a="",r="M";return s.outline.forEach((e=>{a+=`${r}${e.x},${e.y}`,r="L"})),a+="z",a},getPrintState:e=>e.printState},_s={async reset({commit:e}){e("setReset")},async onPartUpdate({commit:e},t){e("partUpdate",t)},async onPrintStatsUpdate({commit:e},t){e("printStatsUpdate",t)}},ys={setReset(e){Object.assign(e,bs())},partUpdate(e,t){if("current_object"in t&&a["default"].set(e,"currentPart",t.current_object),"excluded_objects"in t&&a["default"].set(e,"excludedParts",t.excluded_objects),"objects"in t){const s={};t.objects.forEach((e=>{const t=e.name,a={name:t,outline:[],target:null};"center"in e&&2===e.center.length&&(a.target={x:e.center[0],y:e.center[1]}),"polygon"in e&&(a.outline=e.polygon.map((e=>({x:e[0],y:e[1]})))),s[t]=a})),a["default"].set(e,"parts",Object.freeze(s))}},printStatsUpdate(e,t){"state"in t&&a["default"].set(e,"printState",t.state)}},bs=()=>({parts:{},excludedParts:[],printState:"unknown"}),xs=bs(),$s=!0,ws={namespaced:$s,state:xs,getters:vs,actions:_s,mutations:ys},Ss={getWebcamsInConfig:e=>e.webcams.filter((e=>"config"===e.source))},ks={async reset({commit:e}){e("setReset")},async init(){c.r.serverWebcamsList()},async onWebcamsList({commit:e},t){t&&e("setWebcamsList",t)},async onWebcamsChanged({dispatch:e}){e("cameras/reloadMoonrakerWebcamsNamespace",void 0,{root:!0})}},Cs={setReset(e){Object.assign(e,Zs())},setWebcamsList(e,t){e.webcams=t.webcams||[]}},Zs=()=>({webcams:[]}),Ps=Zs(),As=!0,Rs={namespaced:As,state:Ps,getters:Ss,actions:ks,mutations:Cs};a["default"].use(r.ZP);const Es=new r.ZP.Store({strict:!1,modules:{socket:x,auth:M,server:H,printer:ae,config:re.vc,files:he,layout:ge.bK,charts:Ce,console:Ie,macros:We,power:Xe,history:rt,version:mt,cameras:St,mesh:Lt,notifications:Bt,announcements:qt,wait:Qt,gcodePreview:gs,timelapse:fs.Uo,parts:ws,webcams:Rs},mutations:{},actions:{async reset({dispatch:e},t){a["default"].$colorset.forceResetAll();const s=[],r=t||Object.keys(this.state);return r.forEach((t=>{this.hasModule(t)&&s.push(e(t+"/reset"))})),Promise.all(s)},async init({dispatch:e,commit:t},s){return t("version/setVersion","1.21.1"),t("version/setHash","3a80b5f\n"),t("socket/setApiConnected",s.apiConnected),[await e("config/initHost",s),await e("config/initLocal",s)]},void(e,t){n().debug("void action",t)}}})},36212:(e,t,s)=>{"use strict";s.d(t,{W2:()=>u,bK:()=>g});var a=s(57632),r=s(68652),i=s(52753);const n={getLayoutConfigById:e=>(t,s)=>{let a;for(const r in e.layouts[t]){if(a)break;const i=e.layouts[t][r];a=i.find((e=>e.id===s))}return a},getLayout:e=>t=>e.layouts[t]?(0,r.Z)(e.layouts[t]):t.startsWith("dashboard")?(0,r.Z)(e.layouts.dashboard):void 0,isEnabledInLayout:(e,t)=>(e,s)=>{var a,r,i;const n=Object.values(null!==(a=t.getLayout(e))&&void 0!==a?a:{}).flat();return null!==(i=null===(r=n.find((e=>e.id===s)))||void 0===r?void 0:r.enabled)&&void 0!==i&&i},getContainer:e=>(t,s)=>{if(e.layouts[t][s])return[...e.layouts[t][s]]},getConfig:(e,t)=>(e,s)=>{const a=t.getLayout(e);if(a)for(const t in a){const e=a[t].find((e=>e.id===s));if(e)return{...e}}},getSpecificLayoutName:(e,t,s,a)=>{const r=a["auth/getCurrentUser"];if(!r)return"dashboard";const n=i.Z.framework.breakpoint.name;return`dashboard-${n}-${r.username}`}};var o=s(61726),l=s(36796);const c={async reset({commit:e}){e("setReset")},async initLayout({commit:e},t){e("setInitLayout",t)},async onLayoutChange({commit:e,state:t},s){const a=t.layouts[s.name];(a||s.name.startsWith("dashboard"))&&(e("setLayoutChange",s),await o.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.layout.name+".layouts",t.layouts))},async onUpdateConfig({commit:e,state:t,dispatch:s},a){let r=t.layouts[a.name];if(r||(s("onLayoutChange",{name:a.name,value:t.layouts.dashboard}),r=t.layouts[a.name]),r)for(const i in r){const s=r[i].findIndex((e=>e.id===a.value.id));s>=0&&(e("setUpdateConfig",{name:a.name,container:i,i:s,value:a.value}),await o.r.serverWrite(l.OH.MOONRAKER_DB.fluidd.ROOTS.layout.name+`.layouts.${a.name}.${i}`,t.layouts[a.name][i]))}}};var p=s(20144);const d={setReset(e){Object.assign(e,u())},setInitLayout(e,t){if(t&&Object.keys(t).length>0){const s=u(),a=["dashboard"];for(const e of a){const a=s.layouts[e],r=Object.values(a).flat().map((e=>e.id)),i=Object.values(t.layouts[e]).flat().map((e=>e.id));for(const[s,n]of Object.entries(a)){const a=t.layouts[e][s]||[];t.layouts[e][s]=[...a.filter((e=>r.includes(e.id))),...n.filter((e=>!i.includes(e.id)))]}}for(const e of Object.keys(s.layouts).filter((e=>!a.includes(e))))t.layouts[e]||(t.layouts[e]=s.layouts[e]);Object.assign(e,t)}},setLayoutChange(e,t){p["default"].set(e.layouts,t.name,t.value)},setUpdateConfig(e,t){p["default"].set(e.layouts[t.name][t.container],t.i,t.value)}},u=()=>({layouts:{dashboard:{container1:[{id:"printer-status-card",enabled:!0,collapsed:!1},{id:"camera-card",enabled:!0,collapsed:!1},{id:"toolhead-card",enabled:!0,collapsed:!1},{id:"macros-card",enabled:!0,collapsed:!1},{id:"outputs-card",enabled:!0,collapsed:!1},{id:"printer-limits-card",enabled:!0,collapsed:!1},{id:"retract-card",enabled:!0,collapsed:!1}],container2:[{id:"temperature-card",enabled:!0,collapsed:!1},{id:"console-card",enabled:!0,collapsed:!1},{id:"jobs-card",enabled:!0,collapsed:!1},{id:"gcode-preview-card",enabled:!0,collapsed:!1},{id:"bed-mesh-card",enabled:!1,collapsed:!1}]},diagnostics:{container1:[{id:(0,a.Z)(),enabled:!0,title:"Speeds",collapsed:!1,height:300,icon:"motion",axes:[{enabled:!0,unit:"mm/s",showLegend:!0,metrics:[{collector:"printer.motion_report.live_velocity",name:"Velocity",style:{lineStyle:"solid",lineColor:"#2196f3",fillOpacity:0,displayLegend:!0}},{collector:"printer.toolhead.max_velocity",name:"Max Velocity",style:{lineStyle:"dotted",lineColor:"#0075d2",fillOpacity:0,displayLegend:!1}}]},{enabled:!0,unit:"mm³/s",showLegend:!0,max:20,metrics:[{collector:"printer.motion_report.live_extruder_velocity * Math.PI * (printer.configfile.settings.extruder.filament_diameter / 2) ** 2",name:"Flow",style:{lineStyle:"solid",lineColor:"#b12f36",fillOpacity:5,displayLegend:!0}},{collector:"12",name:"Max Flow",style:{lineStyle:"dashed",lineColor:"#820007",fillOpacity:0,displayLegend:!1}}]}]}]}}}),m=u(),h=!0,g={namespaced:h,state:m,getters:n,actions:c,mutations:d}},70019:(e,t,s)=>{"use strict";s.d(t,{W2:()=>u,Ao:()=>d,Uo:()=>g});const a={getSettings:e=>e.settings,getLastFrame:e=>e.lastFrame,getRenderStatus:e=>e.renderStatus,isBlockedSetting:e=>t=>{var s,a;return null===(a=null===(s=e.settings)||void 0===s?void 0:s.blockedsettings.includes(t))||void 0===a||a}};var r=s(61726),i=s(44652),n=s.n(i),o=s(58477),l=s(42365);const c={async reset({commit:e}){e("setReset")},async init(){r.r.timelapseState()},async onSettings({commit:e},t){e("setSettings",t)},async onLastFrame({commit:e},t){var s,a,r;const i=+(null!==(r=null===(a=null===(s=t.lastframefile)||void 0===s?void 0:s.match(/\d+/))||void 0===a?void 0:a[0])&&void 0!==r?r:0);e("setLastFrame",{count:t.framecount,uniqueCount:i,file:t.lastframefile})},async onEvent({commit:e},t){switch(t.action){case"newframe":if("error"===t.status)o.N.$emit(l.ZP.tc("app.timelapse.error.newframe"),{type:o.o.error});else{const s=parseInt(t.frame);e("setLastFrame",{count:s,uniqueCount:s,file:t.framefile})}break;case"render":{let s;switch(t.status){case"started":s={status:"started",count:t.framecount,settings:{frameRate:t.framerate,crf:t.crf,pixelFormat:t.pixelformat}};break;case"running":s={status:"running",progress:t.progress};break;case"success":s={status:"success",frameCount:t.framecount,fileName:t.filename,printFile:t.printfile,previewImage:t.previewimage,message:t.msg};break;default:return void n().warn("unhandled timelapse render status",t)}e("setRenderStatus",s);break}default:n().warn("unhandled timelapse event",t);break}}},p={setReset(e){Object.assign(e,u())},setSettings(e,t){e.settings=t},setLastFrame(e,t){e.lastFrame=t,e.renderStatus=void 0},setRenderStatus(e,t){e.renderStatus=t}},d={enabled:!0,mode:"layermacro",camera:"",stream_delay_compensation:.05,gcode_verbose:!1,parkhead:!1,parkpos:"back_left",park_custom_pos_x:10,park_custom_pos_y:10,park_custom_pos_dz:0,park_travel_speed:100,park_retract_speed:15,park_extrude_speed:15,park_retract_distance:1,park_extrude_distance:1,park_time:.1,fw_retract:!1,hyperlapse_cycle:30,autorender:!1,constant_rate_factor:23,output_framerate:30,pixelformat:"yuv420p",time_format_code:"%Y%m%d_%H%M",extraoutputparams:"",variable_fps:!1,targetlength:10,variable_fps_min:5,variable_fps_max:60,duplicatelastframe:5,previewimage:!0,saveframes:!1},u=()=>({lastFrame:void 0,settings:{...d,snapshoturl:"http://localhost:8080/?action=snapshot",rotation:0,flip_x:!1,flip_y:!1,blockedsettings:[]},renderStatus:void 0}),m=u(),h=!0,g={namespaced:h,state:m,getters:a,actions:c,mutations:p}},18706:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=(e,t)=>{let s=e.substr(0,e.lastIndexOf("/"));return s=s&&s.startsWith(t)?s.substring(t.length):s,{filename:e.split("/").pop()||"",path:s,rootPath:0===s.length?t:t+"/"+s}}},18939:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});const a=e=>{const t=["temperature_fan","controller_fan","heater_fan","fan_generic","fan"],s=["temperature_sensor","temperature_probe"],a=["heater_generic","extruder"],r=["heater_bed"];return t.some((t=>e.startsWith(t)))?"fan":s.some((t=>e.startsWith(t)))?"sensor":a.some((t=>e.startsWith(t)))?"heater":r.some((t=>e.startsWith(t)))?"bed":""}},68036:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});const a={app:{bedmesh:{label:{active:"active",box_scale:"Box scale",flat_surface:"Show flat plane",mesh_matrix:"Mesh matrix",probed_matrix:"Probed matrix",profile_name:"Profile Name",remove_profile:"Remove %{name} profile",scale:"Color scale",wireframe:"Wireframe"},msg:{hint:"If saving as something other than %{name}, you can choose to also remove the %{name} profile",not_found:"No existing bed meshes found.",not_loaded:"No mesh loaded"},tooltip:{calibrate:"Begins a new calibration, saving as profile 'default'",delete:"Delete Profile. This WILL restart your printer",load:"Load Profile",save:"Commits calibrated profile to printer.cfg. This WILL restart your printer"}},chart:{label:{current:"Actual",item:"Name",off:"Chart off",on:"Chart on",power:"Power",target:"Target",rate_of_change:"Change"},tooltip:{help:"Hold shift to zoom.<br />Click an item to toggle in the graph.<br />Click a power to toggle in the graph."}},console:{label:{auto_scroll:"Auto scroll",flip_layout:"Flip layout",hide_temp_waits:"Hide temp waits"},placeholder:{command:"'tab' for autocomplete, 'help' for commands 'arrows' for history"}},endpoint:{error:{cant_connect:"Something went wrong, and fluidd can't reach the destination. Are you sure this is the correct address?",cors_error:"blocked by CORS policy",cors_note:'This may mean you need to modify your moonraker configuration. Please see the documentation on multi printer setups <a href="%{url}" target="_blank">here</a>'},hint:{add_printer:"E.g., http://fluiddpi.local"},msg:{trouble:'Having trouble? <a href="%{url}" target="_blank">See here</a> for more information.'},tooltip:{endpoint_examples:"Enter your API URL.<br />Some examples might be;<br /><blockquote>fluidd.local, https://192.168.1.150</blockquote>"}},endstop:{label:{open:"OPEN",triggered:"TRIGGERED"},msg:{subtitle:"Use the refresh button to update endstop status."}},file_system:{filters:{label:{print_start_time:"Filter printed",print_start_time_desc:"Filters out items you've already printed.",hidden_files:"Filter hidden files",klipper_backup_files:"Filter Klipper backup files"}},label:{dir_name:"Directory name",disk_usage:"Disk Usage",diskinfo:"Disk Information",downloaded:"Downloaded",file_name:"Filename",transfer_rate:"Transfer rate",uploaded:"Uploaded",view_section_documentation:"View '%{section}' documentation"},msg:{confirm:"Are you sure? This will delete all files and folders.",not_found:"No files found",processing:"Processing"},overlay:{label:"<strong>Drag</strong> a file here"},title:{add_dir:"Add Directory",add_file:"Add File",command_palette:"Command Palette",download_file:"Retrieving file",rename_dir:"Rename Directory",rename_file:"Rename File",upload_file:"Uploading file | Uploading files"},tooltip:{low_on_space:"Low on disk space",root_disabled:"{root} root is not available. Please check your logs."},url:{klipper_config:"https://www.klipper3d.org/Config_Reference.html#%{hash}",moonraker_config:"https://moonraker.readthedocs.io/en/latest/configuration/#%{hash}",moonraker_telegram_bot_config:"https://github.com/nlef/moonraker-telegram-bot/wiki/Sample-config#%{hash}"}},gcode:{btn:{load_current_file:"Load Current File"},label:{current_layer_height:"Current Layer Height",exclude_object:"Exclude Object",follow_progress:"Follow progress",layer:"Layer",layers:"Layers",parsed:"Parsed",show_current_layer:"Show current layer",show_extrusions:"Show extrusions",show_moves:"Show moves",show_next_layer:"Show next layer",show_previous_layer:"Show previous layer",show_retractions:"Show retractions",parsing_file:"Parsing file"},msg:{confirm:'The file "%{filename}" is %{size}, this might be resource intensive for your system. Are you sure?'}},general:{btn:{abort:"Abort",accept:"Accept",add:"Add",add_dir:"Add Directory",add_file:"Add File",add_printer:"Add printer",adjust_layout:"Adjust dashboard layout",adjusted:"Adjusted",all:"All",auth_unsure:"Unsure why you're seeing this?",calibrate:"Calibrate",cancel:"Cancel",clear_profile:"Clear Profile",close:"Close",config_reference:"Config Reference",delete:"Delete",download:"Download",edit:"Edit",exit_layout:"Exit layout mode",extrude:"Extrude",forgot_password:"Forgotten your password?",heaters_off:"Heaters off",load_all:"Load all",login:"Login",logout:"Logout",more_information:"More information",pause:"Pause",preheat:"Preheat",presets:"Presets",preview_gcode:"Preview Gcode",print:"Print",quad_gantry_level:"QGL",reboot:"Reboot",recover:"Recover",refresh:"Refresh",remove:"Remove",remove_all:"Remove All",rename:"Rename",reprint:"Re-Print",reset_file:"Clear File",reset_layout:"Reset to Default Layout",reset_default_layout:"Reset Default Layout",restart_firmware:"Firmware Restart",restart_service:"Restart %{service}",restart_service_klipper:"Restart Klipper",restart_service_moonraker:"Restart Moonraker",resume:"Resume",retract:"Retract",return_dashboard:"Return to the dashboard",save:"Save",save_as:"Save As",save_restart:"Save & Restart",save_config_and_restart:"Save config & restart",send:"Send",set_color:"Set Color",set_default_layout:"Set as Default Layout",shutdown:"Shutdown",snooze:"Snooze",socket_reconnect:"Re-Connect",socket_refresh:"Force refresh",upload:"Upload",upload_print:"Upload & Print",view:"View",reset_stats:"Reset Stats"},error:{app_setup_link:'Fluidd setup requirements can be found <a target="_blank" href="%{url}">here.</a>',app_warnings_found:"%{appName} warnings found.",components_config:'Moonraker plugin configuration can be found <a target="_blank" href="%{url}">here.</a>',failed_components:"Moonraker has failed plugins, please check your logs, update your configuration and restart moonraker."},label:{accel_to_decel:"Accel to Decel",acceleration:"Acceleration",accepted_screws:"Accepted screws",actual_time:"Actual",add_camera:"Add Camera",add_filter:"Add Filter",add_preset:"Add Preset",add_user:"Add user",api_key:"Api Key",api_url:"API URL",auth_source:"Authentication Source",category:"Category",change_password:"Change password",clear_all:"Clear all",color:"Color",confirm:"Confirm",current_password:"Current password",current_user:"Current user",disabled_while_printing:"Disabled while printing",edit_camera:"Edit Camera",edit_filter:"Edit Filter",edit_preset:"Edit Preset",edit_user:"Edit user",extrude_length:"Extrude Length",extrude_speed:"Extrude Speed",filament:"Filament",file:"File",finish_time:"Finish",flow:"Flow",free:"free",heaters_busy:"The printer is currently busy. Turning off the heaters may result in a failed print.",high:"High",host:"Host",layer:"Layer",layout:"Layout",ldap:"LDAP",longest_job:"Longest job",low:"Low",manage_accounts:"Manage Accounts",user_managed_source:"User managed by %{source} authentication",m117:"M117",moonraker:"Moonraker",name:"Name",new_password:"New password",no_notifications:"No notifications",on:"On",off:"Off",password:"Password",partial_of_total:"%{partial} of %{total}",power:"Power",pressure_advance:"Pressure Advance",printers:"Printers",progress:"Progress",requested_speed:"Speed",retract_length:"Retract Length",retract_speed:"Retract Speed",save_as:"Save As",screw_index:"Screw index",screw_name:"Screw name",screw_number:"Screw %{index}",services:"Services",slicer:"Slicer",smooth_time:"Smooth Time",speed:"Speed",sqv:"Square Corner Velocity",thumbnail_size:"Thumbnail Size",total:"Total",total_filament:"Total filament used",total_filament_avg:"Avg per print",total_jobs:"Total print jobs",total_print_time:"Total print time",total_print_time_avg:"Avg per print",total_time:"Total time",total_time_avg:"Avg per print",turn_device_on:"Turn %{device} on",turn_device_off:"Turn %{device} off",uncategorized:"Uncategorized",unretract_extra_length:"Unretract Extra Length",unretract_speed:"Unretract Speed",used:"used",username:"Username",variance:"Variance",velocity:"Velocity",visible:"Visible",z_offset:"Z Offset",unsaved_changes:"Unsaved Changes",alias:"Alias",apply_z_offset:"Apply and Save Z_Offset",edit_category:"Edit category",add_category:"Add category",file_time:"File"},msg:{password_changed:"Password changed",wrong_password:"Oops, something went wrong. Is your password correct?",bed_screws_adjust:"Click <b>Adjusted</b> if a significant adjustment is necessary on the current screw; otherwise, click <b>Accept</b> to continue.",welcome_back:"Welcome back.<br>Sign in below to stay in touch with your printer."},simple_form:{error:{arrayofnums:"Only numbers",credentials:"Invalid credentials",exists:"Already exists",invalid_number:"Invalid Number",invalid_url:"Invalid URL",invalid_expression:"Invalid Expression",max:"Max %{max}",min:"Min %{min}",min_or_0:"Min %{min} or 0",password_username:"Cannot match username",required:"Required",invalid_aspect:"Invalid Aspect Ratio"},msg:{confirm:"Are you sure?",confirm_exclude_object:"Are you sure you want to exclude this object from printing?",confirm_forcemove_toggle:"Are you sure? This can damage the printer.",confirm_reboot_host:"Are you sure? This will reboot your host system.",confirm_shutdown_host:"Are you sure? This will shutdown your host system.",confirm_service_restart:"Are you sure you want to restart the %{name} service?",confirm_service_stop:"Are you sure you want to stop the %{name} service?",confirm_power_device_toggle:"Are you sure? This will toggle the power of this device.",unsaved_changes:"You have unsaved changes. Are you sure you want to close this file?",apply_z_offset_endstop:"Endstop Z-Offset will be calculated and updated from the current Z-Offset.",apply_z_offset_probe:"Probe/Bltouch Z-Offset will be calculated and updated from the current Z-Offset.",no_file_preview:"%{name} cannot currently be previewed."}},table:{header:{actions:"Actions",chamber_temp:"Chamber temp",end_time:"Ended",estimated_time:"Estimated time",filament:"Filament",filament_name:"Filament name",filament_type:"Filament type",filament_used:"Used filament",filament_weight_total:"Filament weight",first_layer_bed_temp:"First layer bed temp",first_layer_extr_temp:"First layer extruder temp",first_layer_height:"First layer height",height:"Height",last_printed:"Last printed",layer_height:"Layer height",modified:"Modified",name:"Name",nozzle_diameter:"Nozzle diameter",print_duration:"Print duration",size:"Size",slicer:"Slicer",slicer_version:"Slicer version",start_time:"Started",status:"Status",total_duration:"Total duration"}},title:{add_chart:"Add Chart",add_printer:"Add Printer",bedmesh:"Bed Mesh",bedmesh_controls:"Bed Mesh Controls",camera:"Camera | Cameras",config_files:"Configuration Files",configure:"Configuration",console:"Console",diagnostics:"Diagnostics",edit_chart:"Edit Chart",endstops:"Endstops",fans_outputs:"Fans & Outputs",gcode_preview:"Gcode Preview",history:"History",home:"Home",jobs:"Jobs",limits:"Printer Limits",macros:"Macros",metrics_explorer:"Metrics Explorer",not_found:"404 Not Found",other_files:"Other Files",pending_configuration_changes:"Pending Configuration Changes",retract:"Firmware Retraction",runout_sensors:"Runout Sensors",settings:"Settings",stats:"Printer Stats",system:"System",system_overview:"System Information",temperature:"Thermals",timelapse:"Timelapse",tool:"Tool",tune:"Tune"},tooltip:{browse_metrics:"Browse available metrics",estop:"Emergency Stop",managed_by_moonraker:"Managed by your moonraker configuration",notifications:"Notifications",reload_klipper:"Reloads klipper configuration.",reload_restart_klipper:"Reloads klipper configuration and restarts MCU's.",restart_klipper:"Restarts the klipper system service.",run_collector:"Run collector"}},history:{msg:{confirm_jobs:"Are you sure? This will clear all jobs.",confirm_stats:"Are you sure? This will clear all stats."}},printer:{state:{busy:"Busy",cancelled:"Cancelled",complete:"Complete",idle:"Idle",loading:"Loading",paused:"Paused",printing:"Printing",ready:"Ready",standby:"Standby"}},setting:{btn:{add_camera:"Add Camera",add_category:"Add Category",add_filter:"Add Filter",add_metric:"Add Metric",add_thermal_preset:"Add Preset",add_user:"Add user",reset:"Reset",select_theme:"Select Theme"},camera_type_options:{mjpegadaptive:"MJPEG Adaptive",mjpegstream:"MJPEG Stream",video:"IP Camera",iframe:"HTTP page"},camera_rotate_options:{90:"90°",180:"180°",270:"270°",none:"None"},label:{all_off:"All off",all_on:"All on",aspect_ratio:"Aspect Ratio",aspect_ratio_format:"[width : height]",auto_edit_extensions:"Extensions to automatically open in edit mode",auto_follow_on_file_load:"Automatically follow progress on file load",auto_load_on_print_start:"Automatically load file on print start",axes:"Axes",camera_flip_x:"Flip horizontally",camera_flip_y:"Flip vertically",camera_fullscreen_action:{title:"Fullscreen action",embed:"Embed",rawstream:"Raw stream"},camera_rotate_by:"Rotate by",camera_stream_type:"Stream type",camera_url:"Camera Url",card:"Card",collector:"Collector",confirm_on_estop:"Require confirm on Emergency Stop",confirm_on_power_device_change:"Require confirm on Device Power changes",confirm_on_save_config_and_restart:"Review Pending Configuration Changes before Save and Restart",confirm_dirty_editor_close:"Require confirm when closing the editor with unsaved changes",contains:"Contains",dark_mode:"Dark mode",dashed:"Dashed",default_extrude_length:"Default extrude length",default_extrude_speed:"Default extrude speed",default_toolhead_move_length:"Default toolhead move length",default_toolhead_xy_speed:"Default toolhead XY speed",default_toolhead_z_speed:"Default toolhead Z speed",dotted:"Dotted",draw_background:"Draw Background",enable:"Enable",enable_diagnostics:"Enable diagnostics",enable_notifications:"Enable notifications",expression:"Expression",extrusion_line_width:"Extrusion Line Width",flip_horizontal:"Horizontal Flip",flip_vertical:"Vertical Flip",fill_color:"Fill color",fill_opacity:"Fill opacity",filter:"Filter | Filters",fps_target:"FPS Target",fps_idle_target:"FPS Target when not in focus",height:"Height",gcode_coords:"Use GCode Coordinates",group_lower_layers:"Group lower layers",icon:"Icon",invert_x_control:"Invert X control",invert_y_control:"Invert Y control",invert_z_control:"Invert Z control",language:"Display Language",last_result:"Last result",left_y:"Left Y-Axis",line_color:"Line color",line_style:"Line style",min:"Minimum",max:"Maximum",metrics:"Metrics",move_line_width:"Move Line Width",name:"Name",none:"None",optional:"Optional",power_toggle_in_top_nav:"Power toggle in top navigation",primary_color:"Primary color",printer_name:"Printer Name",reset:"Reset settings",retraction_icon_size:"Retraction Icon Size",right_y:"Right Y-Axis",show_animations:"Show animations",show_barometric_pressure:"Show barometric pressure",show_code_lens:"Show CodeLens",show_legend:"Show legend",show_rate_of_change:"Show temperature rate of change",show_relative_humidity:"Show relative humidity",show_save_config_and_restart:"Save Config and Restart button in top navigation",solid:"Solid",starts_with:"Starts with",theme_preset:"Community preset",thermal_preset_gcode:"GCode",thermal_preset_name:"Preset Name",title:"Title",toolhead_move_distances:"Toolhead distance values",type:"Type",unit:"Unit",z_adjust_values:"Z Adjust values",date_time_format:"Date and Time format",force_move_toggle_warning:"Require confirm when activating FORCE_MOVE",show_manual_probe_dialog_automatically:"Show Manual Probe dialog automatically",show_bed_screws_adjust_dialog_automatically:"Show Bed Screws Adjust dialog automatically"},timer_options:{duration:"Duration only",filament:"Filament Estimation",file:"File Estimation",slicer:"Slicer"},title:{authentication:"Authentication",console:"Console",camera:"Camera | Cameras",file_editor:"File Editor",gcode_preview:"Gcode Preview",general:"General",macros:"Macros",theme:"Theme",thermal_presets:"Thermal Presets",tool:"Tool"},tooltip:{diagnostics_performance:"[BETA] Logging diagnostics info may impact performance",gcode_coords:"Use GCode position instead of toolhead position on dashboard",show_manual_probe_dialog_automatically:"Automatically shows helper dialog if running a Manual Probe tool",show_bed_screws_adjust_dialog_automatically:"Automatically shows helper dialog if running BED_SCREWS_ADJUST tool"}},socket:{msg:{connecting:"Connecting to moonraker...",no_connection:"No moonraker connection. Please check moonraker status and / or refresh."}},system_info:{label:{capacity:"Capacity",cpu_desc:"CPU Description",distribution_codename:"Codename",distribution_like:"Distribution Like",distribution_name:"Distribution",frequency:"Frequency",hardware_desc:"Hardware Description",hostname:"Hostname",klipper_load:"Klipper Load",manufactured:"Manufactured",manufacturer:"Manufacturer",mcu_awake:"{mcu} Awake Time",mcu_bandwidth:"{mcu} Bandwidth",mcu_information:"{mcu} Information",mcu_load:"{mcu} Load",micro_controller:"Micro-Controller",model:"CPU Model",moonraker_load:"Moonraker Load",processor_desc:"Processor",product_name:"Product Name",serial_number:"Serial Number",system_load:"System Load",system_memory:"System Memory",system_utilization:"System Utilization",total_memory:"Total Memory",version:"Version"}},tool:{btn:{home_x:"X",home_y:"Y",home_all:"All"},title:{bed_screws_adjust:"Bed Screws Adjust",manual_probe:"Manual Probe"},tooltip:{absolute_positioning:"Absolute Positioning",extruder_disabled:"extruder disabled, below min_extrude_temp (%{min}<small>°C</small>)",home_xy:"Home XY",home_z:"Home Z",manual_probe:"Manual Probe",motors_off:"MOTORS OFF",z_tilt_adjust:"Z_Tilt_Adjust",quad_gantry_level:"QGL",relative_positioning:"Relative Positioning",screws_tilt_calculate:"Screws_Tilt_Calculate",bed_screws_adjust:"BED_SCREWS_ADJUST",force_move:"FORCE_MOVE"}},version:{btn:{check_for_updates:"Check for updates",finish:"Finish",update:"Update",update_all:"Update all",view_versions:"View versions"},label:{commit_history:"Commit History",commits_on:"commits on",committed:"Committed",dirty:"DIRTY",invalid:"INVALID",os_packages:"OS Packages",package_list:"Package List",up_to_date:"UP TO DATE",updates_available:"Updates are available"},status:{finished:"Updates finished",updating:"Updating..."},title:"Software Updates",tooltip:{commit_history:"Commit history",dirty:"indicates a detached head, not on master or an invalid origin",invalid:"indicates local changes to the repo",packages:"Packages",release_notes:"Release notes"}},timelapse:{btn:{render:"Render",save_frames:"Save Frames"},error:{newframe:"Error taking timelapse frame"},label:{frames:"%{frames} frame | %{frames} frames",length:"Estimated length: %{length}",frame:"Frame | Frames"},title:{timelapse_settings:"Timelapse Settings",timelapse_status:"Timelapse Status",render_settings:"Render Settings"},setting:{enable:"Enabled",auto_render:"Auto Render",crf:"Constant Rate Factor",duplicatelastframe:"Duplicate last frames",fw_retract:"Use Firmware Retraction",gcode_verbose:"Verbose Gcode",mode:"Mode",mode_layermacro:"Layer Macro",mode_hyperlapse:"Hyperlapse",hyperlapse_cycle:"Hyperlapse Cycle",output_framerate:"Output Framerate",park_retract_distance:"Park Retraction Distance",park_retract_speed:"Park Retraction Speed",park_extrude_distance:"Park Extrude Distance",park_extrude_speed:"Park Extrude Speed",parkhead:"Park Head",park_time:"Park Time",park_travel_speed:"Park Travel Speed",park_custom_pos_x:"Park Position X",park_custom_pos_y:"Park Position Y",park_custom_pos_dz:"Park Position Z-Hop",parkpos:{label:"Park Position",custom:"Custom",front_left:"Front Left",front_right:"Front Right",center:"Center",back_left:"Back Left",back_right:"Back Right"},previewimage:"Generate Thumbnail",saveframes:"Save Frames",stream_delay_compensation:"Delay Compensation",targetlength:"Target Length",variable_fps:"Variable FPS",variable_fps_min:"Minimum Framerate",variable_fps_max:"Maximum Framerate"}}}}},36708:(e,t,s)=>{var a={"./common/AddInstanceDialog.vue":83737,"./common/AppWarnings.vue":71619,"./common/BedScrewsAdjustDialog.vue":61009,"./common/CollapsableCard.vue":98815,"./common/FlashMessage.vue":47910,"./common/KlippyStatusCard.vue":53594,"./common/ManualProbeDialog.vue":83370,"./common/SocketDisconnected.vue":79477,"./common/SystemCommands.vue":57388,"./common/SystemControl.vue":16441,"./common/SystemLayout.vue":55754,"./common/SystemPrinters.vue":40025,"./common/UpdatingDialog.vue":16231,"./layout/AppAnnouncementDismissMenu.vue":14164,"./layout/AppBar.vue":90786,"./layout/AppFooter.vue":82588,"./layout/AppNavDrawer.vue":87528,"./layout/AppNotificationMenu.vue":89633,"./layout/AppSaveConfigAndRestartBtn.vue":47215,"./layout/AppSettingsNav.vue":81380,"./layout/AppToolsDrawer.vue":908,"./layout/AppUserMenu.vue":10981,"./ui/AppBtn.vue":38062,"./ui/AppBtnCollapse.vue":84534,"./ui/AppBtnCollapseGroup.vue":80138,"./ui/AppBtnGroup.vue":20955,"./ui/AppBtnToolheadMove.vue":99396,"./ui/AppChart.vue":37354,"./ui/AppCodeView.vue":64440,"./ui/AppColorPicker.vue":36956,"./ui/AppColumnPicker.vue":37796,"./ui/AppIcon.vue":59232,"./ui/AppInlineHelp.vue":53691,"./ui/AppIroColorPicker.vue":29301,"./ui/AppMacroBtn.vue":18082,"./ui/AppNamedInput.vue":23393,"./ui/AppNavItem.vue":97918,"./ui/AppQrCode.vue":63273,"./ui/AppSetting.vue":27228,"./ui/AppSlider.vue":93468,"./ui/AppSwitch.vue":28181,"./ui/AppTable.vue":37245};function r(e){var t=i(e);return s(t)}function i(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=36708},51465:(e,t,s)=>{var a={"./ar.yaml":[50299,179],"./cn.yaml":[49770,372],"./cz.yaml":[85453,864],"./de.yaml":[66074,556],"./en.yaml":[68036],"./es.yaml":[87440,740],"./fr.yaml":[15238,895],"./hu.yaml":[67045,101],"./it.yaml":[95202,340],"./ja.yaml":[22342,801],"./ko.yaml":[29164,382],"./nl.yaml":[62186,992],"./pt.yaml":[26280,927],"./ru.yaml":[69339,223],"./uk.yaml":[36417,750],"./zh-HK.yaml":[2393,89]};function r(e){if(!s.o(a,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(s.e)).then((()=>s(r)))}r.keys=()=>Object.keys(a),r.id=51465,e.exports=r}},t={};function s(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,s),i.exports}s.m=e,(()=>{s.amdO={}})(),(()=>{var e=[];s.O=(t,a,r,i)=>{if(!a){var n=1/0;for(p=0;p<e.length;p++){a=e[p][0],r=e[p][1],i=e[p][2];for(var o=!0,l=0;l<a.length;l++)(!1&i||n>=i)&&Object.keys(s.O).every((e=>s.O[e](a[l])))?a.splice(l--,1):(o=!1,i<n&&(n=i));if(o){e.splice(p--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[a,r,i]}})(),(()=>{s.F={},s.E=e=>{Object.keys(s.F).map((t=>{s.F[t](e)}))}})(),(()=>{s.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return s.d(t,{a:t}),t}})(),(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var i=Object.create(null);s.r(i);var n={};e=e||[null,t({}),t([]),t(t)];for(var o=2&r&&a;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>n[e]=()=>a[e]));return n["default"]=()=>a,s.d(i,n),i}})(),(()=>{s.d=(e,t)=>{for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,a)=>(s.f[a](e,t),t)),[]))})(),(()=>{s.u=e=>"js/"+({28:"vue-echarts",85:"grammar-log-tmLanguage-json",89:"locale-zh-HK-yaml",101:"locale-hu-yaml",179:"locale-ar-yaml",223:"locale-ru-yaml",340:"locale-it-yaml",372:"locale-cn-yaml",382:"locale-ko-yaml",404:"monaco-editor",503:"grammar-gcode-tmLanguage-json",511:"grammar-klipper-config-tmLanguage-json",556:"locale-de-yaml",740:"locale-es-yaml",750:"locale-uk-yaml",801:"locale-ja-yaml",864:"locale-cz-yaml",895:"locale-fr-yaml",927:"locale-pt-yaml",992:"locale-nl-yaml"}[e]||e)+"."+{28:"cd725017",85:"7dfe84f8",89:"dd9916d0",101:"dee7368b",179:"894eb7de",223:"1736078b",340:"551a04c7",372:"5466641b",382:"b7f6a9f0",404:"ef90f86b",503:"9ab88758",511:"efc4d931",556:"0d65237b",590:"1ea2690e",740:"e81515c4",750:"923706d9",801:"97711b5c",864:"777de464",895:"c91f9c30",927:"008d1979",954:"0da614b1",992:"5cb5ceb3"}[e]+".js"})(),(()=>{s.miniCssF=e=>"css/monaco-editor.e3c8fcf3.css"})(),(()=>{s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="fluidd:";s.l=(a,r,i,n)=>{if(e[a])e[a].push(r);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),p=0;p<c.length;p++){var d=c[p];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+i){o=d;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",t+i),o.src=a),e[a]=[r];var u=(t,s)=>{o.onerror=o.onload=null,clearTimeout(m);var r=e[a];if(delete e[a],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(s))),t)return t(s)},m=setTimeout(u.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=u.bind(null,o.onerror),o.onload=u.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),(()=>{s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{s.p="/"})(),(()=>{var e=(e,t,s,a)=>{var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var i=i=>{if(r.onerror=r.onload=null,"load"===i.type)s();else{var n=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=n,l.request=o,r.parentNode.removeChild(r),a(l)}};return r.onerror=r.onload=i,r.href=t,document.head.appendChild(r),r},t=(e,t)=>{for(var s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var r=s[a],i=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var n=document.getElementsByTagName("style");for(a=0;a<n.length;a++){r=n[a],i=r.getAttribute("data-href");if(i===e||i===t)return r}},a=a=>new Promise(((r,i)=>{var n=s.miniCssF(a),o=s.p+n;if(t(n,o))return r();e(a,o,r,i)})),r={143:0};s.f.miniCss=(e,t)=>{var s={404:1};r[e]?t.push(r[e]):0!==r[e]&&s[e]&&t.push(r[e]=a(e).then((()=>{r[e]=0}),(t=>{throw delete r[e],t})))}})(),(()=>{s.b=document.baseURI||self.location.href;var e={143:0};s.f.j=(t,a)=>{var r=s.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var i=new Promise(((s,a)=>r=e[t]=[s,a]));a.push(r[2]=i);var n=s.p+s.u(t),o=new Error,l=a=>{if(s.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var i=a&&("load"===a.type?"missing":a.type),n=a&&a.target&&a.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+n+")",o.name="ChunkLoadError",o.type=i,o.request=n,r[1](o)}};s.l(n,l,"chunk-"+t,t)}},s.F.j=t=>{if(!s.o(e,t)||void 0===e[t]){e[t]=null;var a=document.createElement("link");s.nc&&a.setAttribute("nonce",s.nc),a.rel="prefetch",a.as="script",a.href=s.p+s.u(t),document.head.appendChild(a)}},s.O.j=t=>0===e[t];var t=(t,a)=>{var r,i,n=a[0],o=a[1],l=a[2],c=0;if(n.some((t=>0!==e[t]))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(l)var p=l(s)}for(t&&t(a);c<n.length;c++)i=n[c],s.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return s.O(p)},a=self["webpackChunkfluidd"]=self["webpackChunkfluidd"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),(()=>{s.O(0,[143],(()=>{s.E(28),s.E(404)}),5)})();var a=s.O(void 0,[998],(()=>s(20806)));a=s.O(a)})();
//# sourceMappingURL=app.56a986e8.js.map